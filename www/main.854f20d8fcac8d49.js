(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7247:(lt,rt,C)=>{"use strict";C.d(rt,{nm:()=>Dr});var c=C(8883),W=(C(6689),C(8726),C(3182),C(5861)),V=C(534),O=C(4537),N=C(9058),M=C(7879);const _=new Map,A={activated:!1,tokenObservers:[]},S={initialized:!1,enabled:!1};function P(yt){return _.get(yt)||Object.assign({},A)}function X(){return S}const be="https://content-firebaseappcheck.googleapis.com/v1",Me="exchangeDebugToken",we={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ye{constructor(Q,ue,ae,q,ge){if(this.operation=Q,this.retryPolicy=ue,this.getWaitDuration=ae,this.lowerBound=q,this.upperBound=ge,this.pending=null,this.nextErrorWaitInterval=q,q>ge)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Q){var ue=this;return(0,W.Z)(function*(){ue.stop();try{ue.pending=new N.BH,yield function Re(yt){return new Promise(Q=>{setTimeout(Q,yt)})}(ue.getNextRun(Q)),ue.pending.resolve(),yield ue.pending.promise,ue.pending=new N.BH,yield ue.operation(),ue.pending.resolve(),yield ue.pending.promise,ue.process(!0).catch(()=>{})}catch(ae){ue.retryPolicy(ae)?ue.process(!1).catch(()=>{}):ue.stop()}})()}getNextRun(Q){if(Q)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ue=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ue}}}const Ae=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function st(yt){if(!P(yt).activated)throw Ae.create("use-before-activation",{appName:yt.name})}function Ie(yt,Q){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,W.Z)(function*({url:yt,body:Q},ue){const ae={"Content-Type":"application/json"},q=ue.getImmediate({optional:!0});if(q){const cn=yield q.getHeartbeatsHeader();cn&&(ae["X-Firebase-Client"]=cn)}const ge={method:"POST",body:JSON.stringify(Q),headers:ae};let Oe,nt;try{Oe=yield fetch(yt,ge)}catch(cn){throw Ae.create("fetch-network-error",{originalErrorMessage:null==cn?void 0:cn.message})}if(200!==Oe.status)throw Ae.create("fetch-status-error",{httpStatus:Oe.status});try{nt=yield Oe.json()}catch(cn){throw Ae.create("fetch-parse-error",{originalErrorMessage:null==cn?void 0:cn.message})}const vt=nt.ttl.match(/^([\d.]+)(s)$/);if(!vt||!vt[2]||isNaN(Number(vt[1])))throw Ae.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${nt.ttl}`});const xt=1e3*Number(vt[1]),Lt=Date.now();return{token:nt.token,expireTimeMillis:Lt+xt,issuedAtTimeMillis:Lt}})).apply(this,arguments)}function $t(yt,Q){const{projectId:ue,appId:ae,apiKey:q}=yt.options;return{url:`${be}/projects/${ue}/apps/${ae}:${Me}?key=${q}`,body:{debug_token:Q}}}const mt="firebase-app-check-database",De=1,Le="firebase-app-check-store";let Xe=null;function Ct(){return(Ct=(0,W.Z)(function*(yt,Q){const ae=(yield function dt(){return Xe||(Xe=new Promise((yt,Q)=>{try{const ue=indexedDB.open(mt,De);ue.onsuccess=ae=>{yt(ae.target.result)},ue.onerror=ae=>{var q;Q(Ae.create("storage-open",{originalErrorMessage:null===(q=ae.target.error)||void 0===q?void 0:q.message}))},ue.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(Le,{keyPath:"compositeKey"})}}catch(ue){Q(Ae.create("storage-open",{originalErrorMessage:null==ue?void 0:ue.message}))}}),Xe)}()).transaction(Le,"readwrite"),ge=ae.objectStore(Le).put({compositeKey:yt,value:Q});return new Promise((Oe,nt)=>{ge.onsuccess=vt=>{Oe()},ae.onerror=vt=>{var xt;nt(Ae.create("storage-set",{originalErrorMessage:null===(xt=vt.target.error)||void 0===xt?void 0:xt.message}))}})})).apply(this,arguments)}const In=new M.Yd("@firebase/app-check");function gn(yt,Q){return(0,N.hl)()?function zt(yt,Q){return function Rt(yt,Q){return Ct.apply(this,arguments)}(function an(yt){return`${yt.options.appId}-${yt.name}`}(yt),Q)}(yt,Q).catch(ue=>{In.warn(`Failed to write token to IndexedDB. Error: ${ue}`)}):Promise.resolve()}function Sn(){return X().enabled}function vr(){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,W.Z)(function*(){const yt=X();if(yt.enabled&&yt.token)return yt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fn={error:"UNKNOWN_ERROR"};function mn(yt){return N.US.encodeString(JSON.stringify(yt),!1)}function _r(yt){return pr.apply(this,arguments)}function pr(){return(pr=(0,W.Z)(function*(yt,Q=!1){const ue=yt.app;st(ue);const ae=P(ue);let ge,q=ae.token;if(q&&!Mn(q)&&(ae.token=void 0,q=void 0),!q){const vt=yield ae.cachedTokenPromise;vt&&(Mn(vt)?q=vt:yield gn(ue,void 0))}if(!Q&&q&&Mn(q))return{token:q.token};let nt,Oe=!1;if(Sn()){ae.exchangeTokenPromise||(ae.exchangeTokenPromise=Ie($t(ue,yield vr()),yt.heartbeatServiceProvider).finally(()=>{ae.exchangeTokenPromise=void 0}),Oe=!0);const vt=yield ae.exchangeTokenPromise;return yield gn(ue,vt),ae.token=vt,{token:vt.token}}try{ae.exchangeTokenPromise||(ae.exchangeTokenPromise=ae.provider.getToken().finally(()=>{ae.exchangeTokenPromise=void 0}),Oe=!0),q=yield P(ue).exchangeTokenPromise}catch(vt){"appCheck/throttled"===vt.code?In.warn(vt.message):In.error(vt),ge=vt}return q?ge?nt=Mn(q)?{token:q.token,internalError:ge}:jn(ge):(nt={token:q.token},ae.token=q,yield gn(ue,q)):nt=jn(ge),Oe&&function Rn(yt,Q){const ue=P(yt).tokenObservers;for(const ae of ue)try{"EXTERNAL"===ae.type&&null!=Q.error?ae.error(Q.error):ae.next(Q)}catch{}}(ue,nt),nt})).apply(this,arguments)}function An(yt){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,W.Z)(function*(yt){const Q=yt.app;st(Q);const{provider:ue}=P(Q);if(Sn()){const ae=yield vr(),{token:q}=yield Ie($t(Q,ae),yt.heartbeatServiceProvider);return{token:q}}{const{token:ae}=yield ue.getToken();return{token:ae}}})).apply(this,arguments)}function sr(yt,Q){const ue=P(yt),ae=ue.tokenObservers.filter(q=>q.next!==Q);0===ae.length&&ue.tokenRefresher&&ue.tokenRefresher.isRunning()&&ue.tokenRefresher.stop(),ue.tokenObservers=ae}function on(yt){const{app:Q}=yt,ue=P(Q);let ae=ue.tokenRefresher;ae||(ae=function Tr(yt){const{app:Q}=yt;return new ye((0,W.Z)(function*(){let ae;if(ae=P(Q).token?yield _r(yt,!0):yield _r(yt),ae.error)throw ae.error;if(ae.internalError)throw ae.internalError}),()=>!0,()=>{const ue=P(Q);if(ue.token){let ae=ue.token.issuedAtTimeMillis+.5*(ue.token.expireTimeMillis-ue.token.issuedAtTimeMillis)+3e5;return ae=Math.min(ae,ue.token.expireTimeMillis-3e5),Math.max(0,ae-Date.now())}return 0},we.RETRIAL_MIN_WAIT,we.RETRIAL_MAX_WAIT)}(yt),ue.tokenRefresher=ae),!ae.isRunning()&&ue.isTokenAutoRefreshEnabled&&ae.start()}function Mn(yt){return yt.expireTimeMillis-Date.now()>0}function jn(yt){return{token:mn(fn),error:yt}}class zr{constructor(Q,ue){this.app=Q,this.heartbeatServiceProvider=ue}_delete(){const{tokenObservers:Q}=P(this.app);for(const ue of Q)sr(this.app,ue.next);return Promise.resolve()}}const Et="app-check-internal";!function ln(){(0,V.Xd)(new O.wA("app-check",yt=>function Wn(yt,Q){return new zr(yt,Q)}(yt.getProvider("app").getImmediate(),yt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((yt,Q,ue)=>{yt.getProvider(Et).initialize()})),(0,V.Xd)(new O.wA(Et,yt=>function Tn(yt){return{getToken:Q=>_r(yt,Q),getLimitedUseToken:()=>An(yt),addTokenListener:Q=>function Ft(yt,Q,ue,ae){const{app:q}=yt,ge=P(q);if(ge.tokenObservers=[...ge.tokenObservers,{next:ue,error:ae,type:Q}],ge.token&&Mn(ge.token)){const nt=ge.token;Promise.resolve().then(()=>{ue({token:nt.token}),on(yt)}).catch(()=>{})}ge.cachedTokenPromise.then(()=>on(yt))}(yt,"INTERNAL",Q),removeTokenListener:Q=>sr(yt.app,Q)}}(yt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,V.KN)("@firebase/app-check","0.8.0")}();class Dr{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},8726:(lt,rt,C)=>{"use strict";C.d(rt,{Mq:()=>X,Ot:()=>U,ZF:()=>pe,hX:()=>P,z6:()=>W});var c=C(3182),d=C(6689),Y=C(8883);class U{constructor(ye){return ye}}class W{constructor(){return(0,c.C6)()}}const N=new d.OlP("angularfire2._apps"),M={provide:U,useFactory:function O(ne){return ne&&1===ne.length?ne[0]:new U((0,c.Mq)())},deps:[[new d.FiY,N]]},_={provide:W,deps:[[new d.FiY,N]]};function A(ne){return(ye,Re)=>{const je=ye.runOutsideAngular(()=>ne(Re));return new U(je)}}let S=(()=>{class ne{constructor(Re){(0,c.KN)("angularfire",Y.q4.full,"core"),(0,c.KN)("angularfire",Y.q4.full,"app"),(0,c.KN)("angular",d.q4F.full,Re.toString())}}return ne.\u0275fac=function(Re){return new(Re||ne)(d.LFG(d.Lbi))},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({providers:[M,_]}),ne})();function P(ne,...ye){return{ngModule:S,providers:[{provide:N,useFactory:A(ne),multi:!0,deps:[d.R0b,d.zs3,Y.HU,...ye]}]}}const X=(0,Y.u3)(c.Mq,!0),pe=(0,Y.u3)(c.ZF,!0)},7826:(lt,rt,C)=>{"use strict";C.d(rt,{gx:()=>S,dh:()=>P,fD:()=>ye,h8:()=>Pe,uJ:()=>Xe,AR:()=>ne,EA:()=>Re});var c=C(8883),d=C(6689),Y=C(8726),U=C(3182),W=C(7247),V=C(2644),O=C(5592);function N(We){return new O.y(function(et){return{unsubscribe:(0,V.Aj)(We,et.next.bind(et),et.error.bind(et),et.complete.bind(et))}})}function M(We){return new O.y(function(et){return{unsubscribe:(0,V.MX)(We,et.next.bind(et),et.error.bind(et),et.complete.bind(et))}})}const A="auth";class S{constructor(et){return et}}class P{constructor(){return(0,c.vb)(A)}}const X=new d.OlP("angularfire2.auth-instances");function pe(We){return(et,Nt)=>{const bt=et.runOutsideAngular(()=>We(Nt));return new S(bt)}}const se={provide:P,deps:[[new d.FiY,X]]},Me={provide:S,useFactory:function be(We,et){const Nt=(0,c.JM)(A,We,et);return Nt&&new S(Nt)},deps:[[new d.FiY,X],Y.Ot]};let we=(()=>{class We{constructor(){(0,U.KN)("angularfire",c.q4.full,"auth")}}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275mod=d.oAB({type:We}),We.\u0275inj=d.cJS({providers:[Me,se]}),We})();function ne(We,...et){return{ngModule:we,providers:[{provide:X,useFactory:pe(We),multi:!0,deps:[d.R0b,d.zs3,c.HU,Y.z6,[new d.FiY,W.nm],...et]}]}}const ye=(0,c.u3)(N,!0),Re=(0,c.u3)(M,!0),Pe=(0,c.u3)(V.h8,!0),Xe=(0,c.u3)(V.uJ,!0)},6863:(lt,rt,C)=>{"use strict";C.d(rt,{Cm:()=>se,JU:()=>He,PL:()=>Wt,ad:()=>vn,hJ:()=>Je,r7:()=>jn});var c=C(8883),d=C(6689),Y=C(7826),U=C(8726),W=C(3182),V=C(7247),O=C(15);class N{constructor(et){return et}}const M="firestore",S=new d.OlP("angularfire2.firestore-instances");function H(We){return(et,Nt)=>{const bt=et.runOutsideAngular(()=>We(Nt));return new N(bt)}}const X={provide:class _{constructor(){return(0,c.vb)(M)}},deps:[[new d.FiY,S]]},be={provide:N,useFactory:function P(We,et){const Nt=(0,c.JM)(M,We,et);return Nt&&new N(Nt)},deps:[[new d.FiY,S],U.Ot]};let pe=(()=>{class We{constructor(){(0,W.KN)("angularfire",c.q4.full,"fst")}}return We.\u0275fac=function(Nt){return new(Nt||We)},We.\u0275mod=d.oAB({type:We}),We.\u0275inj=d.cJS({providers:[be,X]}),We})();function se(We,...et){return{ngModule:pe,providers:[{provide:S,useFactory:H(We),multi:!0,deps:[d.R0b,d.zs3,c.HU,U.z6,[new d.FiY,Y.dh],[new d.FiY,V.nm],...et]}]}}const Je=(0,c.u3)(O.hJ,!0),He=(0,c.u3)(O.JU,!0),Wt=(0,c.u3)(O.PL,!0),vn=(0,c.u3)(O.ad,!0),jn=(0,c.u3)(O.r7,!0)},8883:(lt,rt,C)=>{"use strict";C.d(rt,{q4:()=>oi,HU:()=>ho,vb:()=>jo,JM:()=>Es,nk:()=>_s,u3:()=>v});var c=C(6689),d=C(3182),Y=C(5861),U=C(534),W=C(9058),V=C(4537),O=C(7879);C(2591);const M="@firebase/remote-config",_="0.4.4",H=new W.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $t{constructor(x,fe,ze,wt){this.client=x,this.storage=fe,this.storageCache=ze,this.logger=wt}isCachedDataFresh(x,fe){if(!fe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ze=Date.now()-fe,wt=ze<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ze}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${wt}.`),wt}fetch(x){var fe=this;return(0,Y.Z)(function*(){const[ze,wt]=yield Promise.all([fe.storage.getLastSuccessfulFetchTimestampMillis(),fe.storage.getLastSuccessfulFetchResponse()]);if(wt&&fe.isCachedDataFresh(x.cacheMaxAgeMillis,ze))return wt;x.eTag=wt&&wt.eTag;const jt=yield fe.client.fetch(x),En=[fe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===jt.status&&En.push(fe.storage.setLastSuccessfulFetchResponse(jt)),yield Promise.all(En),jt})()}}function mt(p=navigator){return p.languages&&p.languages[0]||p.language}class De{constructor(x,fe,ze,wt,jt,En){this.firebaseInstallations=x,this.sdkVersion=fe,this.namespace=ze,this.projectId=wt,this.apiKey=jt,this.appId=En}fetch(x){var fe=this;return(0,Y.Z)(function*(){const[ze,wt]=yield Promise.all([fe.firebaseInstallations.getId(),fe.firebaseInstallations.getToken()]),En=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${fe.projectId}/namespaces/${fe.namespace}:fetch?key=${fe.apiKey}`,ur={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Ir={sdk_version:fe.sdkVersion,app_instance_id:ze,app_instance_id_token:wt,app_id:fe.appId,language_code:mt()},xr={method:"POST",headers:ur,body:JSON.stringify(Ir)},Cr=fetch(En,xr),Sr=new Promise((Ri,Hi)=>{x.signal.addEventListener(()=>{const Ei=new Error("The operation was aborted.");Ei.name="AbortError",Hi(Ei)})});let vo;try{yield Promise.race([Cr,Sr]),vo=yield Cr}catch(Ri){let Hi="fetch-client-network";throw"AbortError"===(null==Ri?void 0:Ri.name)&&(Hi="fetch-timeout"),H.create(Hi,{originalErrorMessage:null==Ri?void 0:Ri.message})}let bs=vo.status;const Ms=vo.headers.get("ETag")||void 0;let ca,Us;if(200===vo.status){let Ri;try{Ri=yield vo.json()}catch(Hi){throw H.create("fetch-client-parse",{originalErrorMessage:null==Hi?void 0:Hi.message})}ca=Ri.entries,Us=Ri.state}if("INSTANCE_STATE_UNSPECIFIED"===Us?bs=500:"NO_CHANGE"===Us?bs=304:("NO_TEMPLATE"===Us||"EMPTY_CONFIG"===Us)&&(ca={}),304!==bs&&200!==bs)throw H.create("fetch-status",{httpStatus:bs});return{status:bs,eTag:Ms,config:ca}})()}}class Xe{constructor(x,fe){this.client=x,this.storage=fe}fetch(x){var fe=this;return(0,Y.Z)(function*(){const ze=(yield fe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return fe.attemptFetch(x,ze)})()}attemptFetch(x,{throttleEndTimeMillis:fe,backoffCount:ze}){var wt=this;return(0,Y.Z)(function*(){yield function Le(p,x){return new Promise((fe,ze)=>{const wt=Math.max(x-Date.now(),0),jt=setTimeout(fe,wt);p.addEventListener(()=>{clearTimeout(jt),ze(H.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,fe);try{const jt=yield wt.client.fetch(x);return yield wt.storage.deleteThrottleMetadata(),jt}catch(jt){if(!function He(p){if(!(p instanceof W.ZR&&p.customData))return!1;const x=Number(p.customData.httpStatus);return 429===x||500===x||503===x||504===x}(jt))throw jt;const En={throttleEndTimeMillis:Date.now()+(0,W.$s)(ze),backoffCount:ze+1};return yield wt.storage.setThrottleMetadata(En),wt.attemptFetch(x,En)}})()}}class zt{constructor(x,fe,ze,wt,jt){this.app=x,this._client=fe,this._storageCache=ze,this._storage=wt,this._logger=jt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qt(p,x){const fe=p.target.error||void 0;return H.create(x,{originalErrorMessage:fe&&(null==fe?void 0:fe.message)})}const ht="app_namespace_store";class Wt{constructor(x,fe,ze,wt=function Pt(){return new Promise((p,x)=>{try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=ze=>{x(Qt(ze,"storage-open"))},fe.onsuccess=ze=>{p(ze.target.result)},fe.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(ht,{keyPath:"compositeKey"})}}catch(fe){x(H.create("storage-open",{originalErrorMessage:null==fe?void 0:fe.message}))}})}()){this.appId=x,this.appName=fe,this.namespace=ze,this.openDbPromise=wt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var fe=this;return(0,Y.Z)(function*(){const ze=yield fe.openDbPromise;return new Promise((wt,jt)=>{const ur=ze.transaction([ht],"readonly").objectStore(ht),Ir=fe.createCompositeKey(x);try{const xr=ur.get(Ir);xr.onerror=Cr=>{jt(Qt(Cr,"storage-get"))},xr.onsuccess=Cr=>{const Sr=Cr.target.result;wt(Sr?Sr.value:void 0)}}catch(xr){jt(H.create("storage-get",{originalErrorMessage:null==xr?void 0:xr.message}))}})})()}set(x,fe){var ze=this;return(0,Y.Z)(function*(){const wt=yield ze.openDbPromise;return new Promise((jt,En)=>{const Ir=wt.transaction([ht],"readwrite").objectStore(ht),xr=ze.createCompositeKey(x);try{const Cr=Ir.put({compositeKey:xr,value:fe});Cr.onerror=Sr=>{En(Qt(Sr,"storage-set"))},Cr.onsuccess=()=>{jt()}}catch(Cr){En(H.create("storage-set",{originalErrorMessage:null==Cr?void 0:Cr.message}))}})})()}delete(x){var fe=this;return(0,Y.Z)(function*(){const ze=yield fe.openDbPromise;return new Promise((wt,jt)=>{const ur=ze.transaction([ht],"readwrite").objectStore(ht),Ir=fe.createCompositeKey(x);try{const xr=ur.delete(Ir);xr.onerror=Cr=>{jt(Qt(Cr,"storage-delete"))},xr.onsuccess=()=>{wt()}}catch(xr){jt(H.create("storage-delete",{originalErrorMessage:null==xr?void 0:xr.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class an{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,Y.Z)(function*(){const fe=x.storage.getLastFetchStatus(),ze=x.storage.getLastSuccessfulFetchTimestampMillis(),wt=x.storage.getActiveConfig(),jt=yield fe;jt&&(x.lastFetchStatus=jt);const En=yield ze;En&&(x.lastSuccessfulFetchTimestampMillis=En);const ur=yield wt;ur&&(x.activeConfig=ur)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function gn(){return or.apply(this,arguments)}function or(){return(or=(0,Y.Z)(function*(){if(!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}!function In(){(0,U.Xd)(new V.wA("remote-config",function p(x,{instanceIdentifier:fe}){const ze=x.getProvider("app").getImmediate(),wt=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw H.create("registration-window");if(!(0,W.hl)())throw H.create("indexed-db-unavailable");const{projectId:jt,apiKey:En,appId:ur}=ze.options;if(!jt)throw H.create("registration-project-id");if(!En)throw H.create("registration-api-key");if(!ur)throw H.create("registration-app-id");const Ir=new Wt(ur,ze.name,fe=fe||"firebase"),xr=new an(Ir),Cr=new O.Yd(M);Cr.logLevel=O.in.ERROR;const Sr=new De(wt,U.Jn,fe,jt,En,ur),vo=new Xe(Sr,Ir),bs=new $t(vo,Ir,xr,Cr),Ms=new zt(ze,bs,xr,Ir,Cr);return function je(p){const x=(0,W.m9)(p);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Ms),Ms},"PUBLIC").setMultipleInstances(!0)),(0,U.KN)(M,_),(0,U.KN)(M,_,"esm2017")}();const Ln=(p,x)=>x.some(fe=>p instanceof fe);let Sn,vr;const fn=new WeakMap,mn=new WeakMap,_r=new WeakMap,pr=new WeakMap,An=new WeakMap;let sr={get(p,x,fe){if(p instanceof IDBTransaction){if("done"===x)return mn.get(p);if("objectStoreNames"===x)return p.objectStoreNames||_r.get(p);if("store"===x)return fe.objectStoreNames[1]?void 0:fe.objectStore(fe.objectStoreNames[0])}return Mn(p[x])},set:(p,x,fe)=>(p[x]=fe,!0),has:(p,x)=>p instanceof IDBTransaction&&("done"===x||"store"===x)||x in p};function Rn(p){return"function"==typeof p?function Tr(p){return p!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tr(){return vr||(vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(p)?function(...x){return p.apply(jn(this),x),Mn(fn.get(this))}:function(...x){return Mn(p.apply(jn(this),x))}:function(x,...fe){const ze=p.call(jn(this),x,...fe);return _r.set(ze,x.sort?x.sort():[x]),Mn(ze)}}(p):(p instanceof IDBTransaction&&function Ft(p){if(mn.has(p))return;const x=new Promise((fe,ze)=>{const wt=()=>{p.removeEventListener("complete",jt),p.removeEventListener("error",En),p.removeEventListener("abort",En)},jt=()=>{fe(),wt()},En=()=>{ze(p.error||new DOMException("AbortError","AbortError")),wt()};p.addEventListener("complete",jt),p.addEventListener("error",En),p.addEventListener("abort",En)});mn.set(p,x)}(p),Ln(p,function Gn(){return Sn||(Sn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(p,sr):p)}function Mn(p){if(p instanceof IDBRequest)return function Yn(p){const x=new Promise((fe,ze)=>{const wt=()=>{p.removeEventListener("success",jt),p.removeEventListener("error",En)},jt=()=>{fe(Mn(p.result)),wt()},En=()=>{ze(p.error),wt()};p.addEventListener("success",jt),p.addEventListener("error",En)});return x.then(fe=>{fe instanceof IDBCursor&&fn.set(fe,p)}).catch(()=>{}),An.set(x,p),x}(p);if(pr.has(p))return pr.get(p);const x=Rn(p);return x!==p&&(pr.set(p,x),An.set(x,p)),x}const jn=p=>An.get(p);function zr(p,x,{blocked:fe,upgrade:ze,blocking:wt,terminated:jt}={}){const En=indexedDB.open(p,x),ur=Mn(En);return ze&&En.addEventListener("upgradeneeded",Ir=>{ze(Mn(En.result),Ir.oldVersion,Ir.newVersion,Mn(En.transaction))}),fe&&En.addEventListener("blocked",()=>fe()),ur.then(Ir=>{jt&&Ir.addEventListener("close",()=>jt()),wt&&Ir.addEventListener("versionchange",()=>wt())}).catch(()=>{}),ur}function Wn(p,{blocked:x}={}){const fe=indexedDB.deleteDatabase(p);return x&&fe.addEventListener("blocked",()=>x()),Mn(fe).then(()=>{})}const Tn=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],et=new Map;function Nt(p,x){if(!(p instanceof IDBDatabase)||x in p||"string"!=typeof x)return;if(et.get(x))return et.get(x);const fe=x.replace(/FromIndex$/,""),ze=x!==fe,wt=We.includes(fe);if(!(fe in(ze?IDBIndex:IDBObjectStore).prototype)||!wt&&!Tn.includes(fe))return;const jt=function(){var En=(0,Y.Z)(function*(ur,...Ir){const xr=this.transaction(ur,wt?"readwrite":"readonly");let Cr=xr.store;return ze&&(Cr=Cr.index(Ir.shift())),(yield Promise.all([Cr[fe](...Ir),wt&&xr.done]))[0]});return function(Ir){return En.apply(this,arguments)}}();return et.set(x,jt),jt}!function on(p){sr=p(sr)}(p=>({...p,get:(x,fe,ze)=>Nt(x,fe)||p.get(x,fe,ze),has:(x,fe)=>!!Nt(x,fe)||p.has(x,fe)}));const bt="/firebase-messaging-sw.js",Gt="/firebase-cloud-messaging-push-scope",Yt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nn="https://fcmregistrations.googleapis.com/v1",Be="google.c.a.c_id",he="google.c.a.c_l",de="google.c.a.ts";var pt=(()=>((pt=pt||{}).PUSH_RECEIVED="push-received",pt.NOTIFICATION_CLICKED="notification-clicked",pt))();function Ot(p){const x=new Uint8Array(p);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tt(p){const fe=(p+"=".repeat((4-p.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ze=atob(fe),wt=new Uint8Array(ze.length);for(let jt=0;jt<ze.length;++jt)wt[jt]=ze.charCodeAt(jt);return wt}const _t="fcm_token_details_db",kt=5,Jt="fcm_token_object_Store";function bn(){return bn=(0,Y.Z)(function*(p){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(jt=>jt.name).includes(_t))return null;let x=null;return(yield zr(_t,kt,{upgrade:(ze=(0,Y.Z)(function*(wt,jt,En,ur){var Ir;if(jt<2||!wt.objectStoreNames.contains(Jt))return;const xr=ur.objectStore(Jt),Cr=yield xr.index("fcmSenderId").get(p);if(yield xr.clear(),Cr)if(2===jt){const Sr=Cr;if(!Sr.auth||!Sr.p256dh||!Sr.endpoint)return;x={token:Sr.fcmToken,createTime:null!==(Ir=Sr.createTime)&&void 0!==Ir?Ir:Date.now(),subscriptionOptions:{auth:Sr.auth,p256dh:Sr.p256dh,endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:"string"==typeof Sr.vapidKey?Sr.vapidKey:Ot(Sr.vapidKey)}}}else if(3===jt){const Sr=Cr;x={token:Sr.fcmToken,createTime:Sr.createTime,subscriptionOptions:{auth:Ot(Sr.auth),p256dh:Ot(Sr.p256dh),endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:Ot(Sr.vapidKey)}}}else if(4===jt){const Sr=Cr;x={token:Sr.fcmToken,createTime:Sr.createTime,subscriptionOptions:{auth:Ot(Sr.auth),p256dh:Ot(Sr.p256dh),endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:Ot(Sr.vapidKey)}}}}),function(jt,En,ur,Ir){return ze.apply(this,arguments)})})).close(),yield Wn(_t),yield Wn("fcm_vapid_details_db"),yield Wn("undefined"),function gt(p){if(!p||!p.subscriptionOptions)return!1;const{subscriptionOptions:x}=p;return"number"==typeof p.createTime&&p.createTime>0&&"string"==typeof p.token&&p.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var ze}),bn.apply(this,arguments)}const Ge="firebase-messaging-database",qe=1,Ve="firebase-messaging-store";let Ye=null;function ft(){return Ye||(Ye=zr(Ge,qe,{upgrade:(p,x)=>{0===x&&p.createObjectStore(Ve)}})),Ye}function Et(p){return ln.apply(this,arguments)}function ln(){return ln=(0,Y.Z)(function*(p){const x=nr(p),ze=yield(yield ft()).transaction(Ve).objectStore(Ve).get(x);if(ze)return ze;{const wt=yield function Zt(p){return bn.apply(this,arguments)}(p.appConfig.senderId);if(wt)return yield hn(p,wt),wt}}),ln.apply(this,arguments)}function hn(p,x){return On.apply(this,arguments)}function On(){return(On=(0,Y.Z)(function*(p,x){const fe=nr(p),wt=(yield ft()).transaction(Ve,"readwrite");return yield wt.objectStore(Ve).put(x,fe),yield wt.done,x})).apply(this,arguments)}function Zn(){return(Zn=(0,Y.Z)(function*(p){const x=nr(p),ze=(yield ft()).transaction(Ve,"readwrite");yield ze.objectStore(Ve).delete(x),yield ze.done})).apply(this,arguments)}function nr({appConfig:p}){return p.appId}const Kn=new W.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dr(p,x){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,Y.Z)(function*(p,x){const fe=yield li(p),ze=Ci(x),wt={method:"POST",headers:fe,body:JSON.stringify(ze)};let jt;try{jt=yield(yield fetch(Wr(p.appConfig),wt)).json()}catch(En){throw Kn.create("token-subscribe-failed",{errorInfo:null==En?void 0:En.toString()})}if(jt.error)throw Kn.create("token-subscribe-failed",{errorInfo:jt.error.message});if(!jt.token)throw Kn.create("token-subscribe-no-token");return jt.token})).apply(this,arguments)}function bi(){return(bi=(0,Y.Z)(function*(p,x){const fe=yield li(p),ze=Ci(x.subscriptionOptions),wt={method:"PATCH",headers:fe,body:JSON.stringify(ze)};let jt;try{jt=yield(yield fetch(`${Wr(p.appConfig)}/${x.token}`,wt)).json()}catch(En){throw Kn.create("token-update-failed",{errorInfo:null==En?void 0:En.toString()})}if(jt.error)throw Kn.create("token-update-failed",{errorInfo:jt.error.message});if(!jt.token)throw Kn.create("token-update-no-token");return jt.token})).apply(this,arguments)}function Qr(p,x){return mi.apply(this,arguments)}function mi(){return(mi=(0,Y.Z)(function*(p,x){const ze={method:"DELETE",headers:yield li(p)};try{const jt=yield(yield fetch(`${Wr(p.appConfig)}/${x}`,ze)).json();if(jt.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:jt.error.message})}catch(wt){throw Kn.create("token-unsubscribe-failed",{errorInfo:null==wt?void 0:wt.toString()})}})).apply(this,arguments)}function Wr({projectId:p}){return`${nn}/projects/${p}/registrations`}function li(p){return wi.apply(this,arguments)}function wi(){return(wi=(0,Y.Z)(function*({appConfig:p,installations:x}){const fe=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":p.apiKey,"x-goog-firebase-installations-auth":`FIS ${fe}`})})).apply(this,arguments)}function Ci({p256dh:p,auth:x,endpoint:fe,vapidKey:ze}){const wt={web:{endpoint:fe,auth:x,p256dh:p}};return ze!==Yt&&(wt.web.applicationPubKey=ze),wt}const ci=6048e5;function Q(){return Q=(0,Y.Z)(function*(p){const x=yield function vt(p,x){return xt.apply(this,arguments)}(p.swRegistration,p.vapidKey),fe={vapidKey:p.vapidKey,swScope:p.swRegistration.scope,endpoint:x.endpoint,auth:Ot(x.getKey("auth")),p256dh:Ot(x.getKey("p256dh"))},ze=yield Et(p.firebaseDependencies);if(ze){if(function Lt(p,x){return x.vapidKey===p.vapidKey&&x.endpoint===p.endpoint&&x.auth===p.auth&&x.p256dh===p.p256dh}(ze.subscriptionOptions,fe))return Date.now()>=ze.createTime+ci?function q(p,x){return ge.apply(this,arguments)}(p,{token:ze.token,createTime:Date.now(),subscriptionOptions:fe}):ze.token;try{yield Qr(p.firebaseDependencies,ze.token)}catch(wt){console.warn(wt)}return Oe(p.firebaseDependencies,fe)}return Oe(p.firebaseDependencies,fe)}),Q.apply(this,arguments)}function ae(){return ae=(0,Y.Z)(function*(p){const x=yield Et(p.firebaseDependencies);x&&(yield Qr(p.firebaseDependencies,x.token),yield function Dr(p){return Zn.apply(this,arguments)}(p.firebaseDependencies));const fe=yield p.swRegistration.pushManager.getSubscription();return!fe||fe.unsubscribe()}),ae.apply(this,arguments)}function ge(){return ge=(0,Y.Z)(function*(p,x){try{const fe=yield function Ur(p,x){return bi.apply(this,arguments)}(p.firebaseDependencies,x),ze=Object.assign(Object.assign({},x),{token:fe,createTime:Date.now()});return yield hn(p.firebaseDependencies,ze),fe}catch(fe){throw yield function ue(p){return ae.apply(this,arguments)}(p),fe}}),ge.apply(this,arguments)}function Oe(p,x){return nt.apply(this,arguments)}function nt(){return(nt=(0,Y.Z)(function*(p,x){const ze={token:yield dr(p,x),createTime:Date.now(),subscriptionOptions:x};return yield hn(p,ze),ze.token})).apply(this,arguments)}function xt(){return(xt=(0,Y.Z)(function*(p,x){return(yield p.pushManager.getSubscription())||p.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tt(x)})})).apply(this,arguments)}function cn(p){const x={from:p.from,collapseKey:p.collapse_key,messageId:p.fcmMessageId};return function Pn(p,x){if(!x.notification)return;p.notification={};const fe=x.notification.title;fe&&(p.notification.title=fe);const ze=x.notification.body;ze&&(p.notification.body=ze);const wt=x.notification.image;wt&&(p.notification.image=wt);const jt=x.notification.icon;jt&&(p.notification.icon=jt)}(x,p),function Jn(p,x){x.data&&(p.data=x.data)}(x,p),function Or(p,x){var fe,ze,wt,jt,En;if(!(x.fcmOptions||null!==(fe=x.notification)&&void 0!==fe&&fe.click_action))return;p.fcmOptions={};const ur=null!==(wt=null===(ze=x.fcmOptions)||void 0===ze?void 0:ze.link)&&void 0!==wt?wt:null===(jt=x.notification)||void 0===jt?void 0:jt.click_action;ur&&(p.fcmOptions.link=ur);const Ir=null===(En=x.fcmOptions)||void 0===En?void 0:En.analytics_label;Ir&&(p.fcmOptions.analyticsLabel=Ir)}(x,p),x}function ui(p,x){const fe=[];for(let ze=0;ze<p.length;ze++)fe.push(p.charAt(ze)),ze<x.length&&fe.push(x.charAt(ze));return fe.join("")}function Ui(p){return Kn.create("missing-app-config-values",{valueName:p})}ui("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ui("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mr{constructor(x,fe,ze){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const wt=function Qi(p){if(!p||!p.options)throw Ui("App Configuration Object");if(!p.name)throw Ui("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:fe}=p;for(const ze of x)if(!fe[ze])throw Ui(ze);return{appName:p.name,projectId:fe.projectId,apiKey:fe.apiKey,appId:fe.appId,senderId:fe.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:wt,installations:fe,analyticsProvider:ze}}_delete(){return Promise.resolve()}}function Ni(){return(Ni=(0,Y.Z)(function*(p){try{p.swRegistration=yield navigator.serviceWorker.register(bt,{scope:Gt}),p.swRegistration.update().catch(()=>{})}catch(x){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:null==x?void 0:x.message})}})).apply(this,arguments)}function ni(){return(ni=(0,Y.Z)(function*(p,x){if(!x&&!p.swRegistration&&(yield function di(p){return Ni.apply(this,arguments)}(p)),x||!p.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");p.swRegistration=x}})).apply(this,arguments)}function wo(){return(wo=(0,Y.Z)(function*(p,x){x?p.vapidKey=x:p.vapidKey||(p.vapidKey=Yt)})).apply(this,arguments)}function Vi(){return Vi=(0,Y.Z)(function*(p,x){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield function to(p,x){return wo.apply(this,arguments)}(p,null==x?void 0:x.vapidKey),yield function Uo(p,x){return ni.apply(this,arguments)}(p,null==x?void 0:x.serviceWorkerRegistration),function yt(p){return Q.apply(this,arguments)}(p)}),Vi.apply(this,arguments)}function Xr(){return(Xr=(0,Y.Z)(function*(p,x,fe){const ze=function wn(p){switch(p){case pt.NOTIFICATION_CLICKED:return"notification_open";case pt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield p.firebaseDependencies.analyticsProvider.get()).logEvent(ze,{message_id:fe[Be],message_name:fe[he],message_time:fe[de],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Kr(){return Kr=(0,Y.Z)(function*(p,x){const fe=x.data;if(!fe.isFirebaseMessaging)return;p.onMessageHandler&&fe.messageType===pt.PUSH_RECEIVED&&("function"==typeof p.onMessageHandler?p.onMessageHandler(cn(fe)):p.onMessageHandler.next(cn(fe)));const ze=fe.data;(function Bi(p){return"object"==typeof p&&!!p&&Be in p})(ze)&&"1"===ze["google.c.a.e"]&&(yield function Pr(p,x,fe){return Xr.apply(this,arguments)}(p,fe.messageType,ze))}),Kr.apply(this,arguments)}const ki="@firebase/messaging",hi=p=>{const x=new Mr(p.getProvider("app").getImmediate(),p.getProvider("installations-internal").getImmediate(),p.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",fe=>function cr(p,x){return Kr.apply(this,arguments)}(x,fe)),x},$o=p=>{const x=p.getProvider("messaging").getImmediate();return{getToken:ze=>function no(p,x){return Vi.apply(this,arguments)}(x,ze)}};function oo(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,Y.Z)(function*(){try{yield(0,W.eu)()}catch{return!1}return typeof window<"u"&&(0,W.hl)()&&(0,W.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _i(){(0,U.Xd)(new V.wA("messaging",hi,"PUBLIC")),(0,U.Xd)(new V.wA("messaging-internal",$o,"PRIVATE")),(0,U.KN)(ki,"0.12.4"),(0,U.KN)(ki,"0.12.4","esm2017")}();var ss=C(5855),ao=C(1954),ro=C(9931);const lo=new class Yo extends ro.v{}(class mo extends ao.o{constructor(x,fe){super(x,fe),this.scheduler=x,this.work=fe}schedule(x,fe=0){return fe>0?super.schedule(x,fe):(this.delay=fe,this.state=x,this.scheduler.flush(this),this)}execute(x,fe){return fe>0||this.closed?super.execute(x,fe):this._execute(x,fe)}requestAsyncId(x,fe,ze=0){return null!=ze&&ze>0||null==ze&&this.delay>0?super.requestAsyncId(x,fe,ze):(x.flush(this),0)}});var yo=C(6321),vs=C(5592),Bs=C(9397),Wi=C(5137),Ao=C(3093);const oi=new c.GfV("7.6.1"),co="__angularfire_symbol__analyticsIsSupportedValue",ji="__angularfire_symbol__analyticsIsSupported",ko="__angularfire_symbol__remoteConfigIsSupportedValue",Jr="__angularfire_symbol__remoteConfigIsSupported",fi="__angularfire_symbol__messagingIsSupportedValue",si="__angularfire_symbol__messagingIsSupported";globalThis[ji]||(globalThis[ji]=(0,ss.Gb)().then(p=>globalThis[co]=p).catch(()=>globalThis[co]=!1)),globalThis[si]||(globalThis[si]=oo().then(p=>globalThis[fi]=p).catch(()=>globalThis[fi]=!1)),globalThis[Jr]||(globalThis[Jr]=gn().then(p=>globalThis[ko]=p).catch(()=>globalThis[ko]=!1));const _s={async:()=>globalThis[ji],sync:()=>{const p=globalThis[co];if(void 0===p)throw new Error((p=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${p} in the constructor, first ensure that ${p} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${p})\`.`)("Analytics"));return p}};function Es(p,x,fe){if(x){if(1===x.length)return x[0];const jt=x.filter(En=>En.app===fe);if(1===jt.length)return jt[0]}return fe.container.getProvider(p).getImmediate({optional:!0})}const jo=(p,x)=>{const fe=x?[x]:(0,d.C6)(),ze=[];return fe.forEach(wt=>{wt.container.getProvider(p).instances.forEach(En=>{ze.includes(En)||ze.push(En)})}),ze};function Ro(){}class Ho{constructor(x,fe=lo){this.zone=x,this.delegate=fe}now(){return this.delegate.now()}schedule(x,fe,ze){const wt=this.zone;return this.delegate.schedule(function(En){wt.runGuarded(()=>{x.apply(this,[En])})},fe,ze)}}class ls{constructor(x){this.zone=x,this.task=null}call(x,fe){const ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ro,{},Ro,Ro)),fe.pipe((0,Bs.b)({next:ze,complete:ze,error:ze})).subscribe(x).add(ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ho=(()=>{class p{constructor(fe){this.ngZone=fe,this.outsideAngular=fe.runOutsideAngular(()=>new Ho(Zone.current)),this.insideAngular=fe.run(()=>new Ho(Zone.current,yo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return p.\u0275fac=function(fe){return new(fe||p)(c.LFG(c.R0b))},p.\u0275prov=c.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function Bo(){const p=globalThis.\u0275AngularFireScheduler;if(!p)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return p}function Fo(p){return Bo().ngZone.run(()=>p())}function w(p){return Bo(),function ie(p){return function(fe){return(fe=fe.lift(new ls(p.ngZone))).pipe((0,Wi.R)(p.outsideAngular),(0,Ao.Q)(p.insideAngular))}}(Bo())(p)}const f=(p,x)=>function(){const ze=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),Fo(()=>p.apply(void 0,ze))},v=(p,x)=>function(){let fe;const ze=arguments;for(let jt=0;jt<arguments.length;jt++)"function"==typeof ze[jt]&&(x&&(fe||(fe=Fo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ro,{},Ro,Ro)))),ze[jt]=f(ze[jt],fe));const wt=function ea(p){return Bo().ngZone.runOutsideAngular(()=>p())}(()=>p.apply(this,ze));if(!x){if(wt instanceof vs.y){const jt=Bo();return wt.pipe((0,Wi.R)(jt.outsideAngular),(0,Ao.Q)(jt.insideAngular))}return Fo(()=>wt)}return wt instanceof vs.y?wt.pipe(w):wt instanceof Promise?Fo(()=>new Promise((jt,En)=>wt.then(ur=>Fo(()=>jt(ur)),ur=>Fo(()=>En(ur))))):"function"==typeof wt&&fe?function(){return setTimeout(()=>{fe&&"scheduled"===fe.state&&fe.invoke()},10),wt.apply(this,arguments)}:Fo(()=>wt)}},2726:(lt,rt,C)=>{"use strict";C.d(rt,{Uw:()=>pe,dV:()=>P,fo:()=>H});var c=C(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var N=(()=>((N=N||{}).Unimplemented="UNIMPLEMENTED",N.Unavailable="UNAVAILABLE",N))();class M extends Error{constructor(Ie,Pe,Je){super(Ie),this.message=Ie,this.code=Pe,this.data=Je}}const A=Ue=>{var Ie,Pe,Je,ut,$t;const mt=Ue.CapacitorCustomPlatform||null,De=Ue.Capacitor||{},Le=De.Plugins=De.Plugins||{},He=Ue.CapacitorPlatforms,dt=(null===(Ie=null==He?void 0:He.currentPlatform)||void 0===Ie?void 0:Ie.getPlatform)||(()=>null!==mt?mt.name:(Ue=>{var Ie,Pe;return null!=Ue&&Ue.androidBridge?"android":null!==(Pe=null===(Ie=null==Ue?void 0:Ue.webkit)||void 0===Ie?void 0:Ie.messageHandlers)&&void 0!==Pe&&Pe.bridge?"ios":"web"})(Ue)),zt=(null===(Pe=null==He?void 0:He.currentPlatform)||void 0===Pe?void 0:Pe.isNativePlatform)||(()=>"web"!==dt()),ht=(null===(Je=null==He?void 0:He.currentPlatform)||void 0===Je?void 0:Je.isPluginAvailable)||(Tt=>{const gn=an.get(Tt);return!!(null!=gn&&gn.platforms.has(dt())||Ct(Tt))}),Ct=(null===(ut=null==He?void 0:He.currentPlatform)||void 0===ut?void 0:ut.getPluginHeader)||(Tt=>{var gn;return null===(gn=De.PluginHeaders)||void 0===gn?void 0:gn.find(or=>or.name===Tt)}),an=new Map,vn=(null===($t=null==He?void 0:He.currentPlatform)||void 0===$t?void 0:$t.registerPlugin)||((Tt,gn={})=>{const or=an.get(Tt);if(or)return console.warn(`Capacitor plugin "${Tt}" already registered. Cannot register plugins twice.`),or.proxy;const Ln=dt(),Sn=Ct(Tt);let vr;const Gn=function(){var Yn=(0,c.Z)(function*(){return!vr&&Ln in gn?vr=vr="function"==typeof gn[Ln]?yield gn[Ln]():gn[Ln]:null!==mt&&!vr&&"web"in gn&&(vr=vr="function"==typeof gn.web?yield gn.web():gn.web),vr});return function(){return Yn.apply(this,arguments)}}(),fn=Yn=>{let Ft;const sr=(...on)=>{const Tr=Gn().then(Rn=>{const Mn=((Yn,Ft)=>{var sr,on;if(!Sn){if(Yn)return null===(on=Yn[Ft])||void 0===on?void 0:on.bind(Yn);throw new M(`"${Tt}" plugin is not implemented on ${Ln}`,N.Unimplemented)}{const Tr=null==Sn?void 0:Sn.methods.find(Rn=>Ft===Rn.name);if(Tr)return"promise"===Tr.rtype?Rn=>De.nativePromise(Tt,Ft.toString(),Rn):(Rn,Mn)=>De.nativeCallback(Tt,Ft.toString(),Rn,Mn);if(Yn)return null===(sr=Yn[Ft])||void 0===sr?void 0:sr.bind(Yn)}})(Rn,Yn);if(Mn){const jn=Mn(...on);return Ft=null==jn?void 0:jn.remove,jn}throw new M(`"${Tt}.${Yn}()" is not implemented on ${Ln}`,N.Unimplemented)});return"addListener"===Yn&&(Tr.remove=(0,c.Z)(function*(){return Ft()})),Tr};return sr.toString=()=>`${Yn.toString()}() { [capacitor code] }`,Object.defineProperty(sr,"name",{value:Yn,writable:!1,configurable:!1}),sr},mn=fn("addListener"),_r=fn("removeListener"),pr=(Yn,Ft)=>{const sr=mn({eventName:Yn},Ft),on=function(){var Rn=(0,c.Z)(function*(){const Mn=yield sr;_r({eventName:Yn,callbackId:Mn},Ft)});return function(){return Rn.apply(this,arguments)}}(),Tr=new Promise(Rn=>sr.then(()=>Rn({remove:on})));return Tr.remove=(0,c.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield on()}),Tr},An=new Proxy({},{get(Yn,Ft){switch(Ft){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Sn?pr:mn;case"removeListener":return _r;default:return fn(Ft)}}});return Le[Tt]=An,an.set(Tt,{name:Tt,proxy:An,platforms:new Set([...Object.keys(gn),...Sn?[Ln]:[]])}),An});return De.convertFileSrc||(De.convertFileSrc=Tt=>Tt),De.getPlatform=dt,De.handleError=Tt=>Ue.console.error(Tt),De.isNativePlatform=zt,De.isPluginAvailable=ht,De.pluginMethodNoop=(Tt,gn,or)=>Promise.reject(`${or} does not have an implementation of "${gn}".`),De.registerPlugin=vn,De.Exception=M,De.DEBUG=!!De.DEBUG,De.isLoggingEnabled=!!De.isLoggingEnabled,De.platform=De.getPlatform(),De.isNative=De.isNativePlatform(),De},P=(Ue=>Ue.Capacitor=A(Ue))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),H=P.registerPlugin;class pe{constructor(Ie){this.listeners={},this.windowListeners={},Ie&&(console.warn(`Capacitor WebPlugin "${Ie.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Ie)}addListener(Ie,Pe){var Je=this;this.listeners[Ie]||(this.listeners[Ie]=[]),this.listeners[Ie].push(Pe);const $t=this.windowListeners[Ie];$t&&!$t.registered&&this.addWindowListener($t);const mt=function(){var Le=(0,c.Z)(function*(){return Je.removeListener(Ie,Pe)});return function(){return Le.apply(this,arguments)}}(),De=Promise.resolve({remove:mt});return Object.defineProperty(De,"remove",{value:(Le=(0,c.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield mt()}),function(){return Le.apply(this,arguments)})}),De;var Le}removeAllListeners(){var Ie=this;return(0,c.Z)(function*(){Ie.listeners={};for(const Pe in Ie.windowListeners)Ie.removeWindowListener(Ie.windowListeners[Pe]);Ie.windowListeners={}})()}notifyListeners(Ie,Pe){const Je=this.listeners[Ie];Je&&Je.forEach(ut=>ut(Pe))}hasListeners(Ie){return!!this.listeners[Ie].length}registerWindowListener(Ie,Pe){this.windowListeners[Pe]={registered:!1,windowEventName:Ie,pluginEventName:Pe,handler:Je=>{this.notifyListeners(Pe,Je)}}}unimplemented(Ie="not implemented"){return new P.Exception(Ie,N.Unimplemented)}unavailable(Ie="not available"){return new P.Exception(Ie,N.Unavailable)}removeListener(Ie,Pe){var Je=this;return(0,c.Z)(function*(){const ut=Je.listeners[Ie];if(!ut)return;const $t=ut.indexOf(Pe);Je.listeners[Ie].splice($t,1),Je.listeners[Ie].length||Je.removeWindowListener(Je.windowListeners[Ie])})()}addWindowListener(Ie){window.addEventListener(Ie.windowEventName,Ie.handler),Ie.registered=!0}removeWindowListener(Ie){Ie&&(window.removeEventListener(Ie.windowEventName,Ie.handler),Ie.registered=!1)}}const Me=Ue=>encodeURIComponent(Ue).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),we=Ue=>Ue.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ne extends pe{getCookies(){return(0,c.Z)(function*(){const Ie=document.cookie,Pe={};return Ie.split(";").forEach(Je=>{if(Je.length<=0)return;let[ut,$t]=Je.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");ut=we(ut).trim(),$t=we($t).trim(),Pe[ut]=$t}),Pe})()}setCookie(Ie){return(0,c.Z)(function*(){try{const Pe=Me(Ie.key),Je=Me(Ie.value),ut=`; expires=${(Ie.expires||"").replace("expires=","")}`,$t=(Ie.path||"/").replace("path=",""),mt=null!=Ie.url&&Ie.url.length>0?`domain=${Ie.url}`:"";document.cookie=`${Pe}=${Je||""}${ut}; path=${$t}; ${mt};`}catch(Pe){return Promise.reject(Pe)}})()}deleteCookie(Ie){return(0,c.Z)(function*(){try{document.cookie=`${Ie.key}=; Max-Age=0`}catch(Pe){return Promise.reject(Pe)}})()}clearCookies(){return(0,c.Z)(function*(){try{const Ie=document.cookie.split(";")||[];for(const Pe of Ie)document.cookie=Pe.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Ie){return Promise.reject(Ie)}})()}clearAllCookies(){var Ie=this;return(0,c.Z)(function*(){try{yield Ie.clearCookies()}catch(Pe){return Promise.reject(Pe)}})()}}H("CapacitorCookies",{web:()=>new ne});const Re=function(){var Ue=(0,c.Z)(function*(Ie){return new Promise((Pe,Je)=>{const ut=new FileReader;ut.onload=()=>{const $t=ut.result;Pe($t.indexOf(",")>=0?$t.split(",")[1]:$t)},ut.onerror=$t=>Je($t),ut.readAsDataURL(Ie)})});return function(Pe){return Ue.apply(this,arguments)}}();class st extends pe{request(Ie){return(0,c.Z)(function*(){const Pe=((Ue,Ie={})=>{const Pe=Object.assign({method:Ue.method||"GET",headers:Ue.headers},Ie),ut=((Ue={})=>{const Ie=Object.keys(Ue);return Object.keys(Ue).map(ut=>ut.toLocaleLowerCase()).reduce((ut,$t,mt)=>(ut[$t]=Ue[Ie[mt]],ut),{})})(Ue.headers)["content-type"]||"";if("string"==typeof Ue.data)Pe.body=Ue.data;else if(ut.includes("application/x-www-form-urlencoded")){const $t=new URLSearchParams;for(const[mt,De]of Object.entries(Ue.data||{}))$t.set(mt,De);Pe.body=$t.toString()}else if(ut.includes("multipart/form-data")){const $t=new FormData;if(Ue.data instanceof FormData)Ue.data.forEach((De,Le)=>{$t.append(Le,De)});else for(const De of Object.keys(Ue.data))$t.append(De,Ue.data[De]);Pe.body=$t;const mt=new Headers(Pe.headers);mt.delete("content-type"),Pe.headers=mt}else(ut.includes("application/json")||"object"==typeof Ue.data)&&(Pe.body=JSON.stringify(Ue.data));return Pe})(Ie,Ie.webFetchExtra),Je=((Ue,Ie=!0)=>Ue?Object.entries(Ue).reduce((Je,ut)=>{const[$t,mt]=ut;let De,Le;return Array.isArray(mt)?(Le="",mt.forEach(He=>{De=Ie?encodeURIComponent(He):He,Le+=`${$t}=${De}&`}),Le.slice(0,-1)):(De=Ie?encodeURIComponent(mt):mt,Le=`${$t}=${De}`),`${Je}&${Le}`},"").substr(1):null)(Ie.params,Ie.shouldEncodeUrlParams),ut=Je?`${Ie.url}?${Je}`:Ie.url,$t=yield fetch(ut,Pe),mt=$t.headers.get("content-type")||"";let Le,He,{responseType:De="text"}=$t.ok?Ie:{};switch(mt.includes("application/json")&&(De="json"),De){case"arraybuffer":case"blob":He=yield $t.blob(),Le=yield Re(He);break;case"json":Le=yield $t.json();break;default:Le=yield $t.text()}const Xe={};return $t.headers.forEach((dt,St)=>{Xe[St]=dt}),{data:Le,headers:Xe,status:$t.status,url:$t.url}})()}get(Ie){var Pe=this;return(0,c.Z)(function*(){return Pe.request(Object.assign(Object.assign({},Ie),{method:"GET"}))})()}post(Ie){var Pe=this;return(0,c.Z)(function*(){return Pe.request(Object.assign(Object.assign({},Ie),{method:"POST"}))})()}put(Ie){var Pe=this;return(0,c.Z)(function*(){return Pe.request(Object.assign(Object.assign({},Ie),{method:"PUT"}))})()}patch(Ie){var Pe=this;return(0,c.Z)(function*(){return Pe.request(Object.assign(Object.assign({},Ie),{method:"PATCH"}))})()}delete(Ie){var Pe=this;return(0,c.Z)(function*(){return Pe.request(Object.assign(Object.assign({},Ie),{method:"DELETE"}))})()}}H("CapacitorHttp",{web:()=>new st})},1273:(lt,rt,C)=>{"use strict";C.d(rt,{u:()=>d});const d=(0,C(2726).fo)("Preferences",{web:()=>C.e(899).then(C.bind(C,899)).then(Y=>new Y.PreferencesWeb)})},9058:(lt,rt,C)=>{"use strict";C.d(rt,{$s:()=>bt,BH:()=>Re,L:()=>M,LL:()=>St,P0:()=>we,Pz:()=>ye,Sg:()=>je,US:()=>V,ZR:()=>dt,aH:()=>ne,b$:()=>Ie,eu:()=>Le,hl:()=>De,m9:()=>nn,ne:()=>_r,pd:()=>fn,q4:()=>Me,ru:()=>Ue,tV:()=>_,uI:()=>Ee,vZ:()=>Ln,w1:()=>Je,xO:()=>Gn,xb:()=>gn,z$:()=>Ae,zI:()=>He,zd:()=>tr});const U=function(Be){const he=[];let de=0;for(let ve=0;ve<Be.length;ve++){let Ce=Be.charCodeAt(ve);Ce<128?he[de++]=Ce:Ce<2048?(he[de++]=Ce>>6|192,he[de++]=63&Ce|128):55296==(64512&Ce)&&ve+1<Be.length&&56320==(64512&Be.charCodeAt(ve+1))?(Ce=65536+((1023&Ce)<<10)+(1023&Be.charCodeAt(++ve)),he[de++]=Ce>>18|240,he[de++]=Ce>>12&63|128,he[de++]=Ce>>6&63|128,he[de++]=63&Ce|128):(he[de++]=Ce>>12|224,he[de++]=Ce>>6&63|128,he[de++]=63&Ce|128)}return he},V={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Be,he){if(!Array.isArray(Be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let Ce=0;Ce<Be.length;Ce+=3){const pt=Be[Ce],Ot=Ce+1<Be.length,tt=Ot?Be[Ce+1]:0,_t=Ce+2<Be.length,kt=_t?Be[Ce+2]:0;let bn=(15&tt)<<2|kt>>6,gt=63&kt;_t||(gt=64,Ot||(bn=64)),ve.push(de[pt>>2],de[(3&pt)<<4|tt>>4],de[bn],de[gt])}return ve.join("")},encodeString(Be,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(Be):this.encodeByteArray(U(Be),he)},decodeString(Be,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(Be):function(Be){const he=[];let de=0,ve=0;for(;de<Be.length;){const Ce=Be[de++];if(Ce<128)he[ve++]=String.fromCharCode(Ce);else if(Ce>191&&Ce<224){const pt=Be[de++];he[ve++]=String.fromCharCode((31&Ce)<<6|63&pt)}else if(Ce>239&&Ce<365){const _t=((7&Ce)<<18|(63&Be[de++])<<12|(63&Be[de++])<<6|63&Be[de++])-65536;he[ve++]=String.fromCharCode(55296+(_t>>10)),he[ve++]=String.fromCharCode(56320+(1023&_t))}else{const pt=Be[de++],Ot=Be[de++];he[ve++]=String.fromCharCode((15&Ce)<<12|(63&pt)<<6|63&Ot)}}return he.join("")}(this.decodeStringToByteArray(Be,he))},decodeStringToByteArray(Be,he){this.init_();const de=he?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let Ce=0;Ce<Be.length;){const pt=de[Be.charAt(Ce++)],tt=Ce<Be.length?de[Be.charAt(Ce)]:0;++Ce;const kt=Ce<Be.length?de[Be.charAt(Ce)]:64;++Ce;const Zt=Ce<Be.length?de[Be.charAt(Ce)]:64;if(++Ce,null==pt||null==tt||null==kt||null==Zt)throw new O;ve.push(pt<<2|tt>>4),64!==kt&&(ve.push(tt<<4&240|kt>>2),64!==Zt&&ve.push(kt<<6&192|Zt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Be=0;Be<this.ENCODED_VALS.length;Be++)this.byteToCharMap_[Be]=this.ENCODED_VALS.charAt(Be),this.charToByteMap_[this.byteToCharMap_[Be]]=Be,this.byteToCharMapWebSafe_[Be]=this.ENCODED_VALS_WEBSAFE.charAt(Be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Be]]=Be,Be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Be)]=Be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Be)]=Be)}}};class O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M=function(Be){return function(Be){const he=U(Be);return V.encodeByteArray(he,!0)}(Be).replace(/\./g,"")},_=function(Be){try{return V.decodeString(Be,!0)}catch(he){console.error("base64Decode failed: ",he)}return null},se=()=>{try{return function H(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Be=process.env.__FIREBASE_DEFAULTS__;return Be?JSON.parse(Be):void 0})()||(()=>{if(typeof document>"u")return;let Be;try{Be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const he=Be&&_(Be[1]);return he&&JSON.parse(he)})()}catch(Be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Be}`)}},Me=Be=>{var he,de;return null===(de=null===(he=se())||void 0===he?void 0:he.emulatorHosts)||void 0===de?void 0:de[Be]},we=Be=>{const he=Me(Be);if(!he)return;const de=he.lastIndexOf(":");if(de<=0||de+1===he.length)throw new Error(`Invalid host ${he} with no separate hostname and port!`);const ve=parseInt(he.substring(de+1),10);return"["===he[0]?[he.substring(1,de-1),ve]:[he.substring(0,de),ve]},ne=()=>{var Be;return null===(Be=se())||void 0===Be?void 0:Be.config},ye=Be=>{var he;return null===(he=se())||void 0===he?void 0:he[`_${Be}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,de)=>{this.resolve=he,this.reject=de})}wrapCallback(he){return(de,ve)=>{de?this.reject(de):this.resolve(ve),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(de):he(de,ve))}}}function je(Be,he){if(Be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=he||"demo-project",Ce=Be.iat||0,pt=Be.sub||Be.user_id;if(!pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ot=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:Ce,exp:Ce+3600,auth_time:Ce,sub:pt,user_id:pt,firebase:{sign_in_provider:"custom",identities:{}}},Be);return[M(JSON.stringify({alg:"none",type:"JWT"})),M(JSON.stringify(Ot)),""].join(".")}function Ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function Ue(){const Be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Be&&void 0!==Be.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){const Be=Ae();return Be.indexOf("MSIE ")>=0||Be.indexOf("Trident/")>=0}function De(){try{return"object"==typeof indexedDB}catch{return!1}}function Le(){return new Promise((Be,he)=>{try{let de=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",Ce=self.indexedDB.open(ve);Ce.onsuccess=()=>{Ce.result.close(),de||self.indexedDB.deleteDatabase(ve),Be(!0)},Ce.onupgradeneeded=()=>{de=!1},Ce.onerror=()=>{var pt;he((null===(pt=Ce.error)||void 0===pt?void 0:pt.message)||"")}}catch(de){he(de)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dt extends Error{constructor(he,de,ve){super(de),this.code=he,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(he,de,ve){this.service=he,this.serviceName=de,this.errors=ve}create(he,...de){const ve=de[0]||{},Ce=`${this.service}/${he}`,pt=this.errors[he],Ot=pt?function zt(Be,he){return Be.replace(Qt,(de,ve)=>{const Ce=he[ve];return null!=Ce?String(Ce):`<${ve}?>`})}(pt,ve):"Error";return new dt(Ce,`${this.serviceName}: ${Ot} (${Ce}).`,ve)}}const Qt=/\{\$([^}]+)}/g;function gn(Be){for(const he in Be)if(Object.prototype.hasOwnProperty.call(Be,he))return!1;return!0}function Ln(Be,he){if(Be===he)return!0;const de=Object.keys(Be),ve=Object.keys(he);for(const Ce of de){if(!ve.includes(Ce))return!1;const pt=Be[Ce],Ot=he[Ce];if(Sn(pt)&&Sn(Ot)){if(!Ln(pt,Ot))return!1}else if(pt!==Ot)return!1}for(const Ce of ve)if(!de.includes(Ce))return!1;return!0}function Sn(Be){return null!==Be&&"object"==typeof Be}function Gn(Be){const he=[];for(const[de,ve]of Object.entries(Be))Array.isArray(ve)?ve.forEach(Ce=>{he.push(encodeURIComponent(de)+"="+encodeURIComponent(Ce))}):he.push(encodeURIComponent(de)+"="+encodeURIComponent(ve));return he.length?"&"+he.join("&"):""}function tr(Be){const he={};return Be.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[Ce,pt]=ve.split("=");he[decodeURIComponent(Ce)]=decodeURIComponent(pt)}}),he}function fn(Be){const he=Be.indexOf("?");if(!he)return"";const de=Be.indexOf("#",he);return Be.substring(he,de>0?de:void 0)}function _r(Be,he){const de=new pr(Be,he);return de.subscribe.bind(de)}class pr{constructor(he,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{he(this)}).catch(ve=>{this.error(ve)})}next(he){this.forEachObserver(de=>{de.next(he)})}error(he){this.forEachObserver(de=>{de.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,de,ve){let Ce;if(void 0===he&&void 0===de&&void 0===ve)throw new Error("Missing Observer.");Ce=function Yn(Be,he){if("object"!=typeof Be||null===Be)return!1;for(const de of he)if(de in Be&&"function"==typeof Be[de])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:de,complete:ve},void 0===Ce.next&&(Ce.next=Ft),void 0===Ce.error&&(Ce.error=Ft),void 0===Ce.complete&&(Ce.complete=Ft);const pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ce.error(this.finalError):Ce.complete()}catch{}}),this.observers.push(Ce),pt}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,he)}sendOne(he,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{de(this.observers[he])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ft(){}const Tn=1e3,We=2,et=144e5,Nt=.5;function bt(Be,he=Tn,de=We){const ve=he*Math.pow(de,Be),Ce=Math.round(Nt*ve*(Math.random()-.5)*2);return Math.min(et,ve+Ce)}function nn(Be){return Be&&Be._delegate?Be._delegate:Be}},6506:(lt,rt,C)=>{"use strict";C.d(rt,{c:()=>be});var c=C(7643),d=C(544);let Y;const W=pe=>pe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V=pe=>(void 0===Y&&(Y=void 0===pe.style.animationName&&void 0!==pe.style.webkitAnimationName?"-webkit-":""),Y),O=(pe,se,Me)=>{const we=se.startsWith("animation")?V(pe):"";pe.style.setProperty(we+se,Me)},N=(pe,se)=>{const Me=se.startsWith("animation")?V(pe):"";pe.style.removeProperty(Me+se)},A=[],X=(pe=[],se)=>{if(void 0!==se){const Me=Array.isArray(se)?se:[se];return[...pe,...Me]}return pe},be=pe=>{let se,Me,we,ne,ye,Re,it,De,Le,He,Xe,Qt,ht,je=[],Ae=[],Ee=[],st=!1,Ue={},Ie=[],Pe=[],Je={},ut=0,$t=!1,mt=!1,dt=!0,St=!1,zt=!0,Rt=!1;const Ct=pe,Pt=[],Wt=[],an=[],In=[],vn=[],Tt=[],gn=[],or=[],Ln=[],Sn=[],vr="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,Gn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&vr,fn=()=>Sn,Yn=(ae,q)=>((null!=q&&q.oneTimeCallback?Wt:Pt).push({c:ae,o:q}),ht),sr=()=>{if(Gn)Sn.forEach(ae=>{ae.cancel()}),Sn.length=0;else{const ae=an.slice();(0,d.r)(()=>{ae.forEach(q=>{N(q,"animation-name"),N(q,"animation-duration"),N(q,"animation-timing-function"),N(q,"animation-iteration-count"),N(q,"animation-delay"),N(q,"animation-play-state"),N(q,"animation-fill-mode"),N(q,"animation-direction")})})}},on=()=>{vn.forEach(ae=>{null!=ae&&ae.parentNode&&ae.parentNode.removeChild(ae)}),vn.length=0},Yt=()=>void 0!==ye?ye:it?it.getFill():"both",nn=()=>void 0!==Le?Le:void 0!==Re?Re:it?it.getDirection():"normal",Be=()=>$t?"linear":void 0!==we?we:it?it.getEasing():"linear",he=()=>mt?0:void 0!==He?He:void 0!==Me?Me:it?it.getDuration():0,de=()=>void 0!==ne?ne:it?it.getIterations():1,ve=()=>void 0!==Xe?Xe:void 0!==se?se:it?it.getDelay():0,ft=()=>{0!==ut&&(ut--,0===ut&&((()=>{Qr(),or.forEach(nt=>nt()),Ln.forEach(nt=>nt());const ae=dt?1:0,q=Ie,ge=Pe,Oe=Je;an.forEach(nt=>{const vt=nt.classList;q.forEach(xt=>vt.add(xt)),ge.forEach(xt=>vt.remove(xt));for(const xt in Oe)Oe.hasOwnProperty(xt)&&O(nt,xt,Oe[xt])}),Pt.forEach(nt=>nt.c(ae,ht)),Wt.forEach(nt=>nt.c(ae,ht)),Wt.length=0,zt=!0,dt&&(St=!0),dt=!0})(),it&&it.animationFinish()))},Et=(ae=!0)=>{on();const q=(pe=>(pe.forEach(se=>{for(const Me in se)if(se.hasOwnProperty(Me)){const we=se[Me];if("easing"===Me)se["animation-timing-function"]=we,delete se[Me];else{const ne=W(Me);ne!==Me&&(se[ne]=we,delete se[Me])}}}),pe))(je);an.forEach(ge=>{if(q.length>0){const Oe=((pe=[])=>pe.map(se=>{const Me=se.offset,we=[];for(const ne in se)se.hasOwnProperty(ne)&&"offset"!==ne&&we.push(`${ne}: ${se[ne]};`);return`${100*Me}% { ${we.join(" ")} }`}).join(" "))(q);Qt=void 0!==pe?pe:(pe=>{let se=A.indexOf(pe);return se<0&&(se=A.push(pe)-1),`ion-animation-${se}`})(Oe);const nt=((pe,se,Me)=>{var we;const ne=(pe=>{const se=void 0!==pe.getRootNode?pe.getRootNode():pe;return se.head||se})(Me),ye=V(Me),Re=ne.querySelector("#"+pe);if(Re)return Re;const je=(null!==(we=Me.ownerDocument)&&void 0!==we?we:document).createElement("style");return je.id=pe,je.textContent=`@${ye}keyframes ${pe} { ${se} } @${ye}keyframes ${pe}-alt { ${se} }`,ne.appendChild(je),je})(Qt,Oe,ge);vn.push(nt),O(ge,"animation-duration",`${he()}ms`),O(ge,"animation-timing-function",Be()),O(ge,"animation-delay",`${ve()}ms`),O(ge,"animation-fill-mode",Yt()),O(ge,"animation-direction",nn());const vt=de()===1/0?"infinite":de().toString();O(ge,"animation-iteration-count",vt),O(ge,"animation-play-state","paused"),ae&&O(ge,"animation-name",`${nt.id}-alt`),(0,d.r)(()=>{O(ge,"animation-name",nt.id||null)})}})},hn=(ae=!0)=>{(()=>{Tt.forEach(Oe=>Oe()),gn.forEach(Oe=>Oe());const ae=Ae,q=Ee,ge=Ue;an.forEach(Oe=>{const nt=Oe.classList;ae.forEach(vt=>nt.add(vt)),q.forEach(vt=>nt.remove(vt));for(const vt in ge)ge.hasOwnProperty(vt)&&O(Oe,vt,ge[vt])})})(),je.length>0&&(Gn?(an.forEach(ae=>{const q=ae.animate(je,{id:Ct,delay:ve(),duration:he(),easing:Be(),iterations:de(),fill:Yt(),direction:nn()});q.pause(),Sn.push(q)}),Sn.length>0&&(Sn[0].onfinish=()=>{ft()})):Et(ae)),st=!0},On=ae=>{if(ae=Math.min(Math.max(ae,0),.9999),Gn)Sn.forEach(q=>{q.currentTime=q.effect.getComputedTiming().delay+he()*ae,q.pause()});else{const q=`-${he()*ae}ms`;an.forEach(ge=>{je.length>0&&(O(ge,"animation-delay",q),O(ge,"animation-play-state","paused"))})}},Dr=ae=>{Sn.forEach(q=>{q.effect.updateTiming({delay:ve(),duration:he(),easing:Be(),iterations:de(),fill:Yt(),direction:nn()})}),void 0!==ae&&On(ae)},Zn=(ae=!0,q)=>{(0,d.r)(()=>{an.forEach(ge=>{O(ge,"animation-name",Qt||null),O(ge,"animation-duration",`${he()}ms`),O(ge,"animation-timing-function",Be()),O(ge,"animation-delay",void 0!==q?`-${q*he()}ms`:`${ve()}ms`),O(ge,"animation-fill-mode",Yt()||null),O(ge,"animation-direction",nn()||null);const Oe=de()===1/0?"infinite":de().toString();O(ge,"animation-iteration-count",Oe),ae&&O(ge,"animation-name",`${Qt}-alt`),(0,d.r)(()=>{O(ge,"animation-name",Qt||null)})})})},nr=(ae=!1,q=!0,ge)=>(ae&&In.forEach(Oe=>{Oe.update(ae,q,ge)}),Gn?Dr(ge):Zn(q,ge),ht),Fr=()=>{st&&(Gn?Sn.forEach(ae=>{ae.pause()}):an.forEach(ae=>{O(ae,"animation-play-state","paused")}),Rt=!0)},bi=()=>{De=void 0,ft()},Qr=()=>{De&&clearTimeout(De)},Ci=ae=>new Promise(q=>{null!=ae&&ae.sync&&(mt=!0,Yn(()=>mt=!1,{oneTimeCallback:!0})),st||hn(),St&&(Gn?(On(0),Dr()):Zn(),St=!1),zt&&(ut=In.length+1,zt=!1),Yn(()=>q(),{oneTimeCallback:!0}),In.forEach(ge=>{ge.play()}),Gn?(Sn.forEach(ae=>{ae.play()}),(0===je.length||0===an.length)&&ft()):(()=>{if(Qr(),(0,d.r)(()=>{an.forEach(ae=>{je.length>0&&O(ae,"animation-play-state","running")})}),0===je.length||0===an.length)ft();else{const ae=ve()||0,q=he()||0,ge=de()||1;isFinite(ge)&&(De=setTimeout(bi,ae+q*ge+100)),((pe,se)=>{let Me;const we={passive:!0},ye=Re=>{pe===Re.target&&(Me&&Me(),Qr(),(0,d.r)(()=>{an.forEach(ae=>{N(ae,"animation-duration"),N(ae,"animation-delay"),N(ae,"animation-play-state")}),(0,d.r)(ft)}))};pe&&(pe.addEventListener("webkitAnimationEnd",ye,we),pe.addEventListener("animationend",ye,we),Me=()=>{pe.removeEventListener("webkitAnimationEnd",ye,we),pe.removeEventListener("animationend",ye,we)})})(an[0])}})(),Rt=!1}),yt=(ae,q)=>{const ge=je[0];return void 0===ge||void 0!==ge.offset&&0!==ge.offset?je=[{offset:0,[ae]:q},...je]:ge[ae]=q,ht};return ht={parentAnimation:it,elements:an,childAnimations:In,id:Ct,animationFinish:ft,from:yt,to:(ae,q)=>{const ge=je[je.length-1];return void 0===ge||void 0!==ge.offset&&1!==ge.offset?je=[...je,{offset:1,[ae]:q}]:ge[ae]=q,ht},fromTo:(ae,q,ge)=>yt(ae,q).to(ae,ge),parent:ae=>(it=ae,ht),play:Ci,pause:()=>(In.forEach(ae=>{ae.pause()}),Fr(),ht),stop:()=>{In.forEach(ae=>{ae.stop()}),st&&(sr(),st=!1),$t=!1,mt=!1,zt=!0,Le=void 0,He=void 0,Xe=void 0,ut=0,St=!1,dt=!0,Rt=!1},destroy:ae=>(In.forEach(q=>{q.destroy(ae)}),(ae=>{sr(),ae&&on()})(ae),an.length=0,In.length=0,je.length=0,Pt.length=0,Wt.length=0,st=!1,zt=!0,ht),keyframes:ae=>{const q=je!==ae;return je=ae,q&&(ae=>{Gn?fn().forEach(q=>{if(q.effect.setKeyframes)q.effect.setKeyframes(ae);else{const ge=new KeyframeEffect(q.effect.target,ae,q.effect.getTiming());q.effect=ge}}):Et()})(je),ht},addAnimation:ae=>{if(null!=ae)if(Array.isArray(ae))for(const q of ae)q.parent(ht),In.push(q);else ae.parent(ht),In.push(ae);return ht},addElement:ae=>{if(null!=ae)if(1===ae.nodeType)an.push(ae);else if(ae.length>=0)for(let q=0;q<ae.length;q++)an.push(ae[q]);else console.error("Invalid addElement value");return ht},update:nr,fill:ae=>(ye=ae,nr(!0),ht),direction:ae=>(Re=ae,nr(!0),ht),iterations:ae=>(ne=ae,nr(!0),ht),duration:ae=>(!Gn&&0===ae&&(ae=1),Me=ae,nr(!0),ht),easing:ae=>(we=ae,nr(!0),ht),delay:ae=>(se=ae,nr(!0),ht),getWebAnimations:fn,getKeyframes:()=>je,getFill:Yt,getDirection:nn,getDelay:ve,getIterations:de,getEasing:Be,getDuration:he,afterAddRead:ae=>(or.push(ae),ht),afterAddWrite:ae=>(Ln.push(ae),ht),afterClearStyles:(ae=[])=>{for(const q of ae)Je[q]="";return ht},afterStyles:(ae={})=>(Je=ae,ht),afterRemoveClass:ae=>(Pe=X(Pe,ae),ht),afterAddClass:ae=>(Ie=X(Ie,ae),ht),beforeAddRead:ae=>(Tt.push(ae),ht),beforeAddWrite:ae=>(gn.push(ae),ht),beforeClearStyles:(ae=[])=>{for(const q of ae)Ue[q]="";return ht},beforeStyles:(ae={})=>(Ue=ae,ht),beforeRemoveClass:ae=>(Ee=X(Ee,ae),ht),beforeAddClass:ae=>(Ae=X(Ae,ae),ht),onFinish:Yn,isRunning:()=>0!==ut&&!Rt,progressStart:(ae=!1,q)=>(In.forEach(ge=>{ge.progressStart(ae,q)}),Fr(),$t=ae,st||hn(),nr(!1,!0,q),ht),progressStep:ae=>(In.forEach(q=>{q.progressStep(ae)}),On(ae),ht),progressEnd:(ae,q,ge)=>($t=!1,In.forEach(Oe=>{Oe.progressEnd(ae,q,ge)}),void 0!==ge&&(He=ge),St=!1,dt=!0,0===ae?(Le="reverse"===nn()?"normal":"reverse","reverse"===Le&&(dt=!1),Gn?(nr(),On(1-q)):(Xe=(1-q)*he()*-1,nr(!1,!1))):1===ae&&(Gn?(nr(),On(q)):(Xe=q*he()*-1,nr(!1,!1))),void 0!==ae&&(Yn(()=>{He=void 0,Le=void 0,Xe=void 0},{oneTimeCallback:!0}),it||Ci()),ht)}}},6219:(lt,rt,C)=>{"use strict";C.d(rt,{E:()=>_,a:()=>c,s:()=>N});const c=A=>{try{if(A instanceof O)return A.value;if(!U()||"string"!=typeof A||""===A)return A;if(A.includes("onload="))return"";const S=document.createDocumentFragment(),P=document.createElement("div");S.appendChild(P),P.innerHTML=A,V.forEach(pe=>{const se=S.querySelectorAll(pe);for(let Me=se.length-1;Me>=0;Me--){const we=se[Me];we.parentNode?we.parentNode.removeChild(we):S.removeChild(we);const ne=Y(we);for(let ye=0;ye<ne.length;ye++)d(ne[ye])}});const H=Y(S);for(let pe=0;pe<H.length;pe++)d(H[pe]);const X=document.createElement("div");X.appendChild(S);const be=X.querySelector("div");return null!==be?be.innerHTML:X.innerHTML}catch(S){return console.error(S),""}},d=A=>{if(A.nodeType&&1!==A.nodeType)return;if(typeof NamedNodeMap<"u"&&!(A.attributes instanceof NamedNodeMap))return void A.remove();for(let P=A.attributes.length-1;P>=0;P--){const H=A.attributes.item(P),X=H.name;if(!W.includes(X.toLowerCase())){A.removeAttribute(X);continue}const be=H.value,pe=A[X];(null!=be&&be.toLowerCase().includes("javascript:")||null!=pe&&pe.toLowerCase().includes("javascript:"))&&A.removeAttribute(X)}const S=Y(A);for(let P=0;P<S.length;P++)d(S[P])},Y=A=>null!=A.children?A.children:A.childNodes,U=()=>{var A;const S=window,P=null===(A=null==S?void 0:S.Ionic)||void 0===A?void 0:A.config;return!P||(P.get?P.get("sanitizerEnabled",!0):!0===P.sanitizerEnabled||void 0===P.sanitizerEnabled)},W=["class","id","href","src","name","slot"],V=["script","style","iframe","meta","link","object","embed"];class O{constructor(S){this.value=S}}const N=A=>{const S=window,P=S.Ionic;if(!P||!P.config||"Object"===P.config.constructor.name)return S.Ionic=S.Ionic||{},S.Ionic.config=Object.assign(Object.assign({},S.Ionic.config),A),S.Ionic.config},_=!1},9439:(lt,rt,C)=>{"use strict";C.d(rt,{C:()=>W,a:()=>Y,d:()=>U});var c=C(5861),d=C(544);const Y=function(){var V=(0,c.Z)(function*(O,N,M,_,A,S){var P;if(O)return O.attachViewToDom(N,M,A,_);if(!(S||"string"==typeof M||M instanceof HTMLElement))throw new Error("framework delegate is missing");const H="string"==typeof M?null===(P=N.ownerDocument)||void 0===P?void 0:P.createElement(M):M;return _&&_.forEach(X=>H.classList.add(X)),A&&Object.assign(H,A),N.appendChild(H),yield new Promise(X=>(0,d.c)(H,X)),H});return function(N,M,_,A,S,P){return V.apply(this,arguments)}}(),U=(V,O)=>{if(O){if(V)return V.removeViewFromDom(O.parentElement,O);O.remove()}return Promise.resolve()},W=()=>{let V,O;return{attachViewToDom:function(){var _=(0,c.Z)(function*(A,S,P={},H=[]){var X,be;if(V=A,S){const se="string"==typeof S?null===(X=V.ownerDocument)||void 0===X?void 0:X.createElement(S):S;H.forEach(Me=>se.classList.add(Me)),Object.assign(se,P),V.appendChild(se),yield new Promise(Me=>(0,d.c)(se,Me))}else if(V.children.length>0&&("ION-MODAL"===V.tagName||"ION-POPOVER"===V.tagName)&&!V.children[0].classList.contains("ion-delegate-host")){const Me=null===(be=V.ownerDocument)||void 0===be?void 0:be.createElement("div");Me.classList.add("ion-delegate-host"),H.forEach(we=>Me.classList.add(we)),Me.append(...V.children),V.appendChild(Me)}const pe=document.querySelector("ion-app")||document.body;return O=document.createComment("ionic teleport"),V.parentNode.insertBefore(O,V),pe.appendChild(V),V});return function(S,P){return _.apply(this,arguments)}}(),removeViewFromDom:()=>(V&&O&&(O.parentNode.insertBefore(V,O),O.remove()),Promise.resolve())}}},4587:(lt,rt,C)=>{"use strict";C.d(rt,{G:()=>W});class d{constructor(O,N,M,_,A){this.id=N,this.name=M,this.disableScroll=A,this.priority=1e6*_+N,this.ctrl=O}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const O=this.ctrl.capture(this.name,this.id,this.priority);return O&&this.disableScroll&&this.ctrl.disableScroll(this.id),O}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Y{constructor(O,N,M,_){this.id=N,this.disable=M,this.disableScroll=_,this.ctrl=O}block(){if(this.ctrl){if(this.disable)for(const O of this.disable)this.ctrl.disableGesture(O,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const O of this.disable)this.ctrl.enableGesture(O,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const U="backdrop-no-scroll",W=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(O){var N;return new d(this,this.newID(),O.name,null!==(N=O.priority)&&void 0!==N?N:0,!!O.disableScroll)}createBlocker(O={}){return new Y(this,this.newID(),O.disable,!!O.disableScroll)}start(O,N,M){return this.canStart(O)?(this.requestedStart.set(N,M),!0):(this.requestedStart.delete(N),!1)}capture(O,N,M){if(!this.start(O,N,M))return!1;const _=this.requestedStart;let A=-1e4;if(_.forEach(S=>{A=Math.max(A,S)}),A===M){this.capturedId=N,_.clear();const S=new CustomEvent("ionGestureCaptured",{detail:{gestureName:O}});return document.dispatchEvent(S),!0}return _.delete(N),!1}release(O){this.requestedStart.delete(O),this.capturedId===O&&(this.capturedId=void 0)}disableGesture(O,N){let M=this.disabledGestures.get(O);void 0===M&&(M=new Set,this.disabledGestures.set(O,M)),M.add(N)}enableGesture(O,N){const M=this.disabledGestures.get(O);void 0!==M&&M.delete(N)}disableScroll(O){this.disabledScroll.add(O),1===this.disabledScroll.size&&document.body.classList.add(U)}enableScroll(O){this.disabledScroll.delete(O),0===this.disabledScroll.size&&document.body.classList.remove(U)}canStart(O){return!(void 0!==this.capturedId||this.isDisabled(O))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(O){const N=this.disabledGestures.get(O);return!!(N&&N.size>0)}newID(){return this.gestureId++,this.gestureId}}},5421:(lt,rt,C)=>{"use strict";C.r(rt),C.d(rt,{MENU_BACK_BUTTON_PRIORITY:()=>W,OVERLAY_BACK_BUTTON_PRIORITY:()=>U,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>Y});var c=C(5861);const d=()=>{document.addEventListener("backbutton",()=>{})},Y=()=>{const V=document;let O=!1;V.addEventListener("backbutton",()=>{if(O)return;let N=0,M=[];const _=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(P,H){M.push({priority:P,handler:H,id:N++})}}});V.dispatchEvent(_);const A=function(){var P=(0,c.Z)(function*(H){try{if(null!=H&&H.handler){const X=H.handler(S);null!=X&&(yield X)}}catch(X){console.error(X)}});return function(X){return P.apply(this,arguments)}}(),S=()=>{if(M.length>0){let P={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};M.forEach(H=>{H.priority>=P.priority&&(P=H)}),O=!0,M=M.filter(H=>H.id!==P.id),A(P).then(()=>O=!1)}};S()})},U=100,W=99},544:(lt,rt,C)=>{"use strict";C.d(rt,{a:()=>N,b:()=>M,c:()=>Y,d:()=>be,e:()=>X,f:()=>H,g:()=>_,h:()=>P,i:()=>O,j:()=>ye,k:()=>W,l:()=>pe,m:()=>U,n:()=>S,o:()=>se,p:()=>ne,q:()=>Re,r:()=>A,s:()=>je,t:()=>c,u:()=>Me,v:()=>we});const c=(Ae,Ee=0)=>new Promise(st=>{d(Ae,Ee,st)}),d=(Ae,Ee=0,st)=>{let it,Ue;const Ie={passive:!0},Je=()=>{it&&it()},ut=$t=>{(void 0===$t||Ae===$t.target)&&(Je(),st($t))};return Ae&&(Ae.addEventListener("webkitTransitionEnd",ut,Ie),Ae.addEventListener("transitionend",ut,Ie),Ue=setTimeout(ut,Ee+500),it=()=>{Ue&&(clearTimeout(Ue),Ue=void 0),Ae.removeEventListener("webkitTransitionEnd",ut,Ie),Ae.removeEventListener("transitionend",ut,Ie)}),Je},Y=(Ae,Ee)=>{Ae.componentOnReady?Ae.componentOnReady().then(st=>Ee(st)):A(()=>Ee(Ae))},U=Ae=>void 0!==Ae.componentOnReady,W=(Ae,Ee=[])=>{const st={};return Ee.forEach(it=>{Ae.hasAttribute(it)&&(null!==Ae.getAttribute(it)&&(st[it]=Ae.getAttribute(it)),Ae.removeAttribute(it))}),st},V=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],O=(Ae,Ee)=>{let st=V;return Ee&&Ee.length>0&&(st=st.filter(it=>!Ee.includes(it))),W(Ae,st)},N=(Ae,Ee,st,it)=>{var Ue;if(typeof window<"u"){const Ie=window,Pe=null===(Ue=null==Ie?void 0:Ie.Ionic)||void 0===Ue?void 0:Ue.config;if(Pe){const Je=Pe.get("_ael");if(Je)return Je(Ae,Ee,st,it);if(Pe._ael)return Pe._ael(Ae,Ee,st,it)}}return Ae.addEventListener(Ee,st,it)},M=(Ae,Ee,st,it)=>{var Ue;if(typeof window<"u"){const Ie=window,Pe=null===(Ue=null==Ie?void 0:Ie.Ionic)||void 0===Ue?void 0:Ue.config;if(Pe){const Je=Pe.get("_rel");if(Je)return Je(Ae,Ee,st,it);if(Pe._rel)return Pe._rel(Ae,Ee,st,it)}}return Ae.removeEventListener(Ee,st,it)},_=(Ae,Ee=Ae)=>Ae.shadowRoot||Ee,A=Ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ae):setTimeout(Ae),S=Ae=>!!Ae.shadowRoot&&!!Ae.attachShadow,P=Ae=>{const Ee=Ae.closest("ion-item");return Ee?Ee.querySelector("ion-label"):null},H=Ae=>{if(Ae.focus(),Ae.classList.contains("ion-focusable")){const Ee=Ae.closest("ion-app");Ee&&Ee.setFocus([Ae])}},X=(Ae,Ee)=>{let st;const it=Ae.getAttribute("aria-labelledby"),Ue=Ae.id;let Ie=null!==it&&""!==it.trim()?it:Ee+"-lbl",Pe=null!==it&&""!==it.trim()?document.getElementById(it):P(Ae);return Pe?(null===it&&(Pe.id=Ie),st=Pe.textContent,Pe.setAttribute("aria-hidden","true")):""!==Ue.trim()&&(Pe=document.querySelector(`label[for="${Ue}"]`),Pe&&(""!==Pe.id?Ie=Pe.id:Pe.id=Ie=`${Ue}-lbl`,st=Pe.textContent)),{label:Pe,labelId:Ie,labelText:st}},be=(Ae,Ee,st,it,Ue)=>{if(Ae||S(Ee)){let Ie=Ee.querySelector("input.aux-input");Ie||(Ie=Ee.ownerDocument.createElement("input"),Ie.type="hidden",Ie.classList.add("aux-input"),Ee.appendChild(Ie)),Ie.disabled=Ue,Ie.name=st,Ie.value=it||""}},pe=(Ae,Ee,st)=>Math.max(Ae,Math.min(Ee,st)),se=(Ae,Ee)=>{if(!Ae){const st="ASSERT: "+Ee;throw console.error(st),new Error(st)}},Me=Ae=>Ae.timeStamp||Date.now(),we=Ae=>{if(Ae){const Ee=Ae.changedTouches;if(Ee&&Ee.length>0){const st=Ee[0];return{x:st.clientX,y:st.clientY}}if(void 0!==Ae.pageX)return{x:Ae.pageX,y:Ae.pageY}}return{x:0,y:0}},ne=Ae=>{const Ee="rtl"===document.dir;switch(Ae){case"start":return Ee;case"end":return!Ee;default:throw new Error(`"${Ae}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ye=(Ae,Ee)=>{const st=Ae._original||Ae;return{_original:Ae,emit:Re(st.emit.bind(st),Ee)}},Re=(Ae,Ee=0)=>{let st;return(...it)=>{clearTimeout(st),st=setTimeout(Ae,Ee,...it)}},je=(Ae,Ee)=>{if(null!=Ae||(Ae={}),null!=Ee||(Ee={}),Ae===Ee)return!0;const st=Object.keys(Ae);if(st.length!==Object.keys(Ee).length)return!1;for(const it of st)if(!(it in Ee)||Ae[it]!==Ee[it])return!1;return!0}},6953:(lt,rt,C)=>{"use strict";C.d(rt,{B:()=>A,H:()=>Je,a:()=>dr,b:()=>kt,c:()=>St,d:()=>Rt,e:()=>ci,f:()=>ht,g:()=>zt,h:()=>Ie,i:()=>Gt,j:()=>S,p:()=>Ur,r:()=>Ye,w:()=>yt});var c=C(5861);let Y,U,W,V=!1,O=!1,N=!1,M=!1,_=!1;const A={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},S=Q=>{const ue=new URL(Q,Kn.$resourcesUrl$);return ue.origin!==nr.location.origin?ue.href:ue.pathname},Me="s-id",we="sty-id",Re="http://www.w3.org/1999/xlink",je={},it=Q=>"object"==(Q=typeof Q)||"function"===Q;function Ue(Q){var ue,ae,q;return null!==(q=null===(ae=null===(ue=Q.head)||void 0===ue?void 0:ue.querySelector('meta[name="csp-nonce"]'))||void 0===ae?void 0:ae.getAttribute("content"))&&void 0!==q?q:void 0}const Ie=(Q,ue,...ae)=>{let q=null,ge=null,Oe=null,nt=!1,vt=!1;const xt=[],Lt=Pn=>{for(let Jn=0;Jn<Pn.length;Jn++)q=Pn[Jn],Array.isArray(q)?Lt(q):null!=q&&"boolean"!=typeof q&&((nt="function"!=typeof Q&&!it(q))&&(q=String(q)),nt&&vt?xt[xt.length-1].$text$+=q:xt.push(nt?Pe(null,q):q),vt=nt)};if(Lt(ae),ue){ue.key&&(ge=ue.key),ue.name&&(Oe=ue.name);{const Pn=ue.className||ue.class;Pn&&(ue.class="object"!=typeof Pn?Pn:Object.keys(Pn).filter(Jn=>Pn[Jn]).join(" "))}}if("function"==typeof Q)return Q(null===ue?{}:ue,xt,$t);const cn=Pe(Q,null);return cn.$attrs$=ue,xt.length>0&&(cn.$children$=xt),cn.$key$=ge,cn.$name$=Oe,cn},Pe=(Q,ue)=>({$flags$:0,$tag$:Q,$text$:ue,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Je={},$t={forEach:(Q,ue)=>Q.map(mt).forEach(ue),map:(Q,ue)=>Q.map(mt).map(ue).map(De)},mt=Q=>({vattrs:Q.$attrs$,vchildren:Q.$children$,vkey:Q.$key$,vname:Q.$name$,vtag:Q.$tag$,vtext:Q.$text$}),De=Q=>{if("function"==typeof Q.vtag){const ae=Object.assign({},Q.vattrs);return Q.vkey&&(ae.key=Q.vkey),Q.vname&&(ae.name=Q.vname),Ie(Q.vtag,ae,...Q.vchildren||[])}const ue=Pe(Q.vtag,Q.vtext);return ue.$attrs$=Q.vattrs,ue.$children$=Q.vchildren,ue.$key$=Q.vkey,ue.$name$=Q.vname,ue},He=(Q,ue,ae,q,ge,Oe,nt)=>{let vt,xt,Lt,cn;if(1===Oe.nodeType){for(vt=Oe.getAttribute("c-id"),vt&&(xt=vt.split("."),(xt[0]===nt||"0"===xt[0])&&(Lt={$flags$:0,$hostId$:xt[0],$nodeId$:xt[1],$depth$:xt[2],$index$:xt[3],$tag$:Oe.tagName.toLowerCase(),$elm$:Oe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ue.push(Lt),Oe.removeAttribute("c-id"),Q.$children$||(Q.$children$=[]),Q.$children$[Lt.$index$]=Lt,Q=Lt,q&&"0"===Lt.$depth$&&(q[Lt.$index$]=Lt.$elm$))),cn=Oe.childNodes.length-1;cn>=0;cn--)He(Q,ue,ae,q,ge,Oe.childNodes[cn],nt);if(Oe.shadowRoot)for(cn=Oe.shadowRoot.childNodes.length-1;cn>=0;cn--)He(Q,ue,ae,q,ge,Oe.shadowRoot.childNodes[cn],nt)}else if(8===Oe.nodeType)xt=Oe.nodeValue.split("."),(xt[1]===nt||"0"===xt[1])&&(vt=xt[0],Lt={$flags$:0,$hostId$:xt[1],$nodeId$:xt[2],$depth$:xt[3],$index$:xt[4],$elm$:Oe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===vt?(Lt.$elm$=Oe.nextSibling,Lt.$elm$&&3===Lt.$elm$.nodeType&&(Lt.$text$=Lt.$elm$.textContent,ue.push(Lt),Oe.remove(),Q.$children$||(Q.$children$=[]),Q.$children$[Lt.$index$]=Lt,q&&"0"===Lt.$depth$&&(q[Lt.$index$]=Lt.$elm$))):Lt.$hostId$===nt&&("s"===vt?(Lt.$tag$="slot",Oe["s-sn"]=xt[5]?Lt.$name$=xt[5]:"",Oe["s-sr"]=!0,q&&(Lt.$elm$=yr.createElement(Lt.$tag$),Lt.$name$&&Lt.$elm$.setAttribute("name",Lt.$name$),Oe.parentNode.insertBefore(Lt.$elm$,Oe),Oe.remove(),"0"===Lt.$depth$&&(q[Lt.$index$]=Lt.$elm$)),ae.push(Lt),Q.$children$||(Q.$children$=[]),Q.$children$[Lt.$index$]=Lt):"r"===vt&&(q?Oe.remove():(ge["s-cr"]=Oe,Oe["s-cn"]=!0))));else if(Q&&"style"===Q.$tag$){const Pn=Pe(null,Oe.textContent);Pn.$elm$=Oe,Pn.$index$="0",Q.$children$=[Pn]}},Xe=(Q,ue)=>{if(1===Q.nodeType){let ae=0;for(;ae<Q.childNodes.length;ae++)Xe(Q.childNodes[ae],ue);if(Q.shadowRoot)for(ae=0;ae<Q.shadowRoot.childNodes.length;ae++)Xe(Q.shadowRoot.childNodes[ae],ue)}else if(8===Q.nodeType){const ae=Q.nodeValue.split(".");"o"===ae[0]&&(ue.set(ae[1]+"."+ae[2],Q),Q.nodeValue="",Q["s-en"]=ae[3])}},St=Q=>Zn.push(Q),zt=Q=>Ve(Q).$modeName$,ht=Q=>Ve(Q).$hostElement$,Rt=(Q,ue,ae)=>{const q=ht(Q);return{emit:ge=>Ct(q,ue,{bubbles:!!(4&ae),composed:!!(2&ae),cancelable:!!(1&ae),detail:ge})}},Ct=(Q,ue,ae)=>{const q=Kn.ce(ue,ae);return Q.dispatchEvent(q),q},Pt=new WeakMap,Wt=(Q,ue,ae)=>{let q=Dr.get(Q);bi&&ae?(q=q||new CSSStyleSheet,"string"==typeof q?q=ue:q.replaceSync(ue)):q=ue,Dr.set(Q,q)},an=(Q,ue,ae,q)=>{var ge;let Oe=vn(ue,ae);const nt=Dr.get(Oe);if(Q=11===Q.nodeType?Q:yr,nt)if("string"==typeof nt){let xt,vt=Pt.get(Q=Q.head||Q);if(vt||Pt.set(Q,vt=new Set),!vt.has(Oe)){if(Q.host&&(xt=Q.querySelector(`[${we}="${Oe}"]`)))xt.innerHTML=nt;else{xt=yr.createElement("style"),xt.innerHTML=nt;const Lt=null!==(ge=Kn.$nonce$)&&void 0!==ge?ge:Ue(yr);null!=Lt&&xt.setAttribute("nonce",Lt),Q.insertBefore(xt,Q.querySelector("link"))}vt&&vt.add(Oe)}}else Q.adoptedStyleSheets.includes(nt)||(Q.adoptedStyleSheets=[...Q.adoptedStyleSheets,nt]);return Oe},vn=(Q,ue)=>"sc-"+(ue&&32&Q.$flags$?Q.$tagName$+"-"+ue:Q.$tagName$),Tt=Q=>Q.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),gn=(Q,ue,ae,q,ge,Oe)=>{if(ae!==q){let nt=Et(Q,ue),vt=ue.toLowerCase();if("class"===ue){const xt=Q.classList,Lt=Ln(ae),cn=Ln(q);xt.remove(...Lt.filter(Pn=>Pn&&!cn.includes(Pn))),xt.add(...cn.filter(Pn=>Pn&&!Lt.includes(Pn)))}else if("style"===ue){for(const xt in ae)(!q||null==q[xt])&&(xt.includes("-")?Q.style.removeProperty(xt):Q.style[xt]="");for(const xt in q)(!ae||q[xt]!==ae[xt])&&(xt.includes("-")?Q.style.setProperty(xt,q[xt]):Q.style[xt]=q[xt])}else if("key"!==ue)if("ref"===ue)q&&q(Q);else if(nt||"o"!==ue[0]||"n"!==ue[1]){const xt=it(q);if((nt||xt&&null!==q)&&!ge)try{if(Q.tagName.includes("-"))Q[ue]=q;else{const cn=null==q?"":q;"list"===ue?nt=!1:(null==ae||Q[ue]!=cn)&&(Q[ue]=cn)}}catch{}let Lt=!1;vt!==(vt=vt.replace(/^xlink\:?/,""))&&(ue=vt,Lt=!0),null==q||!1===q?(!1!==q||""===Q.getAttribute(ue))&&(Lt?Q.removeAttributeNS(Re,ue):Q.removeAttribute(ue)):(!nt||4&Oe||ge)&&!xt&&(q=!0===q?"":q,Lt?Q.setAttributeNS(Re,ue,q):Q.setAttribute(ue,q))}else ue="-"===ue[2]?ue.slice(3):Et(nr,vt)?vt.slice(2):vt[2]+ue.slice(3),ae&&Kn.rel(Q,ue,ae,!1),q&&Kn.ael(Q,ue,q,!1)}},or=/\s/,Ln=Q=>Q?Q.split(or):[],Sn=(Q,ue,ae,q)=>{const ge=11===ue.$elm$.nodeType&&ue.$elm$.host?ue.$elm$.host:ue.$elm$,Oe=Q&&Q.$attrs$||je,nt=ue.$attrs$||je;for(q in Oe)q in nt||gn(ge,q,Oe[q],void 0,ae,ue.$flags$);for(q in nt)gn(ge,q,Oe[q],nt[q],ae,ue.$flags$)},vr=(Q,ue,ae,q)=>{const ge=ue.$children$[ae];let nt,vt,xt,Oe=0;if(V||(N=!0,"slot"===ge.$tag$&&(Y&&q.classList.add(Y+"-s"),ge.$flags$|=ge.$children$?2:1)),null!==ge.$text$)nt=ge.$elm$=yr.createTextNode(ge.$text$);else if(1&ge.$flags$)nt=ge.$elm$=yr.createTextNode("");else{if(M||(M="svg"===ge.$tag$),nt=ge.$elm$=yr.createElementNS(M?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ge.$flags$?"slot-fb":ge.$tag$),M&&"foreignObject"===ge.$tag$&&(M=!1),Sn(null,ge,M),(Q=>null!=Q)(Y)&&nt["s-si"]!==Y&&nt.classList.add(nt["s-si"]=Y),ge.$children$)for(Oe=0;Oe<ge.$children$.length;++Oe)vt=vr(Q,ge,Oe,nt),vt&&nt.appendChild(vt);"svg"===ge.$tag$?M=!1:"foreignObject"===nt.tagName&&(M=!0)}return nt["s-hn"]=W,3&ge.$flags$&&(nt["s-sr"]=!0,nt["s-cr"]=U,nt["s-sn"]=ge.$name$||"",xt=Q&&Q.$children$&&Q.$children$[ae],xt&&xt.$tag$===ge.$tag$&&Q.$elm$&&Gn(Q.$elm$,!1)),nt},Gn=(Q,ue)=>{Kn.$flags$|=1;const ae=Q.childNodes;for(let q=ae.length-1;q>=0;q--){const ge=ae[q];ge["s-hn"]!==W&&ge["s-ol"]&&(An(ge).insertBefore(ge,pr(ge)),ge["s-ol"].remove(),ge["s-ol"]=void 0,N=!0),ue&&Gn(ge,ue)}Kn.$flags$&=-2},tr=(Q,ue,ae,q,ge,Oe)=>{let vt,nt=Q["s-cr"]&&Q["s-cr"].parentNode||Q;for(nt.shadowRoot&&nt.tagName===W&&(nt=nt.shadowRoot);ge<=Oe;++ge)q[ge]&&(vt=vr(null,ae,ge,Q),vt&&(q[ge].$elm$=vt,nt.insertBefore(vt,pr(ue))))},fn=(Q,ue,ae)=>{for(let q=ue;q<=ae;++q){const ge=Q[q];if(ge){const Oe=ge.$elm$;Rn(ge),Oe&&(O=!0,Oe["s-ol"]?Oe["s-ol"].remove():Gn(Oe,!0),Oe.remove())}}},_r=(Q,ue)=>Q.$tag$===ue.$tag$&&("slot"===Q.$tag$?Q.$name$===ue.$name$:Q.$key$===ue.$key$),pr=Q=>Q&&Q["s-ol"]||Q,An=Q=>(Q["s-ol"]?Q["s-ol"]:Q).parentNode,Yn=(Q,ue)=>{const ae=ue.$elm$=Q.$elm$,q=Q.$children$,ge=ue.$children$,Oe=ue.$tag$,nt=ue.$text$;let vt;null===nt?(M="svg"===Oe||"foreignObject"!==Oe&&M,"slot"===Oe||Sn(Q,ue,M),null!==q&&null!==ge?((Q,ue,ae,q)=>{let Bi,ui,ge=0,Oe=0,nt=0,vt=0,xt=ue.length-1,Lt=ue[0],cn=ue[xt],Pn=q.length-1,Jn=q[0],Or=q[Pn];for(;ge<=xt&&Oe<=Pn;)if(null==Lt)Lt=ue[++ge];else if(null==cn)cn=ue[--xt];else if(null==Jn)Jn=q[++Oe];else if(null==Or)Or=q[--Pn];else if(_r(Lt,Jn))Yn(Lt,Jn),Lt=ue[++ge],Jn=q[++Oe];else if(_r(cn,Or))Yn(cn,Or),cn=ue[--xt],Or=q[--Pn];else if(_r(Lt,Or))("slot"===Lt.$tag$||"slot"===Or.$tag$)&&Gn(Lt.$elm$.parentNode,!1),Yn(Lt,Or),Q.insertBefore(Lt.$elm$,cn.$elm$.nextSibling),Lt=ue[++ge],Or=q[--Pn];else if(_r(cn,Jn))("slot"===Lt.$tag$||"slot"===Or.$tag$)&&Gn(cn.$elm$.parentNode,!1),Yn(cn,Jn),Q.insertBefore(cn.$elm$,Lt.$elm$),cn=ue[--xt],Jn=q[++Oe];else{for(nt=-1,vt=ge;vt<=xt;++vt)if(ue[vt]&&null!==ue[vt].$key$&&ue[vt].$key$===Jn.$key$){nt=vt;break}nt>=0?(ui=ue[nt],ui.$tag$!==Jn.$tag$?Bi=vr(ue&&ue[Oe],ae,nt,Q):(Yn(ui,Jn),ue[nt]=void 0,Bi=ui.$elm$),Jn=q[++Oe]):(Bi=vr(ue&&ue[Oe],ae,Oe,Q),Jn=q[++Oe]),Bi&&An(Lt.$elm$).insertBefore(Bi,pr(Lt.$elm$))}ge>xt?tr(Q,null==q[Pn+1]?null:q[Pn+1].$elm$,ae,q,Oe,Pn):Oe>Pn&&fn(ue,ge,xt)})(ae,q,ue,ge):null!==ge?(null!==Q.$text$&&(ae.textContent=""),tr(ae,null,ue,ge,0,ge.length-1)):null!==q&&fn(q,0,q.length-1),M&&"svg"===Oe&&(M=!1)):(vt=ae["s-cr"])?vt.parentNode.textContent=nt:Q.$text$!==nt&&(ae.data=nt)},Ft=Q=>{const ue=Q.childNodes;let ae,q,ge,Oe,nt,vt;for(q=0,ge=ue.length;q<ge;q++)if(ae=ue[q],1===ae.nodeType){if(ae["s-sr"])for(nt=ae["s-sn"],ae.hidden=!1,Oe=0;Oe<ge;Oe++)if(vt=ue[Oe].nodeType,ue[Oe]["s-hn"]!==ae["s-hn"]||""!==nt){if(1===vt&&nt===ue[Oe].getAttribute("slot")){ae.hidden=!0;break}}else if(1===vt||3===vt&&""!==ue[Oe].textContent.trim()){ae.hidden=!0;break}Ft(ae)}},sr=[],on=Q=>{let ue,ae,q,ge,Oe,nt,vt=0;const xt=Q.childNodes,Lt=xt.length;for(;vt<Lt;vt++){if(ue=xt[vt],ue["s-sr"]&&(ae=ue["s-cr"])&&ae.parentNode)for(q=ae.parentNode.childNodes,ge=ue["s-sn"],nt=q.length-1;nt>=0;nt--)ae=q[nt],!ae["s-cn"]&&!ae["s-nr"]&&ae["s-hn"]!==ue["s-hn"]&&(Tr(ae,ge)?(Oe=sr.find(cn=>cn.$nodeToRelocate$===ae),O=!0,ae["s-sn"]=ae["s-sn"]||ge,Oe?Oe.$slotRefNode$=ue:sr.push({$slotRefNode$:ue,$nodeToRelocate$:ae}),ae["s-sr"]&&sr.map(cn=>{Tr(cn.$nodeToRelocate$,ae["s-sn"])&&(Oe=sr.find(Pn=>Pn.$nodeToRelocate$===ae),Oe&&!cn.$slotRefNode$&&(cn.$slotRefNode$=Oe.$slotRefNode$))})):sr.some(cn=>cn.$nodeToRelocate$===ae)||sr.push({$nodeToRelocate$:ae}));1===ue.nodeType&&on(ue)}},Tr=(Q,ue)=>1===Q.nodeType?null===Q.getAttribute("slot")&&""===ue||Q.getAttribute("slot")===ue:Q["s-sn"]===ue||""===ue,Rn=Q=>{Q.$attrs$&&Q.$attrs$.ref&&Q.$attrs$.ref(null),Q.$children$&&Q.$children$.map(Rn)},jn=(Q,ue)=>{ue&&!Q.$onRenderResolve$&&ue["s-p"]&&ue["s-p"].push(new Promise(ae=>Q.$onRenderResolve$=ae))},zr=(Q,ue)=>{if(Q.$flags$|=16,!(4&Q.$flags$))return jn(Q,Q.$ancestorComponent$),yt(()=>Wn(Q,ue));Q.$flags$|=512},Wn=(Q,ue)=>{const q=Q.$lazyInstance$;let ge;return ue&&(Q.$flags$|=256,Q.$queuedListeners$&&(Q.$queuedListeners$.map(([Oe,nt])=>nn(q,Oe,nt)),Q.$queuedListeners$=void 0),ge=nn(q,"componentWillLoad")),ge=Tn(ge,()=>nn(q,"componentWillRender")),Tn(ge,()=>et(Q,q,ue))},Tn=(Q,ue)=>We(Q)?Q.then(ue):ue(),We=Q=>Q instanceof Promise||Q&&Q.then&&"function"==typeof Q.then,et=function(){var Q=(0,c.Z)(function*(ue,ae,q){var ge;const Oe=ue.$hostElement$,vt=Oe["s-rc"];q&&(Q=>{const ue=Q.$cmpMeta$,ae=Q.$hostElement$,q=ue.$flags$,Oe=an(ae.shadowRoot?ae.shadowRoot:ae.getRootNode(),ue,Q.$modeName$);10&q&&(ae["s-sc"]=Oe,ae.classList.add(Oe+"-h"),2&q&&ae.classList.add(Oe+"-s"))})(ue);Nt(ue,ae),vt&&(vt.map(Lt=>Lt()),Oe["s-rc"]=void 0);{const Lt=null!==(ge=Oe["s-p"])&&void 0!==ge?ge:[],cn=()=>bt(ue);0===Lt.length?cn():(Promise.all(Lt).then(cn),ue.$flags$|=4,Lt.length=0)}});return function(ae,q,ge){return Q.apply(this,arguments)}}(),Nt=(Q,ue,ae)=>{try{ue=ue.render&&ue.render(),Q.$flags$&=-17,Q.$flags$|=2,((Q,ue)=>{const ae=Q.$hostElement$,q=Q.$cmpMeta$,ge=Q.$vnode$||Pe(null,null),Oe=(Q=>Q&&Q.$tag$===Je)(ue)?ue:Ie(null,null,ue);if(W=ae.tagName,q.$attrsToReflect$&&(Oe.$attrs$=Oe.$attrs$||{},q.$attrsToReflect$.map(([nt,vt])=>Oe.$attrs$[vt]=ae[nt])),Oe.$tag$=null,Oe.$flags$|=4,Q.$vnode$=Oe,Oe.$elm$=ge.$elm$=ae.shadowRoot||ae,Y=ae["s-sc"],U=ae["s-cr"],V=0!=(1&q.$flags$),O=!1,Yn(ge,Oe),Kn.$flags$|=1,N){on(Oe.$elm$);let nt,vt,xt,Lt,cn,Pn,Jn=0;for(;Jn<sr.length;Jn++)nt=sr[Jn],vt=nt.$nodeToRelocate$,vt["s-ol"]||(xt=yr.createTextNode(""),xt["s-nr"]=vt,vt.parentNode.insertBefore(vt["s-ol"]=xt,vt));for(Jn=0;Jn<sr.length;Jn++)if(nt=sr[Jn],vt=nt.$nodeToRelocate$,nt.$slotRefNode$){for(Lt=nt.$slotRefNode$.parentNode,cn=nt.$slotRefNode$.nextSibling,xt=vt["s-ol"];xt=xt.previousSibling;)if(Pn=xt["s-nr"],Pn&&Pn["s-sn"]===vt["s-sn"]&&Lt===Pn.parentNode&&(Pn=Pn.nextSibling,!Pn||!Pn["s-nr"])){cn=Pn;break}(!cn&&Lt!==vt.parentNode||vt.nextSibling!==cn)&&vt!==cn&&(!vt["s-hn"]&&vt["s-ol"]&&(vt["s-hn"]=vt["s-ol"].parentNode.nodeName),Lt.insertBefore(vt,cn))}else 1===vt.nodeType&&(vt.hidden=!0)}O&&Ft(Oe.$elm$),Kn.$flags$&=-2,sr.length=0})(Q,ue)}catch(q){ln(q,Q.$hostElement$)}return null},bt=Q=>{const ae=Q.$hostElement$,ge=Q.$lazyInstance$,Oe=Q.$ancestorComponent$;nn(ge,"componentDidRender"),64&Q.$flags$?nn(ge,"componentDidUpdate"):(Q.$flags$|=64,Be(ae),nn(ge,"componentDidLoad"),Q.$onReadyResolve$(ae),Oe||Yt()),Q.$onInstanceResolve$(ae),Q.$onRenderResolve$&&(Q.$onRenderResolve$(),Q.$onRenderResolve$=void 0),512&Q.$flags$&&Ci(()=>zr(Q,!1)),Q.$flags$&=-517},Gt=Q=>{{const ue=Ve(Q),ae=ue.$hostElement$.isConnected;return ae&&2==(18&ue.$flags$)&&zr(ue,!1),ae}},Yt=Q=>{Be(yr.documentElement),Ci(()=>Ct(nr,"appload",{detail:{namespace:"ionic"}}))},nn=(Q,ue,ae)=>{if(Q&&Q[ue])try{return Q[ue](ae)}catch(q){ln(q)}},Be=Q=>Q.classList.add("hydrated"),ve=(Q,ue,ae)=>{if(ue.$members$){Q.watchers&&(ue.$watchers$=Q.watchers);const q=Object.entries(ue.$members$),ge=Q.prototype;if(q.map(([Oe,[nt]])=>{31&nt||2&ae&&32&nt?Object.defineProperty(ge,Oe,{get(){return((Q,ue)=>Ve(this).$instanceValues$.get(ue))(0,Oe)},set(vt){((Q,ue,ae,q)=>{const ge=Ve(Q),Oe=ge.$hostElement$,nt=ge.$instanceValues$.get(ue),vt=ge.$flags$,xt=ge.$lazyInstance$;ae=((Q,ue)=>null==Q||it(Q)?Q:4&ue?"false"!==Q&&(""===Q||!!Q):2&ue?parseFloat(Q):1&ue?String(Q):Q)(ae,q.$members$[ue][0]);const Lt=Number.isNaN(nt)&&Number.isNaN(ae);if((!(8&vt)||void 0===nt)&&ae!==nt&&!Lt&&(ge.$instanceValues$.set(ue,ae),xt)){if(q.$watchers$&&128&vt){const Pn=q.$watchers$[ue];Pn&&Pn.map(Jn=>{try{xt[Jn](ae,nt,ue)}catch(Or){ln(Or,Oe)}})}2==(18&vt)&&zr(ge,!1)}})(this,Oe,vt,ue)},configurable:!0,enumerable:!0}):1&ae&&64&nt&&Object.defineProperty(ge,Oe,{value(...vt){const xt=Ve(this);return xt.$onInstancePromise$.then(()=>xt.$lazyInstance$[Oe](...vt))}})}),1&ae){const Oe=new Map;ge.attributeChangedCallback=function(nt,vt,xt){Kn.jmp(()=>{const Lt=Oe.get(nt);if(this.hasOwnProperty(Lt))xt=this[Lt],delete this[Lt];else if(ge.hasOwnProperty(Lt)&&"number"==typeof this[Lt]&&this[Lt]==xt)return;this[Lt]=(null!==xt||"boolean"!=typeof this[Lt])&&xt})},Q.observedAttributes=q.filter(([nt,vt])=>15&vt[0]).map(([nt,vt])=>{const xt=vt[1]||nt;return Oe.set(xt,nt),512&vt[0]&&ue.$attrsToReflect$.push([nt,xt]),xt})}}return Q},Ce=function(){var Q=(0,c.Z)(function*(ue,ae,q,ge,Oe){if(!(32&ae.$flags$)){ae.$flags$|=32;{if((Oe=On(q)).then){const Lt=()=>{};Oe=yield Oe,Lt()}Oe.isProxied||(q.$watchers$=Oe.watchers,ve(Oe,q,2),Oe.isProxied=!0);const xt=()=>{};ae.$flags$|=8;try{new Oe(ae)}catch(Lt){ln(Lt)}ae.$flags$&=-9,ae.$flags$|=128,xt(),pt(ae.$lazyInstance$)}if(Oe.style){let xt=Oe.style;"string"!=typeof xt&&(xt=xt[ae.$modeName$=(Q=>Zn.map(ue=>ue(Q)).find(ue=>!!ue))(ue)]);const Lt=vn(q,ae.$modeName$);if(!Dr.has(Lt)){const cn=()=>{};Wt(Lt,xt,!!(1&q.$flags$)),cn()}}}const nt=ae.$ancestorComponent$,vt=()=>zr(ae,!0);nt&&nt["s-rc"]?nt["s-rc"].push(vt):vt()});return function(ae,q,ge,Oe,nt){return Q.apply(this,arguments)}}(),pt=Q=>{nn(Q,"connectedCallback")},tt=Q=>{const ue=Q["s-cr"]=yr.createComment("");ue["s-cn"]=!0,Q.insertBefore(ue,Q.firstChild)},kt=(Q,ue={})=>{var ae;const ge=[],Oe=ue.exclude||[],nt=nr.customElements,vt=yr.head,xt=vt.querySelector("meta[charset]"),Lt=yr.createElement("style"),cn=[],Pn=yr.querySelectorAll(`[${we}]`);let Jn,Or=!0,Bi=0;for(Object.assign(Kn,ue),Kn.$resourcesUrl$=new URL(ue.resourcesUrl||"./",yr.baseURI).href,Kn.$flags$|=2;Bi<Pn.length;Bi++)Wt(Pn[Bi].getAttribute(we),Tt(Pn[Bi].innerHTML),!0);Q.map(ui=>{ui[1].map(Qi=>{const Ui={$flags$:Qi[0],$tagName$:Qi[1],$members$:Qi[2],$listeners$:Qi[3]};Ui.$members$=Qi[2],Ui.$listeners$=Qi[3],Ui.$attrsToReflect$=[],Ui.$watchers$={};const Mr=Ui.$tagName$,di=class extends HTMLElement{constructor(Ni){super(Ni),ft(Ni=this,Ui),1&Ui.$flags$&&Ni.attachShadow({mode:"open",delegatesFocus:!!(16&Ui.$flags$)})}connectedCallback(){Jn&&(clearTimeout(Jn),Jn=null),Or?cn.push(this):Kn.jmp(()=>(Q=>{if(!(1&Kn.$flags$)){const ue=Ve(Q),ae=ue.$cmpMeta$,q=()=>{};if(1&ue.$flags$)Jt(Q,ue,ae.$listeners$),pt(ue.$lazyInstance$);else{let ge;if(ue.$flags$|=1,ge=Q.getAttribute(Me),ge){if(1&ae.$flags$){const Oe=an(Q.shadowRoot,ae,Q.getAttribute("s-mode"));Q.classList.remove(Oe+"-h",Oe+"-s")}((Q,ue,ae,q)=>{const Oe=Q.shadowRoot,nt=[],xt=Oe?[]:null,Lt=q.$vnode$=Pe(ue,null);Kn.$orgLocNodes$||Xe(yr.body,Kn.$orgLocNodes$=new Map),Q[Me]=ae,Q.removeAttribute(Me),He(Lt,nt,[],xt,Q,Q,ae),nt.map(cn=>{const Pn=cn.$hostId$+"."+cn.$nodeId$,Jn=Kn.$orgLocNodes$.get(Pn),Or=cn.$elm$;Jn&&Fr&&""===Jn["s-en"]&&Jn.parentNode.insertBefore(Or,Jn.nextSibling),Oe||(Or["s-hn"]=ue,Jn&&(Or["s-ol"]=Jn,Or["s-ol"]["s-nr"]=Or)),Kn.$orgLocNodes$.delete(Pn)}),Oe&&xt.map(cn=>{cn&&Oe.appendChild(cn)})})(Q,ae.$tagName$,ge,ue)}ge||12&ae.$flags$&&tt(Q);{let Oe=Q;for(;Oe=Oe.parentNode||Oe.host;)if(1===Oe.nodeType&&Oe.hasAttribute("s-id")&&Oe["s-p"]||Oe["s-p"]){jn(ue,ue.$ancestorComponent$=Oe);break}}ae.$members$&&Object.entries(ae.$members$).map(([Oe,[nt]])=>{if(31&nt&&Q.hasOwnProperty(Oe)){const vt=Q[Oe];delete Q[Oe],Q[Oe]=vt}}),Ce(Q,ue,ae)}q()}})(this))}disconnectedCallback(){Kn.jmp(()=>(Q=>{if(!(1&Kn.$flags$)){const ue=Ve(this),ae=ue.$lazyInstance$;ue.$rmListeners$&&(ue.$rmListeners$.map(q=>q()),ue.$rmListeners$=void 0),nn(ae,"disconnectedCallback")}})())}componentOnReady(){return Ve(this).$onReadyPromise$}};Ui.$lazyBundleId$=ui[0],!Oe.includes(Mr)&&!nt.get(Mr)&&(ge.push(Mr),nt.define(Mr,ve(di,Ui,1)))})});{Lt.innerHTML=ge+"{visibility:hidden}.hydrated{visibility:inherit}",Lt.setAttribute("data-styles","");const ui=null!==(ae=Kn.$nonce$)&&void 0!==ae?ae:Ue(yr);null!=ui&&Lt.setAttribute("nonce",ui),vt.insertBefore(Lt,xt?xt.nextSibling:vt.firstChild)}Or=!1,cn.length?cn.map(ui=>ui.connectedCallback()):Kn.jmp(()=>Jn=setTimeout(Yt,30))},Jt=(Q,ue,ae,q)=>{ae&&ae.map(([ge,Oe,nt])=>{const vt=bn(Q,ge),xt=Zt(ue,nt),Lt=gt(ge);Kn.ael(vt,Oe,xt,Lt),(ue.$rmListeners$=ue.$rmListeners$||[]).push(()=>Kn.rel(vt,Oe,xt,Lt))})},Zt=(Q,ue)=>ae=>{try{256&Q.$flags$?Q.$lazyInstance$[ue](ae):(Q.$queuedListeners$=Q.$queuedListeners$||[]).push([ue,ae])}catch(q){ln(q)}},bn=(Q,ue)=>4&ue?yr:8&ue?nr:16&ue?yr.body:Q,gt=Q=>0!=(2&Q),qe=new WeakMap,Ve=Q=>qe.get(Q),Ye=(Q,ue)=>qe.set(ue.$lazyInstance$=Q,ue),ft=(Q,ue)=>{const ae={$flags$:0,$hostElement$:Q,$cmpMeta$:ue,$instanceValues$:new Map};return ae.$onInstancePromise$=new Promise(q=>ae.$onInstanceResolve$=q),ae.$onReadyPromise$=new Promise(q=>ae.$onReadyResolve$=q),Q["s-p"]=[],Q["s-rc"]=[],Jt(Q,ae,ue.$listeners$),qe.set(Q,ae)},Et=(Q,ue)=>ue in Q,ln=(Q,ue)=>(0,console.error)(Q,ue),hn=new Map,On=(Q,ue,ae)=>{const q=Q.$tagName$.replace(/-/g,"_"),ge=Q.$lazyBundleId$,Oe=hn.get(ge);return Oe?Oe[q]:C(863)(`./${ge}.entry.js`).then(nt=>(hn.set(ge,nt),nt[q]),ln)},Dr=new Map,Zn=[],nr=typeof window<"u"?window:{},yr=nr.document||{head:{}},Kn={$flags$:0,$resourcesUrl$:"",jmp:Q=>Q(),raf:Q=>requestAnimationFrame(Q),ael:(Q,ue,ae,q)=>Q.addEventListener(ue,ae,q),rel:(Q,ue,ae,q)=>Q.removeEventListener(ue,ae,q),ce:(Q,ue)=>new CustomEvent(Q,ue)},dr=Q=>{Object.assign(Kn,Q)},Fr=!0,Ur=Q=>Promise.resolve(Q),bi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Qr=[],mi=[],Wr=(Q,ue)=>ae=>{Q.push(ae),_||(_=!0,ue&&4&Kn.$flags$?Ci(wi):Kn.raf(wi))},li=Q=>{for(let ue=0;ue<Q.length;ue++)try{Q[ue](performance.now())}catch(ae){ln(ae)}Q.length=0},wi=()=>{li(Qr),li(mi),(_=Qr.length>0)&&Kn.raf(wi)},Ci=Q=>Ur().then(Q),ci=Wr(Qr,!1),yt=Wr(mi,!0)},8077:(lt,rt,C)=>{"use strict";C.r(rt),C.d(rt,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>M});var c=C(4587);const d=(P,H,X,be)=>{const pe=Y(P)?{capture:!!be.capture,passive:!!be.passive}:!!be.capture;let se,Me;return P.__zone_symbol__addEventListener?(se="__zone_symbol__addEventListener",Me="__zone_symbol__removeEventListener"):(se="addEventListener",Me="removeEventListener"),P[se](H,X,pe),()=>{P[Me](H,X,pe)}},Y=P=>{if(void 0===U)try{const H=Object.defineProperty({},"passive",{get:()=>{U=!0}});P.addEventListener("optsTest",()=>{},H)}catch{U=!1}return!!U};let U;const O=P=>P instanceof Document?P:P.ownerDocument,M=P=>{let H=!1,X=!1,be=!0,pe=!1;const se=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},P),Me=se.canStart,we=se.onWillStart,ne=se.onStart,ye=se.onEnd,Re=se.notCaptured,je=se.onMove,Ae=se.threshold,Ee=se.passive,st=se.blurOnStart,it={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ue=((P,H,X)=>{const be=X*(Math.PI/180),pe="x"===P,se=Math.cos(be),Me=H*H;let we=0,ne=0,ye=!1,Re=0;return{start(je,Ae){we=je,ne=Ae,Re=0,ye=!0},detect(je,Ae){if(!ye)return!1;const Ee=je-we,st=Ae-ne,it=Ee*Ee+st*st;if(it<Me)return!1;const Ue=Math.sqrt(it),Ie=(pe?Ee:st)/Ue;return Re=Ie>se?1:Ie<-se?-1:0,ye=!1,!0},isGesture:()=>0!==Re,getDirection:()=>Re}})(se.direction,se.threshold,se.maxAngle),Ie=c.G.createGesture({name:P.gestureName,priority:P.gesturePriority,disableScroll:P.disableScroll}),ut=()=>{H&&(pe=!1,je&&je(it))},$t=()=>!!Ie.capture()&&(H=!0,be=!1,it.startX=it.currentX,it.startY=it.currentY,it.startTime=it.currentTime,we?we(it).then(De):De(),!0),De=()=>{st&&(()=>{if(typeof document<"u"){const St=document.activeElement;null!=St&&St.blur&&St.blur()}})(),ne&&ne(it),be=!0},Le=()=>{H=!1,X=!1,pe=!1,be=!0,Ie.release()},He=St=>{const zt=H,Qt=be;if(Le(),Qt){if(_(it,St),zt)return void(ye&&ye(it));Re&&Re(it)}},Xe=((P,H,X,be,pe)=>{let se,Me,we,ne,ye,Re,je,Ae=0;const Ee=mt=>{Ae=Date.now()+2e3,H(mt)&&(!Me&&X&&(Me=d(P,"touchmove",X,pe)),we||(we=d(mt.target,"touchend",it,pe)),ne||(ne=d(mt.target,"touchcancel",it,pe)))},st=mt=>{Ae>Date.now()||H(mt)&&(!Re&&X&&(Re=d(O(P),"mousemove",X,pe)),je||(je=d(O(P),"mouseup",Ue,pe)))},it=mt=>{Ie(),be&&be(mt)},Ue=mt=>{Pe(),be&&be(mt)},Ie=()=>{Me&&Me(),we&&we(),ne&&ne(),Me=we=ne=void 0},Pe=()=>{Re&&Re(),je&&je(),Re=je=void 0},Je=()=>{Ie(),Pe()},ut=(mt=!0)=>{mt?(se||(se=d(P,"touchstart",Ee,pe)),ye||(ye=d(P,"mousedown",st,pe))):(se&&se(),ye&&ye(),se=ye=void 0,Je())};return{enable:ut,stop:Je,destroy:()=>{ut(!1),be=X=H=void 0}}})(se.el,St=>{const zt=S(St);return!(X||!be||(A(St,it),it.startX=it.currentX,it.startY=it.currentY,it.startTime=it.currentTime=zt,it.velocityX=it.velocityY=it.deltaX=it.deltaY=0,it.event=St,Me&&!1===Me(it))||(Ie.release(),!Ie.start()))&&(X=!0,0===Ae?$t():(Ue.start(it.startX,it.startY),!0))},St=>{H?!pe&&be&&(pe=!0,_(it,St),requestAnimationFrame(ut)):(_(it,St),Ue.detect(it.currentX,it.currentY)&&(!Ue.isGesture()||!$t())&&dt())},He,{capture:!1,passive:Ee}),dt=()=>{Le(),Xe.stop(),Re&&Re(it)};return{enable(St=!0){St||(H&&He(void 0),Le()),Xe.enable(St)},destroy(){Ie.destroy(),Xe.destroy()}}},_=(P,H)=>{if(!H)return;const X=P.currentX,be=P.currentY,pe=P.currentTime;A(H,P);const se=P.currentX,Me=P.currentY,ne=(P.currentTime=S(H))-pe;if(ne>0&&ne<100){const Re=(Me-be)/ne;P.velocityX=(se-X)/ne*.7+.3*P.velocityX,P.velocityY=.7*Re+.3*P.velocityY}P.deltaX=se-P.startX,P.deltaY=Me-P.startY,P.event=H},A=(P,H)=>{let X=0,be=0;if(P){const pe=P.changedTouches;if(pe&&pe.length>0){const se=pe[0];X=se.clientX,be=se.clientY}else void 0!==P.pageX&&(X=P.pageX,be=P.pageY)}H.currentX=X,H.currentY=be},S=P=>P.timeStamp||Date.now()},1767:(lt,rt,C)=>{"use strict";C.d(rt,{m:()=>A});var c=C(5861),d=C(5421),Y=C(544),U=C(7876),W=C(6506);const V=S=>(0,W.c)().duration(S?400:300),O=S=>{let P,H;const X=S.width+8,be=(0,W.c)(),pe=(0,W.c)();S.isEndSide?(P=X+"px",H="0px"):(P=-X+"px",H="0px"),be.addElement(S.menuInnerEl).fromTo("transform",`translateX(${P})`,`translateX(${H})`);const Me="ios"===(0,U.b)(S),we=Me?.2:.25;return pe.addElement(S.backdropEl).fromTo("opacity",.01,we),V(Me).addAnimation([be,pe])},N=S=>{let P,H;const X=(0,U.b)(S),be=S.width;S.isEndSide?(P=-be+"px",H=be+"px"):(P=be+"px",H=-be+"px");const pe=(0,W.c)().addElement(S.menuInnerEl).fromTo("transform",`translateX(${H})`,"translateX(0px)"),se=(0,W.c)().addElement(S.contentEl).fromTo("transform","translateX(0px)",`translateX(${P})`),Me=(0,W.c)().addElement(S.backdropEl).fromTo("opacity",.01,.32);return V("ios"===X).addAnimation([pe,se,Me])},M=S=>{const P=(0,U.b)(S),H=S.width*(S.isEndSide?-1:1)+"px",X=(0,W.c)().addElement(S.contentEl).fromTo("transform","translateX(0px)",`translateX(${H})`);return V("ios"===P).addAnimation(X)},A=(()=>{const S=new Map,P=[],H=function(){var De=(0,c.Z)(function*(Le){const He=yield ne(Le);return!!He&&He.open()});return function(He){return De.apply(this,arguments)}}(),X=function(){var De=(0,c.Z)(function*(Le){const He=yield void 0!==Le?ne(Le):ye();return void 0!==He&&He.close()});return function(He){return De.apply(this,arguments)}}(),be=function(){var De=(0,c.Z)(function*(Le){const He=yield ne(Le);return!!He&&He.toggle()});return function(He){return De.apply(this,arguments)}}(),pe=function(){var De=(0,c.Z)(function*(Le,He){const Xe=yield ne(He);return Xe&&(Xe.disabled=!Le),Xe});return function(He,Xe){return De.apply(this,arguments)}}(),se=function(){var De=(0,c.Z)(function*(Le,He){const Xe=yield ne(He);return Xe&&(Xe.swipeGesture=Le),Xe});return function(He,Xe){return De.apply(this,arguments)}}(),Me=function(){var De=(0,c.Z)(function*(Le){if(null!=Le){const He=yield ne(Le);return void 0!==He&&He.isOpen()}return void 0!==(yield ye())});return function(He){return De.apply(this,arguments)}}(),we=function(){var De=(0,c.Z)(function*(Le){const He=yield ne(Le);return!!He&&!He.disabled});return function(He){return De.apply(this,arguments)}}(),ne=function(){var De=(0,c.Z)(function*(Le){return yield mt(),"start"===Le||"end"===Le?$t(dt=>dt.side===Le&&!dt.disabled)||$t(dt=>dt.side===Le):null!=Le?$t(Xe=>Xe.menuId===Le):$t(Xe=>!Xe.disabled)||(P.length>0?P[0].el:void 0)});return function(He){return De.apply(this,arguments)}}(),ye=function(){var De=(0,c.Z)(function*(){return yield mt(),Pe()});return function(){return De.apply(this,arguments)}}(),Re=function(){var De=(0,c.Z)(function*(){return yield mt(),Je()});return function(){return De.apply(this,arguments)}}(),je=function(){var De=(0,c.Z)(function*(){return yield mt(),ut()});return function(){return De.apply(this,arguments)}}(),Ae=(De,Le)=>{S.set(De,Le)},it=De=>{const Le=De.side;P.filter(He=>He.side===Le&&He!==De).forEach(He=>He.disabled=!0)},Ue=function(){var De=(0,c.Z)(function*(Le,He,Xe){if(ut())return!1;if(He){const dt=yield ye();dt&&Le.el!==dt&&(yield dt.setOpen(!1,!1))}return Le._setOpen(He,Xe)});return function(He,Xe,dt){return De.apply(this,arguments)}}(),Pe=()=>$t(De=>De._isOpen),Je=()=>P.map(De=>De.el),ut=()=>P.some(De=>De.isAnimating),$t=De=>{const Le=P.find(De);if(void 0!==Le)return Le.el},mt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(De=>new Promise(Le=>(0,Y.c)(De,Le))));return Ae("reveal",M),Ae("push",N),Ae("overlay",O),typeof document<"u"&&document.addEventListener("ionBackButton",De=>{const Le=Pe();Le&&De.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>Le.close())}),{registerAnimation:Ae,get:ne,getMenus:Re,getOpen:ye,isEnabled:we,swipeGesture:se,isAnimating:je,isOpen:Me,enable:pe,toggle:be,close:X,open:H,_getOpenSync:Pe,_createAnimation:(De,Le)=>{const He=S.get(De);if(!He)throw new Error("animation not registered");return He(Le)},_register:De=>{P.indexOf(De)<0&&(De.disabled||it(De),P.push(De))},_unregister:De=>{const Le=P.indexOf(De);Le>-1&&P.splice(Le,1)},_setOpen:Ue,_setActiveMenu:it}})()},8354:(lt,rt,C)=>{"use strict";C.d(rt,{L:()=>U,a:()=>W,b:()=>V,c:()=>O,d:()=>N,e:()=>Ae,g:()=>it,l:()=>Re,s:()=>Ee,t:()=>A,w:()=>je});var c=C(5861),d=C(6953),Y=C(544);const U="ionViewWillEnter",W="ionViewDidEnter",V="ionViewWillLeave",O="ionViewDidLeave",N="ionViewWillUnload",A=Ue=>new Promise((Ie,Pe)=>{(0,d.w)(()=>{S(Ue),P(Ue).then(Je=>{Je.animation&&Je.animation.destroy(),H(Ue),Ie(Je)},Je=>{H(Ue),Pe(Je)})})}),S=Ue=>{const Ie=Ue.enteringEl,Pe=Ue.leavingEl;st(Ie,Pe,Ue.direction),Ue.showGoBack?Ie.classList.add("can-go-back"):Ie.classList.remove("can-go-back"),Ee(Ie,!1),Ie.style.setProperty("pointer-events","none"),Pe&&(Ee(Pe,!1),Pe.style.setProperty("pointer-events","none"))},P=function(){var Ue=(0,c.Z)(function*(Ie){const Pe=yield X(Ie);return Pe&&d.B.isBrowser?be(Pe,Ie):pe(Ie)});return function(Pe){return Ue.apply(this,arguments)}}(),H=Ue=>{const Ie=Ue.enteringEl,Pe=Ue.leavingEl;Ie.classList.remove("ion-page-invisible"),Ie.style.removeProperty("pointer-events"),void 0!==Pe&&(Pe.classList.remove("ion-page-invisible"),Pe.style.removeProperty("pointer-events"))},X=function(){var Ue=(0,c.Z)(function*(Ie){return Ie.leavingEl&&Ie.animated&&0!==Ie.duration?Ie.animationBuilder?Ie.animationBuilder:"ios"===Ie.mode?(yield Promise.resolve().then(C.bind(C,8899))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5298))).mdTransitionAnimation:void 0});return function(Pe){return Ue.apply(this,arguments)}}(),be=function(){var Ue=(0,c.Z)(function*(Ie,Pe){yield se(Pe,!0);const Je=Ie(Pe.baseEl,Pe);ne(Pe.enteringEl,Pe.leavingEl);const ut=yield we(Je,Pe);return Pe.progressCallback&&Pe.progressCallback(void 0),ut&&ye(Pe.enteringEl,Pe.leavingEl),{hasCompleted:ut,animation:Je}});return function(Pe,Je){return Ue.apply(this,arguments)}}(),pe=function(){var Ue=(0,c.Z)(function*(Ie){const Pe=Ie.enteringEl,Je=Ie.leavingEl;return yield se(Ie,!1),ne(Pe,Je),ye(Pe,Je),{hasCompleted:!0}});return function(Pe){return Ue.apply(this,arguments)}}(),se=function(){var Ue=(0,c.Z)(function*(Ie,Pe){(void 0!==Ie.deepWait?Ie.deepWait:Pe)&&(yield Promise.all([Ae(Ie.enteringEl),Ae(Ie.leavingEl)])),yield Me(Ie.viewIsReady,Ie.enteringEl)});return function(Pe,Je){return Ue.apply(this,arguments)}}(),Me=function(){var Ue=(0,c.Z)(function*(Ie,Pe){Ie&&(yield Ie(Pe))});return function(Pe,Je){return Ue.apply(this,arguments)}}(),we=(Ue,Ie)=>{const Pe=Ie.progressCallback,Je=new Promise(ut=>{Ue.onFinish($t=>ut(1===$t))});return Pe?(Ue.progressStart(!0),Pe(Ue)):Ue.play(),Je},ne=(Ue,Ie)=>{Re(Ie,V),Re(Ue,U)},ye=(Ue,Ie)=>{Re(Ue,W),Re(Ie,O)},Re=(Ue,Ie)=>{if(Ue){const Pe=new CustomEvent(Ie,{bubbles:!1,cancelable:!1});Ue.dispatchEvent(Pe)}},je=()=>new Promise(Ue=>(0,Y.r)(()=>(0,Y.r)(()=>Ue()))),Ae=function(){var Ue=(0,c.Z)(function*(Ie){const Pe=Ie;if(Pe){if(null!=Pe.componentOnReady){if(null!=(yield Pe.componentOnReady()))return}else if(null!=Pe.__registerHost)return void(yield new Promise(ut=>(0,Y.r)(ut)));yield Promise.all(Array.from(Pe.children).map(Ae))}});return function(Pe){return Ue.apply(this,arguments)}}(),Ee=(Ue,Ie)=>{Ie?(Ue.setAttribute("aria-hidden","true"),Ue.classList.add("ion-page-hidden")):(Ue.hidden=!1,Ue.removeAttribute("aria-hidden"),Ue.classList.remove("ion-page-hidden"))},st=(Ue,Ie,Pe)=>{void 0!==Ue&&(Ue.style.zIndex="back"===Pe?"99":"101"),void 0!==Ie&&(Ie.style.zIndex="100")},it=Ue=>Ue.classList.contains("ion-page")?Ue:Ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ue},7643:(lt,rt,C)=>{"use strict";C.d(rt,{d:()=>d,w:()=>c});const c=typeof window<"u"?window:void 0,d=typeof document<"u"?document:void 0},7690:(lt,rt,C)=>{"use strict";C.d(rt,{a:()=>d,b:()=>Y,p:()=>c});const c=(U,...W)=>console.warn(`[Ionic Warning]: ${U}`,...W),d=(U,...W)=>console.error(`[Ionic Error]: ${U}`,...W),Y=(U,...W)=>console.error(`<${U.tagName.toLowerCase()}> must be used inside ${W.join(" or ")}.`)},7876:(lt,rt,C)=>{"use strict";C.d(rt,{a:()=>A,b:()=>ut,c:()=>Y,g:()=>_,i:()=>$t});var c=C(6953);class d{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,Le){const He=this.m.get(De);return void 0!==He?He:Le}getBoolean(De,Le=!1){const He=this.m.get(De);return void 0===He?Le:"string"==typeof He?"true"===He:!!He}getNumber(De,Le){const He=parseFloat(this.m.get(De));return isNaN(He)?void 0!==Le?Le:NaN:He}set(De,Le){this.m.set(De,Le)}}const Y=new d,N="ionic:",M="ionic-persist-config",_=mt=>S(mt),A=(mt,De)=>("string"==typeof mt&&(De=mt,mt=void 0),_(mt).includes(De)),S=(mt=window)=>{if(typeof mt>"u")return[];mt.Ionic=mt.Ionic||{};let De=mt.Ionic.platforms;return null==De&&(De=mt.Ionic.platforms=P(mt),De.forEach(Le=>mt.document.documentElement.classList.add(`plt-${Le}`))),De},P=mt=>{const De=Y.get("platform");return Object.keys(Pe).filter(Le=>{const He=null==De?void 0:De[Le];return"function"==typeof He?He(mt):Pe[Le](mt)})},X=mt=>!!(Ue(mt,/iPad/i)||Ue(mt,/Macintosh/i)&&ye(mt)),se=mt=>Ue(mt,/android|sink/i),ye=mt=>Ie(mt,"(any-pointer:coarse)"),je=mt=>Ae(mt)||Ee(mt),Ae=mt=>!!(mt.cordova||mt.phonegap||mt.PhoneGap),Ee=mt=>{const De=mt.Capacitor;return!(null==De||!De.isNative)},Ue=(mt,De)=>De.test(mt.navigator.userAgent),Ie=(mt,De)=>{var Le;return null===(Le=mt.matchMedia)||void 0===Le?void 0:Le.call(mt,De).matches},Pe={ipad:X,iphone:mt=>Ue(mt,/iPhone/i),ios:mt=>Ue(mt,/iPhone|iPod/i)||X(mt),android:se,phablet:mt=>{const De=mt.innerWidth,Le=mt.innerHeight,He=Math.min(De,Le),Xe=Math.max(De,Le);return He>390&&He<520&&Xe>620&&Xe<800},tablet:mt=>{const De=mt.innerWidth,Le=mt.innerHeight,He=Math.min(De,Le),Xe=Math.max(De,Le);return X(mt)||(mt=>se(mt)&&!Ue(mt,/mobile/i))(mt)||He>460&&He<820&&Xe>780&&Xe<1400},cordova:Ae,capacitor:Ee,electron:mt=>Ue(mt,/electron/i),pwa:mt=>{var De;return!!(null!==(De=mt.matchMedia)&&void 0!==De&&De.call(mt,"(display-mode: standalone)").matches||mt.navigator.standalone)},mobile:ye,mobileweb:mt=>ye(mt)&&!je(mt),desktop:mt=>!ye(mt),hybrid:je};let Je;const ut=mt=>mt&&(0,c.g)(mt)||Je,$t=(mt={})=>{if(typeof window>"u")return;const De=window.document,Le=window,He=Le.Ionic=Le.Ionic||{},Xe={};mt._ael&&(Xe.ael=mt._ael),mt._rel&&(Xe.rel=mt._rel),mt._ce&&(Xe.ce=mt._ce),(0,c.a)(Xe);const dt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(mt=>{try{const De=mt.sessionStorage.getItem(M);return null!==De?JSON.parse(De):{}}catch{return{}}})(Le)),{persistConfig:!1}),He.config),(mt=>{const De={};return mt.location.search.slice(1).split("&").map(Le=>Le.split("=")).map(([Le,He])=>[decodeURIComponent(Le),decodeURIComponent(He)]).filter(([Le])=>((mt,De)=>mt.substr(0,De.length)===De)(Le,N)).map(([Le,He])=>[Le.slice(6),He]).forEach(([Le,He])=>{De[Le]=He}),De})(Le)),mt);Y.reset(dt),Y.getBoolean("persistConfig")&&((mt,De)=>{try{mt.sessionStorage.setItem(M,JSON.stringify(De))}catch{return}})(Le,dt),S(Le),He.config=Y,He.mode=Je=Y.get("mode",De.documentElement.getAttribute("mode")||(A(Le,"ios")?"ios":"md")),Y.set("mode",Je),De.documentElement.setAttribute("mode",Je),De.documentElement.classList.add(Je),Y.getBoolean("_testing")&&Y.set("animated",!1);const St=Qt=>{var ht;return null===(ht=Qt.tagName)||void 0===ht?void 0:ht.startsWith("ION-")},zt=Qt=>["ios","md"].includes(Qt);(0,c.c)(Qt=>{for(;Qt;){const ht=Qt.mode||Qt.getAttribute("mode");if(ht){if(zt(ht))return ht;St(Qt)&&console.warn('Invalid ionic mode: "'+ht+'", expected: "ios" or "md"')}Qt=Qt.parentElement}return Je})}},8899:(lt,rt,C)=>{"use strict";C.r(rt),C.d(rt,{iosTransitionAnimation:()=>P,shadow:()=>O});var c=C(6506),d=C(8354);C(7643),C(6953);const V=H=>document.querySelector(`${H}.ion-cloned-element`),O=H=>H.shadowRoot||H,N=H=>{const X="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs"),be="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=X){const pe=X.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=pe?pe.querySelector(be):null}return H.querySelector(be)},M=(H,X)=>{const be="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs");let pe=[];if(null!=be){const se=be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=se&&(pe=se.querySelectorAll("ion-buttons"))}else pe=H.querySelectorAll("ion-buttons");for(const se of pe){const Me=se.closest("ion-header"),we=Me&&!Me.classList.contains("header-collapse-condense-inactive"),ne=se.querySelector("ion-back-button"),ye=se.classList.contains("buttons-collapse");if(null!==ne&&("start"===se.slot||""===se.slot)&&(ye&&we&&X||!ye))return ne}return null},A=(H,X,be,pe,se,Me)=>{const we=X?`calc(100% - ${Me.right+4}px)`:Me.left-4+"px",ne=X?"7px":"-7px",ye=X?"-4px":"4px",Re=X?"-4px":"4px",je=X?"right":"left",Ae=X?"left":"right",it=be?[{offset:0,opacity:1,transform:`translate3d(${ye}, ${Me.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ne}, ${se.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ne}, ${se.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ye}, ${Me.top-46}px, 0) scale(1)`}],Pe=be?[{offset:0,opacity:1,transform:`translate3d(${Re}, ${Me.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Re}, ${Me.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Re}, ${Me.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Re}, ${Me.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Re}, ${Me.top-46}px, 0) scale(1)`}],Je=(0,c.c)(),ut=(0,c.c)(),$t=V("ion-back-button"),mt=O($t).querySelector(".button-text"),De=O($t).querySelector("ion-icon");$t.text=pe.text,$t.mode=pe.mode,$t.icon=pe.icon,$t.color=pe.color,$t.disabled=pe.disabled,$t.style.setProperty("display","block"),$t.style.setProperty("position","fixed"),ut.addElement(De),Je.addElement(mt),Je.beforeStyles({"transform-origin":`${je} center`}).beforeAddWrite(()=>{pe.style.setProperty("display","none"),$t.style.setProperty(je,we)}).afterAddWrite(()=>{pe.style.setProperty("display",""),$t.style.setProperty("display","none"),$t.style.removeProperty(je)}).keyframes(it),ut.beforeStyles({"transform-origin":`${Ae} center`}).keyframes(Pe),H.addAnimation([Je,ut])},S=(H,X,be,pe,se,Me)=>{const we=X?`calc(100% - ${se.right}px)`:`${se.left}px`,ne=X?"-18px":"18px",ye=X?"right":"left",Ae=be?[{offset:0,opacity:0,transform:`translate3d(${ne}, ${Me.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${se.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${se.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ne}, ${Me.top-4}px, 0) scale(0.5)`}],Ee=V("ion-title"),st=(0,c.c)();Ee.innerText=pe.innerText,Ee.size=pe.size,Ee.color=pe.color,st.addElement(Ee),st.beforeStyles({"transform-origin":`${ye} center`,height:"46px",display:"",position:"relative",[ye]:we}).beforeAddWrite(()=>{pe.style.setProperty("display","none")}).afterAddWrite(()=>{pe.style.setProperty("display",""),Ee.style.setProperty("display","none")}).keyframes(Ae),H.addAnimation(st)},P=(H,X)=>{var be;try{const pe="cubic-bezier(0.32,0.72,0,1)",se="opacity",Me="transform",we="0%",ye="rtl"===H.ownerDocument.dir,Re=ye?"-99.5%":"99.5%",je=ye?"33%":"-33%",Ae=X.enteringEl,Ee=X.leavingEl,st="back"===X.direction,it=Ae.querySelector(":scope > ion-content"),Ue=Ae.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ie=Ae.querySelectorAll(":scope > ion-header > ion-toolbar"),Pe=(0,c.c)(),Je=(0,c.c)();if(Pe.addElement(Ae).duration((null!==(be=X.duration)&&void 0!==be?be:0)||540).easing(X.easing||pe).fill("both").beforeRemoveClass("ion-page-invisible"),Ee&&null!=H){const De=(0,c.c)();De.addElement(H),Pe.addAnimation(De)}if(it||0!==Ie.length||0!==Ue.length?(Je.addElement(it),Je.addElement(Ue)):Je.addElement(Ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pe.addAnimation(Je),st?Je.beforeClearStyles([se]).fromTo("transform",`translateX(${je})`,`translateX(${we})`).fromTo(se,.8,1):Je.beforeClearStyles([se]).fromTo("transform",`translateX(${Re})`,`translateX(${we})`),it){const De=O(it).querySelector(".transition-effect");if(De){const Le=De.querySelector(".transition-cover"),He=De.querySelector(".transition-shadow"),Xe=(0,c.c)(),dt=(0,c.c)(),St=(0,c.c)();Xe.addElement(De).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),dt.addElement(Le).beforeClearStyles([se]).fromTo(se,0,.1),St.addElement(He).beforeClearStyles([se]).fromTo(se,.03,.7),Xe.addAnimation([dt,St]),Je.addAnimation([Xe])}}const ut=Ae.querySelector("ion-header.header-collapse-condense"),{forward:$t,backward:mt}=((H,X,be,pe,se)=>{const Me=M(pe,be),we=N(se),ne=N(pe),ye=M(se,be),Re=null!==Me&&null!==we&&!be,je=null!==ne&&null!==ye&&be;if(Re){const Ae=we.getBoundingClientRect(),Ee=Me.getBoundingClientRect();S(H,X,be,we,Ae,Ee),A(H,X,be,Me,Ae,Ee)}else if(je){const Ae=ne.getBoundingClientRect(),Ee=ye.getBoundingClientRect();S(H,X,be,ne,Ae,Ee),A(H,X,be,ye,Ae,Ee)}return{forward:Re,backward:je}})(Pe,ye,st,Ae,Ee);if(Ie.forEach(De=>{const Le=(0,c.c)();Le.addElement(De),Pe.addAnimation(Le);const He=(0,c.c)();He.addElement(De.querySelector("ion-title"));const Xe=(0,c.c)(),dt=Array.from(De.querySelectorAll("ion-buttons,[menuToggle]")),St=De.closest("ion-header"),zt=null==St?void 0:St.classList.contains("header-collapse-condense-inactive");let Qt;Qt=dt.filter(st?Wt=>{const an=Wt.classList.contains("buttons-collapse");return an&&!zt||!an}:Wt=>!Wt.classList.contains("buttons-collapse")),Xe.addElement(Qt);const ht=(0,c.c)();ht.addElement(De.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Rt=(0,c.c)();Rt.addElement(O(De).querySelector(".toolbar-background"));const Ct=(0,c.c)(),Pt=De.querySelector("ion-back-button");if(Pt&&Ct.addElement(Pt),Le.addAnimation([He,Xe,ht,Rt,Ct]),Xe.fromTo(se,.01,1),ht.fromTo(se,.01,1),st)zt||He.fromTo("transform",`translateX(${je})`,`translateX(${we})`).fromTo(se,.01,1),ht.fromTo("transform",`translateX(${je})`,`translateX(${we})`),Ct.fromTo(se,.01,1);else if(ut||He.fromTo("transform",`translateX(${Re})`,`translateX(${we})`).fromTo(se,.01,1),ht.fromTo("transform",`translateX(${Re})`,`translateX(${we})`),Rt.beforeClearStyles([se,"transform"]),(null==St?void 0:St.translucent)?Rt.fromTo("transform",ye?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Rt.fromTo(se,.01,"var(--opacity)"),$t||Ct.fromTo(se,.01,1),Pt&&!$t){const an=(0,c.c)();an.addElement(O(Pt).querySelector(".button-text")).fromTo("transform",ye?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Le.addAnimation(an)}}),Ee){const De=(0,c.c)(),Le=Ee.querySelector(":scope > ion-content"),He=Ee.querySelectorAll(":scope > ion-header > ion-toolbar"),Xe=Ee.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Le||0!==He.length||0!==Xe.length?(De.addElement(Le),De.addElement(Xe)):De.addElement(Ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pe.addAnimation(De),st){De.beforeClearStyles([se]).fromTo("transform",`translateX(${we})`,ye?"translateX(-100%)":"translateX(100%)");const dt=(0,d.g)(Ee);Pe.afterAddWrite(()=>{"normal"===Pe.getDirection()&&dt.style.setProperty("display","none")})}else De.fromTo("transform",`translateX(${we})`,`translateX(${je})`).fromTo(se,1,.8);if(Le){const dt=O(Le).querySelector(".transition-effect");if(dt){const St=dt.querySelector(".transition-cover"),zt=dt.querySelector(".transition-shadow"),Qt=(0,c.c)(),ht=(0,c.c)(),Rt=(0,c.c)();Qt.addElement(dt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ht.addElement(St).beforeClearStyles([se]).fromTo(se,.1,0),Rt.addElement(zt).beforeClearStyles([se]).fromTo(se,.7,.03),Qt.addAnimation([ht,Rt]),De.addAnimation([Qt])}}He.forEach(dt=>{const St=(0,c.c)();St.addElement(dt);const zt=(0,c.c)();zt.addElement(dt.querySelector("ion-title"));const Qt=(0,c.c)(),ht=dt.querySelectorAll("ion-buttons,[menuToggle]"),Rt=dt.closest("ion-header"),Ct=null==Rt?void 0:Rt.classList.contains("header-collapse-condense-inactive"),Pt=Array.from(ht).filter(gn=>{const or=gn.classList.contains("buttons-collapse");return or&&!Ct||!or});Qt.addElement(Pt);const Wt=(0,c.c)(),an=dt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");an.length>0&&Wt.addElement(an);const In=(0,c.c)();In.addElement(O(dt).querySelector(".toolbar-background"));const vn=(0,c.c)(),Tt=dt.querySelector("ion-back-button");if(Tt&&vn.addElement(Tt),St.addAnimation([zt,Qt,Wt,vn,In]),Pe.addAnimation(St),vn.fromTo(se,.99,0),Qt.fromTo(se,.99,0),Wt.fromTo(se,.99,0),st){if(Ct||zt.fromTo("transform",`translateX(${we})`,ye?"translateX(-100%)":"translateX(100%)").fromTo(se,.99,0),Wt.fromTo("transform",`translateX(${we})`,ye?"translateX(-100%)":"translateX(100%)"),In.beforeClearStyles([se,"transform"]),(null==Rt?void 0:Rt.translucent)?In.fromTo("transform","translateX(0px)",ye?"translateX(-100%)":"translateX(100%)"):In.fromTo(se,"var(--opacity)",0),Tt&&!mt){const or=(0,c.c)();or.addElement(O(Tt).querySelector(".button-text")).fromTo("transform",`translateX(${we})`,`translateX(${(ye?-124:124)+"px"})`),St.addAnimation(or)}}else Ct||zt.fromTo("transform",`translateX(${we})`,`translateX(${je})`).fromTo(se,.99,0).afterClearStyles([Me,se]),Wt.fromTo("transform",`translateX(${we})`,`translateX(${je})`).afterClearStyles([Me,se]),vn.afterClearStyles([se]),zt.afterClearStyles([se]),Qt.afterClearStyles([se])})}return Pe}catch(pe){throw pe}}},5298:(lt,rt,C)=>{"use strict";C.r(rt),C.d(rt,{mdTransitionAnimation:()=>W});var c=C(6506),d=C(8354);C(7643),C(6953);const W=(V,O)=>{var N,M,_;const A="40px",P="back"===O.direction,X=O.leavingEl,be=(0,d.g)(O.enteringEl),pe=be.querySelector("ion-toolbar"),se=(0,c.c)();if(se.addElement(be).fill("both").beforeRemoveClass("ion-page-invisible"),P?se.duration((null!==(N=O.duration)&&void 0!==N?N:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):se.duration((null!==(M=O.duration)&&void 0!==M?M:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${A})`,"translateY(0px)").fromTo("opacity",.01,1),pe){const Me=(0,c.c)();Me.addElement(pe),se.addAnimation(Me)}if(X&&P){se.duration((null!==(_=O.duration)&&void 0!==_?_:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Me=(0,c.c)();Me.addElement((0,d.g)(X)).onFinish(we=>{1===we&&Me.elements.length>0&&Me.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${A})`).fromTo("opacity",1,0),se.addAnimation(Me)}return se}},645:(lt,rt,C)=>{"use strict";C.d(rt,{B:()=>St,G:()=>zt,a:()=>A,b:()=>S,c:()=>be,d:()=>Qt,e:()=>ht,f:()=>Pe,g:()=>ut,h:()=>De,i:()=>He,j:()=>se,k:()=>Me,l:()=>P,m:()=>H,n:()=>M,o:()=>ye,p:()=>X,q:()=>Ue,s:()=>dt,t:()=>pe});var c=C(5861),d=C(7876),Y=C(9439),U=C(5421),W=C(544),V=C(7690);let O=0,N=0;const M=new WeakMap,_=Rt=>({create:Ct=>we(Rt,Ct),dismiss:(Ct,Pt,Wt)=>st(document,Ct,Pt,Rt,Wt),getTop:()=>(0,c.Z)(function*(){return Ue(document,Rt)})()}),A=_("ion-alert"),S=_("ion-action-sheet"),P=_("ion-loading"),H=_("ion-modal"),X=_("ion-picker"),be=_("ion-popover"),pe=_("ion-toast"),se=Rt=>{typeof document<"u"&&Ee(document);const Ct=O++;Rt.overlayIndex=Ct},Me=Rt=>(Rt.hasAttribute("id")||(Rt.id="ion-overlay-"+ ++N),Rt.id),we=(Rt,Ct)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Rt).then(()=>{const Pt=document.createElement(Rt);return Pt.classList.add("overlay-hidden"),Object.assign(Pt,Object.assign(Object.assign({},Ct),{hasController:!0})),$t(document).appendChild(Pt),new Promise(Wt=>(0,W.c)(Pt,Wt))}):Promise.resolve(),ne='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ye=(Rt,Ct)=>{let Pt=Rt.querySelector(ne);const Wt=null==Pt?void 0:Pt.shadowRoot;Wt&&(Pt=Wt.querySelector(ne)||Pt),Pt?(0,W.f)(Pt):Ct.focus()},je=(Rt,Ct)=>{const Pt=Array.from(Rt.querySelectorAll(ne));let Wt=Pt.length>0?Pt[Pt.length-1]:null;const an=null==Wt?void 0:Wt.shadowRoot;an&&(Wt=an.querySelector(ne)||Wt),Wt?Wt.focus():Ct.focus()},Ee=Rt=>{0===O&&(O=1,Rt.addEventListener("focus",Ct=>{((Rt,Ct)=>{const Pt=Ue(Ct,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Wt=Rt.target;Pt&&Wt&&!Pt.classList.contains("ion-disable-focus-trap")&&(Pt.shadowRoot?(()=>{if(Pt.contains(Wt))Pt.lastFocus=Wt;else{const vn=Pt.lastFocus;ye(Pt,Pt),vn===Ct.activeElement&&je(Pt,Pt),Pt.lastFocus=Ct.activeElement}})():(()=>{if(Pt===Wt)Pt.lastFocus=void 0;else{const vn=(0,W.g)(Pt);if(!vn.contains(Wt))return;const Tt=vn.querySelector(".ion-overlay-wrapper");if(!Tt)return;if(Tt.contains(Wt))Pt.lastFocus=Wt;else{const gn=Pt.lastFocus;ye(Tt,Pt),gn===Ct.activeElement&&je(Tt,Pt),Pt.lastFocus=Ct.activeElement}}})())})(Ct,Rt)},!0),Rt.addEventListener("ionBackButton",Ct=>{const Pt=Ue(Rt);null!=Pt&&Pt.backdropDismiss&&Ct.detail.register(U.OVERLAY_BACK_BUTTON_PRIORITY,()=>Pt.dismiss(void 0,St))}),Rt.addEventListener("keydown",Ct=>{if("Escape"===Ct.key){const Pt=Ue(Rt);null!=Pt&&Pt.backdropDismiss&&Pt.dismiss(void 0,St)}}))},st=(Rt,Ct,Pt,Wt,an)=>{const In=Ue(Rt,Wt,an);return In?In.dismiss(Ct,Pt):Promise.reject("overlay does not exist")},Ue=(Rt,Ct,Pt)=>{const Wt=((Rt,Ct)=>(void 0===Ct&&(Ct="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Rt.querySelectorAll(Ct)).filter(Pt=>Pt.overlayIndex>0)))(Rt,Ct).filter(an=>!(Rt=>Rt.classList.contains("overlay-hidden"))(an));return void 0===Pt?Wt[Wt.length-1]:Wt.find(an=>an.id===Pt)},Ie=(Rt=!1)=>{const Pt=$t(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Pt&&(Rt?Pt.setAttribute("aria-hidden","true"):Pt.removeAttribute("aria-hidden"))},Pe=function(){var Rt=(0,c.Z)(function*(Ct,Pt,Wt,an,In){var vn,Tt;if(Ct.presented)return;Ie(!0),Ct.presented=!0,Ct.willPresent.emit(),null===(vn=Ct.willPresentShorthand)||void 0===vn||vn.emit();const gn=(0,d.b)(Ct),or=Ct.enterAnimation?Ct.enterAnimation:d.c.get(Pt,"ios"===gn?Wt:an);(yield mt(Ct,or,Ct.el,In))&&(Ct.didPresent.emit(),null===(Tt=Ct.didPresentShorthand)||void 0===Tt||Tt.emit()),"ION-TOAST"!==Ct.el.tagName&&Je(Ct.el),Ct.keyboardClose&&(null===document.activeElement||!Ct.el.contains(document.activeElement))&&Ct.el.focus()});return function(Pt,Wt,an,In,vn){return Rt.apply(this,arguments)}}(),Je=function(){var Rt=(0,c.Z)(function*(Ct){let Pt=document.activeElement;if(!Pt)return;const Wt=null==Pt?void 0:Pt.shadowRoot;Wt&&(Pt=Wt.querySelector(ne)||Pt),yield Ct.onDidDismiss(),Pt.focus()});return function(Pt){return Rt.apply(this,arguments)}}(),ut=function(){var Rt=(0,c.Z)(function*(Ct,Pt,Wt,an,In,vn,Tt){var gn,or;if(!Ct.presented)return!1;Ie(!1),Ct.presented=!1;try{Ct.el.style.setProperty("pointer-events","none"),Ct.willDismiss.emit({data:Pt,role:Wt}),null===(gn=Ct.willDismissShorthand)||void 0===gn||gn.emit({data:Pt,role:Wt});const Ln=(0,d.b)(Ct),Sn=Ct.leaveAnimation?Ct.leaveAnimation:d.c.get(an,"ios"===Ln?In:vn);Wt!==zt&&(yield mt(Ct,Sn,Ct.el,Tt)),Ct.didDismiss.emit({data:Pt,role:Wt}),null===(or=Ct.didDismissShorthand)||void 0===or||or.emit({data:Pt,role:Wt}),M.delete(Ct),Ct.el.classList.add("overlay-hidden"),Ct.el.style.removeProperty("pointer-events"),void 0!==Ct.el.lastFocus&&(Ct.el.lastFocus=void 0)}catch(Ln){console.error(Ln)}return Ct.el.remove(),!0});return function(Pt,Wt,an,In,vn,Tt,gn){return Rt.apply(this,arguments)}}(),$t=Rt=>Rt.querySelector("ion-app")||Rt.body,mt=function(){var Rt=(0,c.Z)(function*(Ct,Pt,Wt,an){Wt.classList.remove("overlay-hidden");const vn=Pt(Ct.el,an);(!Ct.animated||!d.c.getBoolean("animated",!0))&&vn.duration(0),Ct.keyboardClose&&vn.beforeAddWrite(()=>{const gn=Wt.ownerDocument.activeElement;null!=gn&&gn.matches("input,ion-input, ion-textarea")&&gn.blur()});const Tt=M.get(Ct)||[];return M.set(Ct,[...Tt,vn]),yield vn.play(),!0});return function(Pt,Wt,an,In){return Rt.apply(this,arguments)}}(),De=(Rt,Ct)=>{let Pt;const Wt=new Promise(an=>Pt=an);return Le(Rt,Ct,an=>{Pt(an.detail)}),Wt},Le=(Rt,Ct,Pt)=>{const Wt=an=>{(0,W.b)(Rt,Ct,Wt),Pt(an)};(0,W.a)(Rt,Ct,Wt)},He=Rt=>"cancel"===Rt||Rt===St,Xe=Rt=>Rt(),dt=(Rt,Ct)=>{if("function"==typeof Rt)return d.c.get("_zoneGate",Xe)(()=>{try{return Rt(Ct)}catch(Wt){throw Wt}})},St="backdrop",zt="gesture",Qt=Rt=>{let Pt,Ct=!1;const Wt=(0,Y.C)(),an=(Tt=!1)=>{if(Pt&&!Tt)return{delegate:Pt,inline:Ct};const{el:gn,hasController:or,delegate:Ln}=Rt;return Ct=null!==gn.parentNode&&!or,Pt=Ct?Ln||Wt:Ln,{inline:Ct,delegate:Pt}};return{attachViewToDom:function(){var Tt=(0,c.Z)(function*(gn){const{delegate:or}=an(!0);if(or)return yield or.attachViewToDom(Rt.el,gn);const{hasController:Ln}=Rt;if(Ln&&void 0!==gn)throw new Error("framework delegate is missing");return null});return function(or){return Tt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Tt}=an();Tt&&void 0!==Rt.el&&Tt.removeViewFromDom(Rt.el.parentElement,Rt.el)}}},ht=()=>{let Rt;const Ct=()=>{Rt&&(Rt(),Rt=void 0)};return{addClickListener:(Wt,an)=>{Ct();const In=void 0!==an?document.getElementById(an):null;In?Rt=((Tt,gn)=>{const or=()=>{gn.present()};return Tt.addEventListener("click",or),()=>{Tt.removeEventListener("click",or)}})(In,Wt):(0,V.p)(`A trigger element with the ID "${an}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Wt)},removeClickListener:Ct}}},4282:(lt,rt,C)=>{"use strict";C.d(rt,{k:()=>ka,b:()=>tl});var c=C(6593),d=C(6689),Y=C(6825);function W(J){return new d.vHH(3e3,!1)}function zt(J){switch(J.length){case 0:return new Y.ZN;case 1:return J[0];default:return new Y.ZE(J)}}function Qt(J,b,T=new Map,K=new Map){const oe=[],Te=[];let Ke=-1,Qe=null;if(b.forEach(Mt=>{const Ht=Mt.get("offset"),pn=Ht==Ke,$n=pn&&Qe||new Map;Mt.forEach((Rr,Fn)=>{let ir=Fn,ar=Rr;if("offset"!==Fn)switch(ir=J.normalizePropertyName(ir,oe),ar){case Y.k1:ar=T.get(Fn);break;case Y.l3:ar=K.get(Fn);break;default:ar=J.normalizeStyleValue(Fn,ir,ar,oe)}$n.set(ir,ar)}),pn||Te.push($n),Qe=$n,Ke=Ht}),oe.length)throw function Ue(J){return new d.vHH(3502,!1)}();return Te}function ht(J,b,T,K){switch(b){case"start":J.onStart(()=>K(T&&Rt(T,"start",J)));break;case"done":J.onDone(()=>K(T&&Rt(T,"done",J)));break;case"destroy":J.onDestroy(()=>K(T&&Rt(T,"destroy",J)))}}function Rt(J,b,T){const K=T.totalTime,Te=Ct(J.element,J.triggerName,J.fromState,J.toState,b||J.phaseName,null==K?J.totalTime:K,!!T.disabled),Ke=J._data;return null!=Ke&&(Te._data=Ke),Te}function Ct(J,b,T,K,oe="",Te=0,Ke){return{element:J,triggerName:b,fromState:T,toState:K,phaseName:oe,totalTime:Te,disabled:!!Ke}}function Pt(J,b,T){let K=J.get(b);return K||J.set(b,K=T),K}function Wt(J){const b=J.indexOf(":");return[J.substring(1,b),J.slice(b+1)]}const an=(()=>typeof document>"u"?null:document.documentElement)();function In(J){const b=J.parentNode||J.host||null;return b===an?null:b}let Tt=null,gn=!1;function vr(J,b){for(;b;){if(b===J)return!0;b=In(b)}return!1}function Gn(J,b,T){if(T)return Array.from(J.querySelectorAll(b));const K=J.querySelector(b);return K?[K]:[]}let fn=(()=>{class J{validateStyleProperty(T){return function or(J){Tt||(Tt=function Sn(){return typeof document<"u"?document.body:null}()||{},gn=!!Tt.style&&"WebkitAppearance"in Tt.style);let b=!0;return Tt.style&&!function vn(J){return"ebkit"==J.substring(1,6)}(J)&&(b=J in Tt.style,!b&&gn&&(b="Webkit"+J.charAt(0).toUpperCase()+J.slice(1)in Tt.style)),b}(T)}matchesElement(T,K){return!1}containsElement(T,K){return vr(T,K)}getParentElement(T){return In(T)}query(T,K,oe){return Gn(T,K,oe)}computeStyle(T,K,oe){return oe||""}animate(T,K,oe,Te,Ke,Qe=[],Mt){return new Y.ZN(oe,Te)}}return J.\u0275fac=function(T){return new(T||J)},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac}),J})(),mn=(()=>{class J{}return J.NOOP=new fn,J})();const _r=1e3,Yn="ng-enter",Ft="ng-leave",sr="ng-trigger",on=".ng-trigger",Tr="ng-animating",Rn=".ng-animating";function Mn(J){if("number"==typeof J)return J;const b=J.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:jn(parseFloat(b[1]),b[2])}function jn(J,b){return"s"===b?J*_r:J}function zr(J,b,T){return J.hasOwnProperty("duration")?J:function Wn(J,b,T){let oe,Te=0,Ke="";if("string"==typeof J){const Qe=J.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Qe)return b.push(W()),{duration:0,delay:0,easing:""};oe=jn(parseFloat(Qe[1]),Qe[2]);const Mt=Qe[3];null!=Mt&&(Te=jn(parseFloat(Mt),Qe[4]));const Ht=Qe[5];Ht&&(Ke=Ht)}else oe=J;if(!T){let Qe=!1,Mt=b.length;oe<0&&(b.push(function V(){return new d.vHH(3100,!1)}()),Qe=!0),Te<0&&(b.push(function O(){return new d.vHH(3101,!1)}()),Qe=!0),Qe&&b.splice(Mt,0,W())}return{duration:oe,delay:Te,easing:Ke}}(J,b,T)}function Tn(J,b={}){return Object.keys(J).forEach(T=>{b[T]=J[T]}),b}function We(J){const b=new Map;return Object.keys(J).forEach(T=>{b.set(T,J[T])}),b}function bt(J,b=new Map,T){if(T)for(let[K,oe]of T)b.set(K,oe);for(let[K,oe]of J)b.set(K,oe);return b}function Gt(J,b,T){b.forEach((K,oe)=>{const Te=Ot(oe);T&&!T.has(oe)&&T.set(oe,J.style[Te]),J.style[Te]=K})}function Yt(J,b){b.forEach((T,K)=>{const oe=Ot(K);J.style[oe]=""})}function nn(J){return Array.isArray(J)?1==J.length?J[0]:(0,Y.vP)(J):J}const he=new RegExp("{{\\s*(.+?)\\s*}}","g");function de(J){let b=[];if("string"==typeof J){let T;for(;T=he.exec(J);)b.push(T[1]);he.lastIndex=0}return b}function ve(J,b,T){const K=J.toString(),oe=K.replace(he,(Te,Ke)=>{let Qe=b[Ke];return null==Qe&&(T.push(function M(J){return new d.vHH(3003,!1)}()),Qe=""),Qe.toString()});return oe==K?J:oe}function Ce(J){const b=[];let T=J.next();for(;!T.done;)b.push(T.value),T=J.next();return b}const pt=/-+([a-z0-9])/g;function Ot(J){return J.replace(pt,(...b)=>b[1].toUpperCase())}function Jt(J,b,T){switch(b.type){case 7:return J.visitTrigger(b,T);case 0:return J.visitState(b,T);case 1:return J.visitTransition(b,T);case 2:return J.visitSequence(b,T);case 3:return J.visitGroup(b,T);case 4:return J.visitAnimate(b,T);case 5:return J.visitKeyframes(b,T);case 6:return J.visitStyle(b,T);case 8:return J.visitReference(b,T);case 9:return J.visitAnimateChild(b,T);case 10:return J.visitAnimateRef(b,T);case 11:return J.visitQuery(b,T);case 12:return J.visitStagger(b,T);default:throw function _(J){return new d.vHH(3004,!1)}()}}function Zt(J,b){return window.getComputedStyle(J)[b]}const ft="*";function Et(J,b){const T=[];return"string"==typeof J?J.split(/\s*,\s*/).forEach(K=>function ln(J,b,T){if(":"==J[0]){const Mt=function hn(J,b){switch(J){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(T,K)=>parseFloat(K)>parseFloat(T);case":decrement":return(T,K)=>parseFloat(K)<parseFloat(T);default:return b.push(function Ae(J){return new d.vHH(3016,!1)}()),"* => *"}}(J,T);if("function"==typeof Mt)return void b.push(Mt);J=Mt}const K=J.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==K||K.length<4)return T.push(function je(J){return new d.vHH(3015,!1)}()),b;const oe=K[1],Te=K[2],Ke=K[3];b.push(Zn(oe,Ke));"<"==Te[0]&&!(oe==ft&&Ke==ft)&&b.push(Zn(Ke,oe))}(K,T,b)):T.push(J),T}const On=new Set(["true","1"]),Dr=new Set(["false","0"]);function Zn(J,b){const T=On.has(J)||Dr.has(J),K=On.has(b)||Dr.has(b);return(oe,Te)=>{let Ke=J==ft||J==oe,Qe=b==ft||b==Te;return!Ke&&T&&"boolean"==typeof oe&&(Ke=oe?On.has(J):Dr.has(J)),!Qe&&K&&"boolean"==typeof Te&&(Qe=Te?On.has(b):Dr.has(b)),Ke&&Qe}}const yr=new RegExp("s*:selfs*,?","g");function Kn(J,b,T,K){return new Fr(J).build(b,T,K)}class Fr{constructor(b){this._driver=b}build(b,T,K){const oe=new Qr(T);return this._resetContextStyleTimingState(oe),Jt(this,nn(b),oe)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,T){let K=T.queryCount=0,oe=T.depCount=0;const Te=[],Ke=[];return"@"==b.name.charAt(0)&&T.errors.push(function S(){return new d.vHH(3006,!1)}()),b.definitions.forEach(Qe=>{if(this._resetContextStyleTimingState(T),0==Qe.type){const Mt=Qe,Ht=Mt.name;Ht.toString().split(/\s*,\s*/).forEach(pn=>{Mt.name=pn,Te.push(this.visitState(Mt,T))}),Mt.name=Ht}else if(1==Qe.type){const Mt=this.visitTransition(Qe,T);K+=Mt.queryCount,oe+=Mt.depCount,Ke.push(Mt)}else T.errors.push(function P(){return new d.vHH(3007,!1)}())}),{type:7,name:b.name,states:Te,transitions:Ke,queryCount:K,depCount:oe,options:null}}visitState(b,T){const K=this.visitStyle(b.styles,T),oe=b.options&&b.options.params||null;if(K.containsDynamicStyles){const Te=new Set,Ke=oe||{};K.styles.forEach(Qe=>{Qe instanceof Map&&Qe.forEach(Mt=>{de(Mt).forEach(Ht=>{Ke.hasOwnProperty(Ht)||Te.add(Ht)})})}),Te.size&&(Ce(Te.values()),T.errors.push(function H(J,b){return new d.vHH(3008,!1)}()))}return{type:0,name:b.name,style:K,options:oe?{params:oe}:null}}visitTransition(b,T){T.queryCount=0,T.depCount=0;const K=Jt(this,nn(b.animation),T);return{type:1,matchers:Et(b.expr,T.errors),animation:K,queryCount:T.queryCount,depCount:T.depCount,options:li(b.options)}}visitSequence(b,T){return{type:2,steps:b.steps.map(K=>Jt(this,K,T)),options:li(b.options)}}visitGroup(b,T){const K=T.currentTime;let oe=0;const Te=b.steps.map(Ke=>{T.currentTime=K;const Qe=Jt(this,Ke,T);return oe=Math.max(oe,T.currentTime),Qe});return T.currentTime=oe,{type:3,steps:Te,options:li(b.options)}}visitAnimate(b,T){const K=function Wr(J,b){if(J.hasOwnProperty("duration"))return J;if("number"==typeof J)return wi(zr(J,b).duration,0,"");const T=J;if(T.split(/\s+/).some(Te=>"{"==Te.charAt(0)&&"{"==Te.charAt(1))){const Te=wi(0,0,"");return Te.dynamic=!0,Te.strValue=T,Te}const oe=zr(T,b);return wi(oe.duration,oe.delay,oe.easing)}(b.timings,T.errors);T.currentAnimateTimings=K;let oe,Te=b.styles?b.styles:(0,Y.oB)({});if(5==Te.type)oe=this.visitKeyframes(Te,T);else{let Ke=b.styles,Qe=!1;if(!Ke){Qe=!0;const Ht={};K.easing&&(Ht.easing=K.easing),Ke=(0,Y.oB)(Ht)}T.currentTime+=K.duration+K.delay;const Mt=this.visitStyle(Ke,T);Mt.isEmptyStep=Qe,oe=Mt}return T.currentAnimateTimings=null,{type:4,timings:K,style:oe,options:null}}visitStyle(b,T){const K=this._makeStyleAst(b,T);return this._validateStyleAst(K,T),K}_makeStyleAst(b,T){const K=[],oe=Array.isArray(b.styles)?b.styles:[b.styles];for(let Qe of oe)"string"==typeof Qe?Qe===Y.l3?K.push(Qe):T.errors.push(new d.vHH(3002,!1)):K.push(We(Qe));let Te=!1,Ke=null;return K.forEach(Qe=>{if(Qe instanceof Map&&(Qe.has("easing")&&(Ke=Qe.get("easing"),Qe.delete("easing")),!Te))for(let Mt of Qe.values())if(Mt.toString().indexOf("{{")>=0){Te=!0;break}}),{type:6,styles:K,easing:Ke,offset:b.offset,containsDynamicStyles:Te,options:null}}_validateStyleAst(b,T){const K=T.currentAnimateTimings;let oe=T.currentTime,Te=T.currentTime;K&&Te>0&&(Te-=K.duration+K.delay),b.styles.forEach(Ke=>{"string"!=typeof Ke&&Ke.forEach((Qe,Mt)=>{const Ht=T.collectedStyles.get(T.currentQuerySelector),pn=Ht.get(Mt);let $n=!0;pn&&(Te!=oe&&Te>=pn.startTime&&oe<=pn.endTime&&(T.errors.push(function pe(J,b,T,K,oe){return new d.vHH(3010,!1)}()),$n=!1),Te=pn.startTime),$n&&Ht.set(Mt,{startTime:Te,endTime:oe}),T.options&&function Be(J,b,T){const K=b.params||{},oe=de(J);oe.length&&oe.forEach(Te=>{K.hasOwnProperty(Te)||T.push(function N(J){return new d.vHH(3001,!1)}())})}(Qe,T.options,T.errors)})})}visitKeyframes(b,T){const K={type:5,styles:[],options:null};if(!T.currentAnimateTimings)return T.errors.push(function se(){return new d.vHH(3011,!1)}()),K;let Te=0;const Ke=[];let Qe=!1,Mt=!1,Ht=0;const pn=b.steps.map(Di=>{const Fi=this._makeStyleAst(Di,T);let Xi=null!=Fi.offset?Fi.offset:function mi(J){if("string"==typeof J)return null;let b=null;if(Array.isArray(J))J.forEach(T=>{if(T instanceof Map&&T.has("offset")){const K=T;b=parseFloat(K.get("offset")),K.delete("offset")}});else if(J instanceof Map&&J.has("offset")){const T=J;b=parseFloat(T.get("offset")),T.delete("offset")}return b}(Fi.styles),To=0;return null!=Xi&&(Te++,To=Fi.offset=Xi),Mt=Mt||To<0||To>1,Qe=Qe||To<Ht,Ht=To,Ke.push(To),Fi});Mt&&T.errors.push(function Me(){return new d.vHH(3012,!1)}()),Qe&&T.errors.push(function we(){return new d.vHH(3200,!1)}());const $n=b.steps.length;let Rr=0;Te>0&&Te<$n?T.errors.push(function ne(){return new d.vHH(3202,!1)}()):0==Te&&(Rr=1/($n-1));const Fn=$n-1,ir=T.currentTime,ar=T.currentAnimateTimings,wr=ar.duration;return pn.forEach((Di,Fi)=>{const Xi=Rr>0?Fi==Fn?1:Rr*Fi:Ke[Fi],To=Xi*wr;T.currentTime=ir+ar.delay+To,ar.duration=To,this._validateStyleAst(Di,T),Di.offset=Xi,K.styles.push(Di)}),K}visitReference(b,T){return{type:8,animation:Jt(this,nn(b.animation),T),options:li(b.options)}}visitAnimateChild(b,T){return T.depCount++,{type:9,options:li(b.options)}}visitAnimateRef(b,T){return{type:10,animation:this.visitReference(b.animation,T),options:li(b.options)}}visitQuery(b,T){const K=T.currentQuerySelector,oe=b.options||{};T.queryCount++,T.currentQuery=b;const[Te,Ke]=function Ur(J){const b=!!J.split(/\s*,\s*/).find(T=>":self"==T);return b&&(J=J.replace(yr,"")),J=J.replace(/@\*/g,on).replace(/@\w+/g,T=>on+"-"+T.slice(1)).replace(/:animating/g,Rn),[J,b]}(b.selector);T.currentQuerySelector=K.length?K+" "+Te:Te,Pt(T.collectedStyles,T.currentQuerySelector,new Map);const Qe=Jt(this,nn(b.animation),T);return T.currentQuery=null,T.currentQuerySelector=K,{type:11,selector:Te,limit:oe.limit||0,optional:!!oe.optional,includeSelf:Ke,animation:Qe,originalSelector:b.selector,options:li(b.options)}}visitStagger(b,T){T.currentQuery||T.errors.push(function ye(){return new d.vHH(3013,!1)}());const K="full"===b.timings?{duration:0,delay:0,easing:"full"}:zr(b.timings,T.errors,!0);return{type:12,animation:Jt(this,nn(b.animation),T),timings:K,options:null}}}class Qr{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function li(J){return J?(J=Tn(J)).params&&(J.params=function bi(J){return J?Tn(J):null}(J.params)):J={},J}function wi(J,b,T){return{duration:J,delay:b,easing:T}}function Ci(J,b,T,K,oe,Te,Ke=null,Qe=!1){return{type:1,element:J,keyframes:b,preStyleProps:T,postStyleProps:K,duration:oe,delay:Te,totalTime:oe+Te,easing:Ke,subTimeline:Qe}}class ci{constructor(){this._map=new Map}get(b){return this._map.get(b)||[]}append(b,T){let K=this._map.get(b);K||this._map.set(b,K=[]),K.push(...T)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const ue=new RegExp(":enter","g"),q=new RegExp(":leave","g");function ge(J,b,T,K,oe,Te=new Map,Ke=new Map,Qe,Mt,Ht=[]){return(new Oe).buildKeyframes(J,b,T,K,oe,Te,Ke,Qe,Mt,Ht)}class Oe{buildKeyframes(b,T,K,oe,Te,Ke,Qe,Mt,Ht,pn=[]){Ht=Ht||new ci;const $n=new vt(b,T,Ht,oe,Te,pn,[]);$n.options=Mt;const Rr=Mt.delay?Mn(Mt.delay):0;$n.currentTimeline.delayNextStep(Rr),$n.currentTimeline.setStyles([Ke],null,$n.errors,Mt),Jt(this,K,$n);const Fn=$n.timelines.filter(ir=>ir.containsAnimation());if(Fn.length&&Qe.size){let ir;for(let ar=Fn.length-1;ar>=0;ar--){const wr=Fn[ar];if(wr.element===T){ir=wr;break}}ir&&!ir.allowOnlyTimelineStyles()&&ir.setStyles([Qe],null,$n.errors,Mt)}return Fn.length?Fn.map(ir=>ir.buildKeyframes()):[Ci(T,[],[],[],0,Rr,"",!1)]}visitTrigger(b,T){}visitState(b,T){}visitTransition(b,T){}visitAnimateChild(b,T){const K=T.subInstructions.get(T.element);if(K){const oe=T.createSubContext(b.options),Te=T.currentTimeline.currentTime,Ke=this._visitSubInstructions(K,oe,oe.options);Te!=Ke&&T.transformIntoNewTimeline(Ke)}T.previousNode=b}visitAnimateRef(b,T){const K=T.createSubContext(b.options);K.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],T,K),this.visitReference(b.animation,K),T.transformIntoNewTimeline(K.currentTimeline.currentTime),T.previousNode=b}_applyAnimationRefDelays(b,T,K){for(const Te of b){const Ke=null==Te?void 0:Te.delay;if(Ke){var oe;const Qe="number"==typeof Ke?Ke:Mn(ve(Ke,null!==(oe=null==Te?void 0:Te.params)&&void 0!==oe?oe:{},T.errors));K.delayNextStep(Qe)}}}_visitSubInstructions(b,T,K){let Te=T.currentTimeline.currentTime;const Ke=null!=K.duration?Mn(K.duration):null,Qe=null!=K.delay?Mn(K.delay):null;return 0!==Ke&&b.forEach(Mt=>{const Ht=T.appendInstructionToTimeline(Mt,Ke,Qe);Te=Math.max(Te,Ht.duration+Ht.delay)}),Te}visitReference(b,T){T.updateOptions(b.options,!0),Jt(this,b.animation,T),T.previousNode=b}visitSequence(b,T){const K=T.subContextCount;let oe=T;const Te=b.options;if(Te&&(Te.params||Te.delay)&&(oe=T.createSubContext(Te),oe.transformIntoNewTimeline(),null!=Te.delay)){6==oe.previousNode.type&&(oe.currentTimeline.snapshotCurrentStyles(),oe.previousNode=nt);const Ke=Mn(Te.delay);oe.delayNextStep(Ke)}b.steps.length&&(b.steps.forEach(Ke=>Jt(this,Ke,oe)),oe.currentTimeline.applyStylesToKeyframe(),oe.subContextCount>K&&oe.transformIntoNewTimeline()),T.previousNode=b}visitGroup(b,T){const K=[];let oe=T.currentTimeline.currentTime;const Te=b.options&&b.options.delay?Mn(b.options.delay):0;b.steps.forEach(Ke=>{const Qe=T.createSubContext(b.options);Te&&Qe.delayNextStep(Te),Jt(this,Ke,Qe),oe=Math.max(oe,Qe.currentTimeline.currentTime),K.push(Qe.currentTimeline)}),K.forEach(Ke=>T.currentTimeline.mergeTimelineCollectedStyles(Ke)),T.transformIntoNewTimeline(oe),T.previousNode=b}_visitTiming(b,T){if(b.dynamic){const K=b.strValue;return zr(T.params?ve(K,T.params,T.errors):K,T.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,T){const K=T.currentAnimateTimings=this._visitTiming(b.timings,T),oe=T.currentTimeline;K.delay&&(T.incrementTime(K.delay),oe.snapshotCurrentStyles());const Te=b.style;5==Te.type?this.visitKeyframes(Te,T):(T.incrementTime(K.duration),this.visitStyle(Te,T),oe.applyStylesToKeyframe()),T.currentAnimateTimings=null,T.previousNode=b}visitStyle(b,T){const K=T.currentTimeline,oe=T.currentAnimateTimings;!oe&&K.hasCurrentStyleProperties()&&K.forwardFrame();const Te=oe&&oe.easing||b.easing;b.isEmptyStep?K.applyEmptyStep(Te):K.setStyles(b.styles,Te,T.errors,T.options),T.previousNode=b}visitKeyframes(b,T){const K=T.currentAnimateTimings,oe=T.currentTimeline.duration,Te=K.duration,Qe=T.createSubContext().currentTimeline;Qe.easing=K.easing,b.styles.forEach(Mt=>{Qe.forwardTime((Mt.offset||0)*Te),Qe.setStyles(Mt.styles,Mt.easing,T.errors,T.options),Qe.applyStylesToKeyframe()}),T.currentTimeline.mergeTimelineCollectedStyles(Qe),T.transformIntoNewTimeline(oe+Te),T.previousNode=b}visitQuery(b,T){const K=T.currentTimeline.currentTime,oe=b.options||{},Te=oe.delay?Mn(oe.delay):0;Te&&(6===T.previousNode.type||0==K&&T.currentTimeline.hasCurrentStyleProperties())&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=nt);let Ke=K;const Qe=T.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!oe.optional,T.errors);T.currentQueryTotal=Qe.length;let Mt=null;Qe.forEach((Ht,pn)=>{T.currentQueryIndex=pn;const $n=T.createSubContext(b.options,Ht);Te&&$n.delayNextStep(Te),Ht===T.element&&(Mt=$n.currentTimeline),Jt(this,b.animation,$n),$n.currentTimeline.applyStylesToKeyframe(),Ke=Math.max(Ke,$n.currentTimeline.currentTime)}),T.currentQueryIndex=0,T.currentQueryTotal=0,T.transformIntoNewTimeline(Ke),Mt&&(T.currentTimeline.mergeTimelineCollectedStyles(Mt),T.currentTimeline.snapshotCurrentStyles()),T.previousNode=b}visitStagger(b,T){const K=T.parentContext,oe=T.currentTimeline,Te=b.timings,Ke=Math.abs(Te.duration),Qe=Ke*(T.currentQueryTotal-1);let Mt=Ke*T.currentQueryIndex;switch(Te.duration<0?"reverse":Te.easing){case"reverse":Mt=Qe-Mt;break;case"full":Mt=K.currentStaggerTime}const pn=T.currentTimeline;Mt&&pn.delayNextStep(Mt);const $n=pn.currentTime;Jt(this,b.animation,T),T.previousNode=b,K.currentStaggerTime=oe.currentTime-$n+(oe.startTime-K.currentTimeline.startTime)}}const nt={};class vt{constructor(b,T,K,oe,Te,Ke,Qe,Mt){this._driver=b,this.element=T,this.subInstructions=K,this._enterClassName=oe,this._leaveClassName=Te,this.errors=Ke,this.timelines=Qe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Mt||new xt(this._driver,T,0),Qe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,T){if(!b)return;const K=b;let oe=this.options;null!=K.duration&&(oe.duration=Mn(K.duration)),null!=K.delay&&(oe.delay=Mn(K.delay));const Te=K.params;if(Te){let Ke=oe.params;Ke||(Ke=this.options.params={}),Object.keys(Te).forEach(Qe=>{(!T||!Ke.hasOwnProperty(Qe))&&(Ke[Qe]=ve(Te[Qe],Ke,this.errors))})}}_copyOptions(){const b={};if(this.options){const T=this.options.params;if(T){const K=b.params={};Object.keys(T).forEach(oe=>{K[oe]=T[oe]})}}return b}createSubContext(b=null,T,K){const oe=T||this.element,Te=new vt(this._driver,oe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(oe,K||0));return Te.previousNode=this.previousNode,Te.currentAnimateTimings=this.currentAnimateTimings,Te.options=this._copyOptions(),Te.updateOptions(b),Te.currentQueryIndex=this.currentQueryIndex,Te.currentQueryTotal=this.currentQueryTotal,Te.parentContext=this,this.subContextCount++,Te}transformIntoNewTimeline(b){return this.previousNode=nt,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,T,K){const oe={duration:null!=T?T:b.duration,delay:this.currentTimeline.currentTime+(null!=K?K:0)+b.delay,easing:""},Te=new Lt(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,oe,b.stretchStartingKeyframe);return this.timelines.push(Te),oe}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,T,K,oe,Te,Ke){let Qe=[];if(oe&&Qe.push(this.element),b.length>0){b=(b=b.replace(ue,"."+this._enterClassName)).replace(q,"."+this._leaveClassName);let Ht=this._driver.query(this.element,b,1!=K);0!==K&&(Ht=K<0?Ht.slice(Ht.length+K,Ht.length):Ht.slice(0,K)),Qe.push(...Ht)}return!Te&&0==Qe.length&&Ke.push(function Re(J){return new d.vHH(3014,!1)}()),Qe}}class xt{constructor(b,T,K,oe){this._driver=b,this.element=T,this.startTime=K,this._elementTimelineStylesLookup=oe,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(T),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(T,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const T=1===this._keyframes.size&&this._pendingStyles.size;this.duration||T?(this.forwardTime(this.currentTime+b),T&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,T){return this.applyStylesToKeyframe(),new xt(this._driver,b,T||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,T){this._localTimelineStyles.set(b,T),this._globalTimelineStyles.set(b,T),this._styleSummary.set(b,{time:this.currentTime,value:T})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[T,K]of this._globalTimelineStyles)this._backFill.set(T,K||Y.l3),this._currentKeyframe.set(T,Y.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,T,K,oe){T&&this._previousKeyframe.set("easing",T);const Te=oe&&oe.params||{},Ke=function Pn(J,b){const T=new Map;let K;return J.forEach(oe=>{if("*"===oe){K=K||b.keys();for(let Te of K)T.set(Te,Y.l3)}else bt(oe,T)}),T}(b,this._globalTimelineStyles);for(let[Mt,Ht]of Ke){const pn=ve(Ht,Te,K);var Qe;this._pendingStyles.set(Mt,pn),this._localTimelineStyles.has(Mt)||this._backFill.set(Mt,null!==(Qe=this._globalTimelineStyles.get(Mt))&&void 0!==Qe?Qe:Y.l3),this._updateStyle(Mt,pn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,T)=>{this._currentKeyframe.set(T,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,T)=>{this._currentKeyframe.has(T)||this._currentKeyframe.set(T,b)}))}snapshotCurrentStyles(){for(let[b,T]of this._localTimelineStyles)this._pendingStyles.set(b,T),this._updateStyle(b,T)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let T in this._currentKeyframe)b.push(T);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((T,K)=>{const oe=this._styleSummary.get(K);(!oe||T.time>oe.time)&&this._updateStyle(K,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,T=new Set,K=1===this._keyframes.size&&0===this.duration;let oe=[];this._keyframes.forEach((Qe,Mt)=>{const Ht=bt(Qe,new Map,this._backFill);Ht.forEach((pn,$n)=>{pn===Y.k1?b.add($n):pn===Y.l3&&T.add($n)}),K||Ht.set("offset",Mt/this.duration),oe.push(Ht)});const Te=b.size?Ce(b.values()):[],Ke=T.size?Ce(T.values()):[];if(K){const Qe=oe[0],Mt=new Map(Qe);Qe.set("offset",0),Mt.set("offset",1),oe=[Qe,Mt]}return Ci(this.element,oe,Te,Ke,this.duration,this.startTime,this.easing,!1)}}class Lt extends xt{constructor(b,T,K,oe,Te,Ke,Qe=!1){super(b,T,Ke.delay),this.keyframes=K,this.preStyleProps=oe,this.postStyleProps=Te,this._stretchStartingKeyframe=Qe,this.timings={duration:Ke.duration,delay:Ke.delay,easing:Ke.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:T,duration:K,easing:oe}=this.timings;if(this._stretchStartingKeyframe&&T){const Te=[],Ke=K+T,Qe=T/Ke,Mt=bt(b[0]);Mt.set("offset",0),Te.push(Mt);const Ht=bt(b[0]);Ht.set("offset",cn(Qe)),Te.push(Ht);const pn=b.length-1;for(let $n=1;$n<=pn;$n++){let Rr=bt(b[$n]);const Fn=Rr.get("offset");Rr.set("offset",cn((T+Fn*K)/Ke)),Te.push(Rr)}K=Ke,T=0,oe="",b=Te}return Ci(this.element,b,this.preStyleProps,this.postStyleProps,K,T,oe,!0)}}function cn(J,b=3){const T=Math.pow(10,b-1);return Math.round(J*T)/T}class Or{}const ui=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Qi extends Or{normalizePropertyName(b,T){return Ot(b)}normalizeStyleValue(b,T,K,oe){let Te="";const Ke=K.toString().trim();if(ui.has(T)&&0!==K&&"0"!==K)if("number"==typeof K)Te="px";else{const Qe=K.match(/^[+-]?[\d\.]+([a-z]*)$/);Qe&&0==Qe[1].length&&oe.push(function A(J,b){return new d.vHH(3005,!1)}())}return Ke+Te}}function Ui(J,b,T,K,oe,Te,Ke,Qe,Mt,Ht,pn,$n,Rr){return{type:0,element:J,triggerName:b,isRemovalTransition:oe,fromState:T,fromStyles:Te,toState:K,toStyles:Ke,timelines:Qe,queriedElements:Mt,preStyleProps:Ht,postStyleProps:pn,totalTime:$n,errors:Rr}}const Mr={};class di{constructor(b,T,K){this._triggerName=b,this.ast=T,this._stateStyles=K}match(b,T,K,oe){return function Uo(J,b,T,K,oe){return J.some(Te=>Te(b,T,K,oe))}(this.ast.matchers,b,T,K,oe)}buildStyles(b,T,K){let oe=this._stateStyles.get("*");return void 0!==b&&(oe=this._stateStyles.get(null==b?void 0:b.toString())||oe),oe?oe.buildStyles(T,K):new Map}build(b,T,K,oe,Te,Ke,Qe,Mt,Ht,pn){var $n;const Rr=[],Fn=this.ast.options&&this.ast.options.params||Mr,ar=this.buildStyles(K,Qe&&Qe.params||Mr,Rr),wr=Mt&&Mt.params||Mr,Di=this.buildStyles(oe,wr,Rr),Fi=new Set,Xi=new Map,To=new Map,ga="void"===oe,Jo={params:ni(wr,Fn),delay:null===($n=this.ast.options)||void 0===$n?void 0:$n.delay},zi=pn?[]:ge(b,T,this.ast.animation,Te,Ke,ar,Di,Jo,Ht,Rr);let es=0;if(zi.forEach(Io=>{es=Math.max(Io.duration+Io.delay,es)}),Rr.length)return Ui(T,this._triggerName,K,oe,ga,ar,Di,[],[],Xi,To,es,Rr);zi.forEach(Io=>{const ba=Io.element,Ts=Pt(Xi,ba,new Set);Io.preStyleProps.forEach(ts=>Ts.add(ts));const wa=Pt(To,ba,new Set);Io.postStyleProps.forEach(ts=>wa.add(ts)),ba!==T&&Fi.add(ba)});const Ss=Ce(Fi.values());return Ui(T,this._triggerName,K,oe,ga,ar,Di,zi,Ss,Xi,To,es)}}function ni(J,b){const T=Tn(b);for(const K in J)J.hasOwnProperty(K)&&null!=J[K]&&(T[K]=J[K]);return T}class to{constructor(b,T,K){this.styles=b,this.defaultParams=T,this.normalizer=K}buildStyles(b,T){const K=new Map,oe=Tn(this.defaultParams);return Object.keys(b).forEach(Te=>{const Ke=b[Te];null!==Ke&&(oe[Te]=Ke)}),this.styles.styles.forEach(Te=>{"string"!=typeof Te&&Te.forEach((Ke,Qe)=>{Ke&&(Ke=ve(Ke,oe,T));const Mt=this.normalizer.normalizePropertyName(Qe,T);Ke=this.normalizer.normalizeStyleValue(Qe,Mt,Ke,T),K.set(Qe,Ke)})}),K}}class no{constructor(b,T,K){this.name=b,this.ast=T,this._normalizer=K,this.transitionFactories=[],this.states=new Map,T.states.forEach(oe=>{this.states.set(oe.name,new to(oe.style,oe.options&&oe.options.params||{},K))}),Pr(this.states,"true","1"),Pr(this.states,"false","0"),T.transitions.forEach(oe=>{this.transitionFactories.push(new di(b,oe,this.states))}),this.fallbackTransition=function Vi(J,b,T){return new di(J,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ke,Qe)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,T,K,oe){return this.transitionFactories.find(Ke=>Ke.match(b,T,K,oe))||null}matchStyles(b,T,K){return this.fallbackTransition.buildStyles(b,T,K)}}function Pr(J,b,T){J.has(b)?J.has(T)||J.set(T,J.get(b)):J.has(T)&&J.set(b,J.get(T))}const Xr=new ci;class wn{constructor(b,T,K){this.bodyNode=b,this._driver=T,this._normalizer=K,this._animations=new Map,this._playersById=new Map,this.players=[]}register(b,T){const K=[],Te=Kn(this._driver,T,K,[]);if(K.length)throw function Ie(J){return new d.vHH(3503,!1)}();this._animations.set(b,Te)}_buildPlayer(b,T,K){const oe=b.element,Te=Qt(this._normalizer,b.keyframes,T,K);return this._driver.animate(oe,Te,b.duration,b.delay,b.easing,[],!0)}create(b,T,K={}){const oe=[],Te=this._animations.get(b);let Ke;const Qe=new Map;if(Te?(Ke=ge(this._driver,T,Te,Yn,Ft,new Map,new Map,K,Xr,oe),Ke.forEach(pn=>{const $n=Pt(Qe,pn.element,new Map);pn.postStyleProps.forEach(Rr=>$n.set(Rr,null))})):(oe.push(function Pe(){return new d.vHH(3300,!1)}()),Ke=[]),oe.length)throw function Je(J){return new d.vHH(3504,!1)}();Qe.forEach((pn,$n)=>{pn.forEach((Rr,Fn)=>{pn.set(Fn,this._driver.computeStyle($n,Fn,Y.l3))})});const Ht=zt(Ke.map(pn=>{const $n=Qe.get(pn.element);return this._buildPlayer(pn,new Map,$n)}));return this._playersById.set(b,Ht),Ht.onDestroy(()=>this.destroy(b)),this.players.push(Ht),Ht}destroy(b){const T=this._getPlayer(b);T.destroy(),this._playersById.delete(b);const K=this.players.indexOf(T);K>=0&&this.players.splice(K,1)}_getPlayer(b){const T=this._playersById.get(b);if(!T)throw function ut(J){return new d.vHH(3301,!1)}();return T}listen(b,T,K,oe){const Te=Ct(T,"","","");return ht(this._getPlayer(b),K,Te,oe),()=>{}}command(b,T,K,oe){if("register"==K)return void this.register(b,oe[0]);if("create"==K)return void this.create(b,T,oe[0]||{});const Te=this._getPlayer(b);switch(K){case"play":Te.play();break;case"pause":Te.pause();break;case"reset":Te.reset();break;case"restart":Te.restart();break;case"finish":Te.finish();break;case"init":Te.init();break;case"setPosition":Te.setPosition(parseFloat(oe[0]));break;case"destroy":this.destroy(b)}}}const cr="ng-animate-queued",ki="ng-animate-disabled",_i=[],oo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ai={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},er="__ng_removed";class qi{get params(){return this.options.params}constructor(b,T=""){this.namespaceId=T;const K=b&&b.hasOwnProperty("value");if(this.value=function ss(J){return null!=J?J:null}(K?b.value:b),K){const Te=Tn(b);delete Te.value,this.options=Te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(b){const T=b.params;if(T){const K=this.options.params;Object.keys(T).forEach(oe=>{null==K[oe]&&(K[oe]=T[oe])})}}}const Vo="void",Zi=new qi(Vo);class yi{constructor(b,T,K){this.id=b,this.hostElement=T,this._engine=K,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,hr(T,this._hostClassName)}listen(b,T,K,oe){if(!this._triggers.has(T))throw function $t(J,b){return new d.vHH(3302,!1)}();if(null==K||0==K.length)throw function mt(J){return new d.vHH(3303,!1)}();if(!function mo(J){return"start"==J||"done"==J}(K))throw function De(J,b){return new d.vHH(3400,!1)}();const Te=Pt(this._elementListeners,b,[]),Ke={name:T,phase:K,callback:oe};Te.push(Ke);const Qe=Pt(this._engine.statesByElement,b,new Map);return Qe.has(T)||(hr(b,sr),hr(b,sr+"-"+T),Qe.set(T,Zi)),()=>{this._engine.afterFlush(()=>{const Mt=Te.indexOf(Ke);Mt>=0&&Te.splice(Mt,1),this._triggers.has(T)||Qe.delete(T)})}}register(b,T){return!this._triggers.has(b)&&(this._triggers.set(b,T),!0)}_getTrigger(b){const T=this._triggers.get(b);if(!T)throw function Le(J){return new d.vHH(3401,!1)}();return T}trigger(b,T,K,oe=!0){const Te=this._getTrigger(T),Ke=new so(this.id,T,b);let Qe=this._engine.statesByElement.get(b);Qe||(hr(b,sr),hr(b,sr+"-"+T),this._engine.statesByElement.set(b,Qe=new Map));let Mt=Qe.get(T);const Ht=new qi(K,this.id);if(!(K&&K.hasOwnProperty("value"))&&Mt&&Ht.absorbOptions(Mt.options),Qe.set(T,Ht),Mt||(Mt=Zi),Ht.value!==Vo&&Mt.value===Ht.value){if(!function Ao(J,b){const T=Object.keys(J),K=Object.keys(b);if(T.length!=K.length)return!1;for(let oe=0;oe<T.length;oe++){const Te=T[oe];if(!b.hasOwnProperty(Te)||J[Te]!==b[Te])return!1}return!0}(Mt.params,Ht.params)){const ar=[],wr=Te.matchStyles(Mt.value,Mt.params,ar),Di=Te.matchStyles(Ht.value,Ht.params,ar);ar.length?this._engine.reportError(ar):this._engine.afterFlush(()=>{Yt(b,wr),Gt(b,Di)})}return}const Rr=Pt(this._engine.playersByElement,b,[]);Rr.forEach(ar=>{ar.namespaceId==this.id&&ar.triggerName==T&&ar.queued&&ar.destroy()});let Fn=Te.matchTransition(Mt.value,Ht.value,b,Ht.params),ir=!1;if(!Fn){if(!oe)return;Fn=Te.fallbackTransition,ir=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:T,transition:Fn,fromState:Mt,toState:Ht,player:Ke,isFallbackTransition:ir}),ir||(hr(b,cr),Ke.onStart(()=>{yo(b,cr)})),Ke.onDone(()=>{let ar=this.players.indexOf(Ke);ar>=0&&this.players.splice(ar,1);const wr=this._engine.playersByElement.get(b);if(wr){let Di=wr.indexOf(Ke);Di>=0&&wr.splice(Di,1)}}),this.players.push(Ke),Rr.push(Ke),Ke}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(T=>T.delete(b)),this._elementListeners.forEach((T,K)=>{this._elementListeners.set(K,T.filter(oe=>oe.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const T=this._engine.playersByElement.get(b);T&&(T.forEach(K=>K.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,T){const K=this._engine.driver.query(b,on,!0);K.forEach(oe=>{if(oe[er])return;const Te=this._engine.fetchNamespacesByElement(oe);Te.size?Te.forEach(Ke=>Ke.triggerLeaveAnimation(oe,T,!1,!0)):this.clearElementCache(oe)}),this._engine.afterFlushAnimationsDone(()=>K.forEach(oe=>this.clearElementCache(oe)))}triggerLeaveAnimation(b,T,K,oe){const Te=this._engine.statesByElement.get(b),Ke=new Map;if(Te){const Qe=[];if(Te.forEach((Mt,Ht)=>{if(Ke.set(Ht,Mt.value),this._triggers.has(Ht)){const pn=this.trigger(b,Ht,Vo,oe);pn&&Qe.push(pn)}}),Qe.length)return this._engine.markElementAsRemoved(this.id,b,!0,T,Ke),K&&zt(Qe).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const T=this._elementListeners.get(b),K=this._engine.statesByElement.get(b);if(T&&K){const oe=new Set;T.forEach(Te=>{const Ke=Te.name;if(oe.has(Ke))return;oe.add(Ke);const Mt=this._triggers.get(Ke).fallbackTransition,Ht=K.get(Ke)||Zi,pn=new qi(Vo),$n=new so(this.id,Ke,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:Ke,transition:Mt,fromState:Ht,toState:pn,player:$n,isFallbackTransition:!0})})}}removeNode(b,T){const K=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,T),this.triggerLeaveAnimation(b,T,!0))return;let oe=!1;if(K.totalAnimations){const Te=K.players.length?K.playersByQueriedElement.get(b):[];if(Te&&Te.length)oe=!0;else{let Ke=b;for(;Ke=Ke.parentNode;)if(K.statesByElement.get(Ke)){oe=!0;break}}}if(this.prepareLeaveAnimationListeners(b),oe)K.markElementAsRemoved(this.id,b,!1,T);else{const Te=b[er];(!Te||Te===oo)&&(K.afterFlush(()=>this.clearElementCache(b)),K.destroyInnerAnimations(b),K._onRemovalComplete(b,T))}}insertNode(b,T){hr(b,this._hostClassName)}drainQueuedTransitions(b){const T=[];return this._queue.forEach(K=>{const oe=K.player;if(oe.destroyed)return;const Te=K.element,Ke=this._elementListeners.get(Te);Ke&&Ke.forEach(Qe=>{if(Qe.name==K.triggerName){const Mt=Ct(Te,K.triggerName,K.fromState.value,K.toState.value);Mt._data=b,ht(K.player,Qe.phase,Mt,Qe.callback)}}),oe.markedForDestroy?this._engine.afterFlush(()=>{oe.destroy()}):T.push(K)}),this._queue=[],T.sort((K,oe)=>{const Te=K.transition.ast.depCount,Ke=oe.transition.ast.depCount;return 0==Te||0==Ke?Te-Ke:this._engine.driver.containsElement(K.element,oe.element)?1:-1})}destroy(b){this.players.forEach(T=>T.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}elementContainsData(b){let T=!1;return this._elementListeners.has(b)&&(T=!0),T=!!this._queue.find(K=>K.element===b)||T,T}}class os{_onRemovalComplete(b,T){this.onRemovalComplete(b,T)}constructor(b,T,K){this.bodyNode=b,this.driver=T,this._normalizer=K,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(oe,Te)=>{}}get queuedPlayers(){const b=[];return this._namespaceList.forEach(T=>{T.players.forEach(K=>{K.queued&&b.push(K)})}),b}createNamespace(b,T){const K=new yi(b,T,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,T)?this._balanceNamespaceList(K,T):(this.newHostElements.set(T,K),this.collectEnterElement(T)),this._namespaceLookup[b]=K}_balanceNamespaceList(b,T){const K=this._namespaceList,oe=this.namespacesByHostElement;if(K.length-1>=0){let Ke=!1,Qe=this.driver.getParentElement(T);for(;Qe;){const Mt=oe.get(Qe);if(Mt){const Ht=K.indexOf(Mt);K.splice(Ht+1,0,b),Ke=!0;break}Qe=this.driver.getParentElement(Qe)}Ke||K.unshift(b)}else K.push(b);return oe.set(T,b),b}register(b,T){let K=this._namespaceLookup[b];return K||(K=this.createNamespace(b,T)),K}registerTrigger(b,T,K){let oe=this._namespaceLookup[b];oe&&oe.register(T,K)&&this.totalAnimations++}destroy(b,T){if(!b)return;const K=this._fetchNamespace(b);this.afterFlush(()=>{this.namespacesByHostElement.delete(K.hostElement),delete this._namespaceLookup[b];const oe=this._namespaceList.indexOf(K);oe>=0&&this._namespaceList.splice(oe,1)}),this.afterFlushAnimationsDone(()=>K.destroy(T))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const T=new Set,K=this.statesByElement.get(b);if(K)for(let oe of K.values())if(oe.namespaceId){const Te=this._fetchNamespace(oe.namespaceId);Te&&T.add(Te)}return T}trigger(b,T,K,oe){if(ao(T)){const Te=this._fetchNamespace(b);if(Te)return Te.trigger(T,K,oe),!0}return!1}insertNode(b,T,K,oe){if(!ao(T))return;const Te=T[er];if(Te&&Te.setForRemoval){Te.setForRemoval=!1,Te.setForMove=!0;const Ke=this.collectedLeaveElements.indexOf(T);Ke>=0&&this.collectedLeaveElements.splice(Ke,1)}if(b){const Ke=this._fetchNamespace(b);Ke&&Ke.insertNode(T,K)}oe&&this.collectEnterElement(T)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,T){T?this.disabledNodes.has(b)||(this.disabledNodes.add(b),hr(b,ki)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),yo(b,ki))}removeNode(b,T,K){if(ao(T)){const oe=b?this._fetchNamespace(b):null;oe?oe.removeNode(T,K):this.markElementAsRemoved(b,T,!1,K);const Te=this.namespacesByHostElement.get(T);Te&&Te.id!==b&&Te.removeNode(T,K)}else this._onRemovalComplete(T,K)}markElementAsRemoved(b,T,K,oe,Te){this.collectedLeaveElements.push(T),T[er]={namespaceId:b,setForRemoval:oe,hasAnimation:K,removedBeforeQueried:!1,previousTriggersValues:Te}}listen(b,T,K,oe,Te){return ao(T)?this._fetchNamespace(b).listen(T,K,oe,Te):()=>{}}_buildInstruction(b,T,K,oe,Te){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,K,oe,b.fromState.options,b.toState.options,T,Te)}destroyInnerAnimations(b){let T=this.driver.query(b,on,!0);T.forEach(K=>this.destroyActiveAnimationsForElement(K)),0!=this.playersByQueriedElement.size&&(T=this.driver.query(b,Rn,!0),T.forEach(K=>this.finishActiveQueriedAnimationOnElement(K)))}destroyActiveAnimationsForElement(b){const T=this.playersByElement.get(b);T&&T.forEach(K=>{K.queued?K.markedForDestroy=!0:K.destroy()})}finishActiveQueriedAnimationOnElement(b){const T=this.playersByQueriedElement.get(b);T&&T.forEach(K=>K.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return zt(this.players).onDone(()=>b());b()})}processLeaveNode(b){var T;const K=b[er];if(K&&K.setForRemoval){if(b[er]=oo,K.namespaceId){this.destroyInnerAnimations(b);const oe=this._fetchNamespace(K.namespaceId);oe&&oe.clearElementCache(b)}this._onRemovalComplete(b,K.setForRemoval)}null!==(T=b.classList)&&void 0!==T&&T.contains(ki)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(oe=>{this.markElementAsDisabled(oe,!1)})}flush(b=-1){let T=[];if(this.newHostElements.size&&(this.newHostElements.forEach((K,oe)=>this._balanceNamespaceList(K,oe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let K=0;K<this.collectedEnterElements.length;K++)hr(this.collectedEnterElements[K],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const K=[];try{T=this._flushAnimations(K,b)}finally{for(let oe=0;oe<K.length;oe++)K[oe]()}}else for(let K=0;K<this.collectedLeaveElements.length;K++)this.processLeaveNode(this.collectedLeaveElements[K]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(K=>K()),this._flushFns=[],this._whenQuietFns.length){const K=this._whenQuietFns;this._whenQuietFns=[],T.length?zt(T).onDone(()=>{K.forEach(oe=>oe())}):K.forEach(oe=>oe())}}reportError(b){throw function He(J){return new d.vHH(3402,!1)}()}_flushAnimations(b,T){const K=new ci,oe=[],Te=new Map,Ke=[],Qe=new Map,Mt=new Map,Ht=new Map,pn=new Set;this.disabledNodes.forEach(Xn=>{pn.add(Xn);const fr=this.driver.query(Xn,".ng-animate-queued",!0);for(let Ar=0;Ar<fr.length;Ar++)pn.add(fr[Ar])});const $n=this.bodyNode,Rr=Array.from(this.statesByElement.keys()),Fn=lo(Rr,this.collectedEnterElements),ir=new Map;let ar=0;Fn.forEach((Xn,fr)=>{const Ar=Yn+ar++;ir.set(fr,Ar),Xn.forEach(jr=>hr(jr,Ar))});const wr=[],Di=new Set,Fi=new Set;for(let Xn=0;Xn<this.collectedLeaveElements.length;Xn++){const fr=this.collectedLeaveElements[Xn],Ar=fr[er];Ar&&Ar.setForRemoval&&(wr.push(fr),Di.add(fr),Ar.hasAnimation?this.driver.query(fr,".ng-star-inserted",!0).forEach(jr=>Di.add(jr)):Fi.add(fr))}const Xi=new Map,To=lo(Rr,Array.from(Di));To.forEach((Xn,fr)=>{const Ar=Ft+ar++;Xi.set(fr,Ar),Xn.forEach(jr=>hr(jr,Ar))}),b.push(()=>{Fn.forEach((Xn,fr)=>{const Ar=ir.get(fr);Xn.forEach(jr=>yo(jr,Ar))}),To.forEach((Xn,fr)=>{const Ar=Xi.get(fr);Xn.forEach(jr=>yo(jr,Ar))}),wr.forEach(Xn=>{this.processLeaveNode(Xn)})});const ga=[],Jo=[];for(let Xn=this._namespaceList.length-1;Xn>=0;Xn--)this._namespaceList[Xn].drainQueuedTransitions(T).forEach(Ar=>{const jr=Ar.player,io=Ar.element;if(ga.push(jr),this.collectedEnterElements.length){const ns=io[er];if(ns&&ns.setForMove){if(ns.previousTriggersValues&&ns.previousTriggersValues.has(Ar.triggerName)){const qs=ns.previousTriggersValues.get(Ar.triggerName),Ki=this.statesByElement.get(Ar.element);if(Ki&&Ki.has(Ar.triggerName)){const Fl=Ki.get(Ar.triggerName);Fl.value=qs,Ki.set(Ar.triggerName,Fl)}}return void jr.destroy()}}const sa=!$n||!this.driver.containsElement($n,io),ps=Xi.get(io),Ys=ir.get(io),po=this._buildInstruction(Ar,K,Ys,ps,sa);if(po.errors&&po.errors.length)return void Jo.push(po);if(sa)return jr.onStart(()=>Yt(io,po.fromStyles)),jr.onDestroy(()=>Gt(io,po.toStyles)),void oe.push(jr);if(Ar.isFallbackTransition)return jr.onStart(()=>Yt(io,po.fromStyles)),jr.onDestroy(()=>Gt(io,po.toStyles)),void oe.push(jr);const kl=[];po.timelines.forEach(ns=>{ns.stretchStartingKeyframe=!0,this.disabledNodes.has(ns.element)||kl.push(ns)}),po.timelines=kl,K.append(io,po.timelines),Ke.push({instruction:po,player:jr,element:io}),po.queriedElements.forEach(ns=>Pt(Qe,ns,[]).push(jr)),po.preStyleProps.forEach((ns,qs)=>{if(ns.size){let Ki=Mt.get(qs);Ki||Mt.set(qs,Ki=new Set),ns.forEach((Fl,Gr)=>Ki.add(Gr))}}),po.postStyleProps.forEach((ns,qs)=>{let Ki=Ht.get(qs);Ki||Ht.set(qs,Ki=new Set),ns.forEach((Fl,Gr)=>Ki.add(Gr))})});if(Jo.length){const Xn=[];Jo.forEach(fr=>{Xn.push(function dt(J,b){return new d.vHH(3505,!1)}())}),ga.forEach(fr=>fr.destroy()),this.reportError(Xn)}const zi=new Map,es=new Map;Ke.forEach(Xn=>{const fr=Xn.element;K.has(fr)&&(es.set(fr,fr),this._beforeAnimationBuild(Xn.player.namespaceId,Xn.instruction,zi))}),oe.forEach(Xn=>{const fr=Xn.element;this._getPreviousPlayers(fr,!1,Xn.namespaceId,Xn.triggerName,null).forEach(jr=>{Pt(zi,fr,[]).push(jr),jr.destroy()})});const Ss=wr.filter(Xn=>oi(Xn,Mt,Ht)),Io=new Map;Yo(Io,this.driver,Fi,Ht,Y.l3).forEach(Xn=>{oi(Xn,Mt,Ht)&&Ss.push(Xn)});const Ts=new Map;Fn.forEach((Xn,fr)=>{Yo(Ts,this.driver,new Set(Xn),Mt,Y.k1)}),Ss.forEach(Xn=>{var fr,Ar;const jr=Io.get(Xn),io=Ts.get(Xn);Io.set(Xn,new Map([...null!==(fr=null==jr?void 0:jr.entries())&&void 0!==fr?fr:[],...null!==(Ar=null==io?void 0:io.entries())&&void 0!==Ar?Ar:[]]))});const wa=[],ts=[],Da={};Ke.forEach(Xn=>{const{element:fr,player:Ar,instruction:jr}=Xn;if(K.has(fr)){if(pn.has(fr))return Ar.onDestroy(()=>Gt(fr,jr.toStyles)),Ar.disabled=!0,Ar.overrideTotalTime(jr.totalTime),void oe.push(Ar);let io=Da;if(es.size>1){let ps=fr;const Ys=[];for(;ps=ps.parentNode;){const po=es.get(ps);if(po){io=po;break}Ys.push(ps)}Ys.forEach(po=>es.set(po,io))}const sa=this._buildAnimation(Ar.namespaceId,jr,zi,Te,Ts,Io);if(Ar.setRealPlayer(sa),io===Da)wa.push(Ar);else{const ps=this.playersByElement.get(io);ps&&ps.length&&(Ar.parentPlayer=zt(ps)),oe.push(Ar)}}else Yt(fr,jr.fromStyles),Ar.onDestroy(()=>Gt(fr,jr.toStyles)),ts.push(Ar),pn.has(fr)&&oe.push(Ar)}),ts.forEach(Xn=>{const fr=Te.get(Xn.element);if(fr&&fr.length){const Ar=zt(fr);Xn.setRealPlayer(Ar)}}),oe.forEach(Xn=>{Xn.parentPlayer?Xn.syncPlayerEvents(Xn.parentPlayer):Xn.destroy()});for(let Xn=0;Xn<wr.length;Xn++){const fr=wr[Xn],Ar=fr[er];if(yo(fr,Ft),Ar&&Ar.hasAnimation)continue;let jr=[];if(Qe.size){let sa=Qe.get(fr);sa&&sa.length&&jr.push(...sa);let ps=this.driver.query(fr,Rn,!0);for(let Ys=0;Ys<ps.length;Ys++){let po=Qe.get(ps[Ys]);po&&po.length&&jr.push(...po)}}const io=jr.filter(sa=>!sa.destroyed);io.length?vs(this,fr,io):this.processLeaveNode(fr)}return wr.length=0,wa.forEach(Xn=>{this.players.push(Xn),Xn.onDone(()=>{Xn.destroy();const fr=this.players.indexOf(Xn);this.players.splice(fr,1)}),Xn.play()}),wa}elementContainsData(b,T){let K=!1;const oe=T[er];return oe&&oe.setForRemoval&&(K=!0),this.playersByElement.has(T)&&(K=!0),this.playersByQueriedElement.has(T)&&(K=!0),this.statesByElement.has(T)&&(K=!0),this._fetchNamespace(b).elementContainsData(T)||K}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,T,K,oe,Te){let Ke=[];if(T){const Qe=this.playersByQueriedElement.get(b);Qe&&(Ke=Qe)}else{const Qe=this.playersByElement.get(b);if(Qe){const Mt=!Te||Te==Vo;Qe.forEach(Ht=>{Ht.queued||!Mt&&Ht.triggerName!=oe||Ke.push(Ht)})}}return(K||oe)&&(Ke=Ke.filter(Qe=>!(K&&K!=Qe.namespaceId||oe&&oe!=Qe.triggerName))),Ke}_beforeAnimationBuild(b,T,K){const Te=T.element,Ke=T.isRemovalTransition?void 0:b,Qe=T.isRemovalTransition?void 0:T.triggerName;for(const Mt of T.timelines){const Ht=Mt.element,pn=Ht!==Te,$n=Pt(K,Ht,[]);this._getPreviousPlayers(Ht,pn,Ke,Qe,T.toState).forEach(Fn=>{const ir=Fn.getRealPlayer();ir.beforeDestroy&&ir.beforeDestroy(),Fn.destroy(),$n.push(Fn)})}Yt(Te,T.fromStyles)}_buildAnimation(b,T,K,oe,Te,Ke){const Qe=T.triggerName,Mt=T.element,Ht=[],pn=new Set,$n=new Set,Rr=T.timelines.map(ir=>{const ar=ir.element;pn.add(ar);const wr=ar[er];if(wr&&wr.removedBeforeQueried)return new Y.ZN(ir.duration,ir.delay);const Di=ar!==Mt,Fi=function Bs(J){const b=[];return Wi(J,b),b}((K.get(ar)||_i).map(zi=>zi.getRealPlayer())).filter(zi=>!!zi.element&&zi.element===ar),Xi=Te.get(ar),To=Ke.get(ar),ga=Qt(this._normalizer,ir.keyframes,Xi,To),Jo=this._buildPlayer(ir,ga,Fi);if(ir.subTimeline&&oe&&$n.add(ar),Di){const zi=new so(b,Qe,ar);zi.setRealPlayer(Jo),Ht.push(zi)}return Jo});Ht.forEach(ir=>{Pt(this.playersByQueriedElement,ir.element,[]).push(ir),ir.onDone(()=>function Gi(J,b,T){let K=J.get(b);if(K){if(K.length){const oe=K.indexOf(T);K.splice(oe,1)}0==K.length&&J.delete(b)}return K}(this.playersByQueriedElement,ir.element,ir))}),pn.forEach(ir=>hr(ir,Tr));const Fn=zt(Rr);return Fn.onDestroy(()=>{pn.forEach(ir=>yo(ir,Tr)),Gt(Mt,T.toStyles)}),$n.forEach(ir=>{Pt(oe,ir,[]).push(Fn)}),Fn}_buildPlayer(b,T,K){return T.length>0?this.driver.animate(b.element,T,b.duration,b.delay,b.easing,K):new Y.ZN(b.duration,b.delay)}}class so{constructor(b,T,K){this.namespaceId=b,this.triggerName=T,this.element=K,this._player=new Y.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((T,K)=>{T.forEach(oe=>ht(b,K,void 0,oe))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const T=this._player;T.triggerCallback&&b.onStart(()=>T.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,T){Pt(this._queuedCallbacks,b,[]).push(T)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const T=this._player;T.triggerCallback&&T.triggerCallback(b)}}function ao(J){return J&&1===J.nodeType}function ro(J,b){const T=J.style.display;return J.style.display=null!=b?b:"none",T}function Yo(J,b,T,K,oe){const Te=[];T.forEach(Mt=>Te.push(ro(Mt)));const Ke=[];K.forEach((Mt,Ht)=>{const pn=new Map;Mt.forEach($n=>{const Rr=b.computeStyle(Ht,$n,oe);pn.set($n,Rr),(!Rr||0==Rr.length)&&(Ht[er]=Ai,Ke.push(Ht))}),J.set(Ht,pn)});let Qe=0;return T.forEach(Mt=>ro(Mt,Te[Qe++])),Ke}function lo(J,b){const T=new Map;if(J.forEach(Qe=>T.set(Qe,[])),0==b.length)return T;const oe=new Set(b),Te=new Map;function Ke(Qe){if(!Qe)return 1;let Mt=Te.get(Qe);if(Mt)return Mt;const Ht=Qe.parentNode;return Mt=T.has(Ht)?Ht:oe.has(Ht)?1:Ke(Ht),Te.set(Qe,Mt),Mt}return b.forEach(Qe=>{const Mt=Ke(Qe);1!==Mt&&T.get(Mt).push(Qe)}),T}function hr(J,b){var T;null===(T=J.classList)||void 0===T||T.add(b)}function yo(J,b){var T;null===(T=J.classList)||void 0===T||T.remove(b)}function vs(J,b,T){zt(T).onDone(()=>J.processLeaveNode(b))}function Wi(J,b){for(let T=0;T<J.length;T++){const K=J[T];K instanceof Y.ZE?Wi(K.players,b):b.push(K)}}function oi(J,b,T){const K=T.get(J);if(!K)return!1;let oe=b.get(J);return oe?K.forEach(Te=>oe.add(Te)):b.set(J,K),T.delete(J),!0}class co{constructor(b,T,K){this.bodyNode=b,this._driver=T,this._normalizer=K,this._triggerCache={},this.onRemovalComplete=(oe,Te)=>{},this._transitionEngine=new os(b,T,K),this._timelineEngine=new wn(b,T,K),this._transitionEngine.onRemovalComplete=(oe,Te)=>this.onRemovalComplete(oe,Te)}registerTrigger(b,T,K,oe,Te){const Ke=b+"-"+oe;let Qe=this._triggerCache[Ke];if(!Qe){const Mt=[],pn=Kn(this._driver,Te,Mt,[]);if(Mt.length)throw function it(J,b){return new d.vHH(3404,!1)}();Qe=function wo(J,b,T){return new no(J,b,T)}(oe,pn,this._normalizer),this._triggerCache[Ke]=Qe}this._transitionEngine.registerTrigger(T,oe,Qe)}register(b,T){this._transitionEngine.register(b,T)}destroy(b,T){this._transitionEngine.destroy(b,T)}onInsert(b,T,K,oe){this._transitionEngine.insertNode(b,T,K,oe)}onRemove(b,T,K){this._transitionEngine.removeNode(b,T,K)}disableAnimations(b,T){this._transitionEngine.markElementAsDisabled(b,T)}process(b,T,K,oe){if("@"==K.charAt(0)){const[Te,Ke]=Wt(K);this._timelineEngine.command(Te,T,Ke,oe)}else this._transitionEngine.trigger(b,T,K,oe)}listen(b,T,K,oe,Te){if("@"==K.charAt(0)){const[Ke,Qe]=Wt(K);return this._timelineEngine.listen(Ke,T,Qe,Te)}return this._transitionEngine.listen(b,T,K,oe,Te)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(b){this._transitionEngine.afterFlushAnimationsDone(b)}}let ko=(()=>{class J{constructor(T,K,oe){this._element=T,this._startStyles=K,this._endStyles=oe,this._state=0;let Te=J.initialStylesByElement.get(T);Te||J.initialStylesByElement.set(T,Te=new Map),this._initialStyles=Te}start(){this._state<1&&(this._startStyles&&Gt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gt(this._element,this._initialStyles),this._endStyles&&(Gt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(J.initialStylesByElement.delete(this._element),this._startStyles&&(Yt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yt(this._element,this._endStyles),this._endStyles=null),Gt(this._element,this._initialStyles),this._state=3)}}return J.initialStylesByElement=new WeakMap,J})();function Jr(J){let b=null;return J.forEach((T,K)=>{(function fi(J){return"display"===J||"position"===J})(K)&&(b=b||new Map,b.set(K,T))}),b}class si{constructor(b,T,K,oe){this.element=b,this.keyframes=T,this.options=K,this._specialStyles=oe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=K.duration,this._delay=K.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const T=[];return b.forEach(K=>{T.push(Object.fromEntries(K))}),T}_triggerWebAnimation(b,T,K){return b.animate(this._convertKeyframesToObject(T),K)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((K,oe)=>{"offset"!==oe&&b.set(oe,this._finished?K:Zt(this.element,oe))}),this.currentSnapshot=b}triggerCallback(b){const T="start"===b?this._onStartFns:this._onDoneFns;T.forEach(K=>K()),T.length=0}}class Ji{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}matchesElement(b,T){return!1}containsElement(b,T){return vr(b,T)}getParentElement(b){return In(b)}query(b,T,K){return Gn(b,T,K)}computeStyle(b,T,K){return window.getComputedStyle(b)[T]}animate(b,T,K,oe,Te,Ke=[]){const Mt={duration:K,delay:oe,fill:0==oe?"both":"forwards"};Te&&(Mt.easing=Te);const Ht=new Map,pn=Ke.filter(Fn=>Fn instanceof si);(function _t(J,b){return 0===J||0===b})(K,oe)&&pn.forEach(Fn=>{Fn.currentSnapshot.forEach((ir,ar)=>Ht.set(ar,ir))});let $n=function et(J){return J.length?J[0]instanceof Map?J:J.map(b=>We(b)):[]}(T).map(Fn=>bt(Fn));$n=function kt(J,b,T){if(T.size&&b.length){let K=b[0],oe=[];if(T.forEach((Te,Ke)=>{K.has(Ke)||oe.push(Ke),K.set(Ke,Te)}),oe.length)for(let Te=1;Te<b.length;Te++){let Ke=b[Te];oe.forEach(Qe=>Ke.set(Qe,Zt(J,Qe)))}}return b}(b,$n,Ht);const Rr=function ji(J,b){let T=null,K=null;return Array.isArray(b)&&b.length?(T=Jr(b[0]),b.length>1&&(K=Jr(b[b.length-1]))):b instanceof Map&&(T=Jr(b)),T||K?new ko(J,T,K):null}(b,$n);return new si(b,$n,Mt,Rr)}}var as=C(6814);let uo=(()=>{class J extends Y._j{constructor(T,K){super(),this._nextAnimationId=0,this._renderer=T.createRenderer(K.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(T){const K=this._nextAnimationId.toString();this._nextAnimationId++;const oe=Array.isArray(T)?(0,Y.vP)(T):T;return jo(this._renderer,null,K,"register",[oe]),new _s(K,this._renderer)}}return J.\u0275fac=function(T){return new(T||J)(d.LFG(d.FYo),d.LFG(as.K0))},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac}),J})();class _s extends Y.LC{constructor(b,T){super(),this._id=b,this._renderer=T}create(b,T){return new Es(this._id,b,T||{},this._renderer)}}class Es{constructor(b,T,K,oe){this.id=b,this.element=T,this._renderer=oe,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",K)}_listen(b,T){return this._renderer.listen(this.element,`@@${this.id}:${b}`,T)}_command(b,...T){return jo(this._renderer,this.element,this.id,b,T)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){var b,T;return null!==(b=null===(T=this._renderer.engine.players[+this.id])||void 0===T?void 0:T.getPosition())&&void 0!==b?b:0}}function jo(J,b,T,K,oe){return J.setProperty(b,`@@${T}:${K}`,oe)}const Ho="@.disabled";let ls=(()=>{class J{constructor(T,K,oe){this.delegate=T,this.engine=K,this._zone=oe,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,K.onRemovalComplete=(Te,Ke)=>{const Qe=null==Ke?void 0:Ke.parentNode(Te);Qe&&Ke.removeChild(Qe,Te)}}createRenderer(T,K){const Te=this.delegate.createRenderer(T,K);if(!(T&&K&&K.data&&K.data.animation)){let pn=this._rendererCache.get(Te);return pn||(pn=new ho("",Te,this.engine,()=>this._rendererCache.delete(Te)),this._rendererCache.set(Te,pn)),pn}const Ke=K.id,Qe=K.id+"-"+this._currentId;this._currentId++,this.engine.register(Qe,T);const Mt=pn=>{Array.isArray(pn)?pn.forEach(Mt):this.engine.registerTrigger(Ke,Qe,T,pn.name,pn)};return K.data.animation.forEach(Mt),new Bo(this,Qe,Te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(T,K,oe){T>=0&&T<this._microtaskId?this._zone.run(()=>K(oe)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Te=>{const[Ke,Qe]=Te;Ke(Qe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([K,oe]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return J.\u0275fac=function(T){return new(T||J)(d.LFG(d.FYo),d.LFG(co),d.LFG(d.R0b))},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac}),J})();class ho{constructor(b,T,K,oe){this.namespaceId=b,this.delegate=T,this.engine=K,this._onDestroy=oe}get data(){return this.delegate.data}destroyNode(b){var T,K;null===(T=(K=this.delegate).destroyNode)||void 0===T||T.call(K,b)}destroy(){var b;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),null===(b=this._onDestroy)||void 0===b||b.call(this)}createElement(b,T){return this.delegate.createElement(b,T)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,T){this.delegate.appendChild(b,T),this.engine.onInsert(this.namespaceId,T,b,!1)}insertBefore(b,T,K,oe=!0){this.delegate.insertBefore(b,T,K),this.engine.onInsert(this.namespaceId,T,b,oe)}removeChild(b,T,K){this.engine.onRemove(this.namespaceId,T,this.delegate)}selectRootElement(b,T){return this.delegate.selectRootElement(b,T)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,T,K,oe){this.delegate.setAttribute(b,T,K,oe)}removeAttribute(b,T,K){this.delegate.removeAttribute(b,T,K)}addClass(b,T){this.delegate.addClass(b,T)}removeClass(b,T){this.delegate.removeClass(b,T)}setStyle(b,T,K,oe){this.delegate.setStyle(b,T,K,oe)}removeStyle(b,T,K){this.delegate.removeStyle(b,T,K)}setProperty(b,T,K){"@"==T.charAt(0)&&T==Ho?this.disableAnimations(b,!!K):this.delegate.setProperty(b,T,K)}setValue(b,T){this.delegate.setValue(b,T)}listen(b,T,K){return this.delegate.listen(b,T,K)}disableAnimations(b,T){this.engine.disableAnimations(b,T)}}class Bo extends ho{constructor(b,T,K,oe,Te){super(T,K,oe,Te),this.factory=b,this.namespaceId=T}setProperty(b,T,K){"@"==T.charAt(0)?"."==T.charAt(1)&&T==Ho?this.disableAnimations(b,K=void 0===K||!!K):this.engine.process(this.namespaceId,b,T.slice(1),K):this.delegate.setProperty(b,T,K)}listen(b,T,K){if("@"==T.charAt(0)){const oe=function ea(J){switch(J){case"body":return document.body;case"document":return document;case"window":return window;default:return J}}(b);let Te=T.slice(1),Ke="";return"@"!=Te.charAt(0)&&([Te,Ke]=function Fo(J){const b=J.indexOf(".");return[J.substring(0,b),J.slice(b+1)]}(Te)),this.engine.listen(this.namespaceId,oe,Te,Ke,Qe=>{this.factory.scheduleListenerCallback(Qe._data||-1,K,Qe)})}return this.delegate.listen(b,T,K)}}const ie=[{provide:Y._j,useClass:uo},{provide:Or,useFactory:function ta(){return new Qi}},{provide:co,useClass:(()=>{class J extends co{constructor(T,K,oe,Te){super(T.body,K,oe)}ngOnDestroy(){this.flush()}}return J.\u0275fac=function(T){return new(T||J)(d.LFG(as.K0),d.LFG(mn),d.LFG(Or),d.LFG(d.z2F))},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac}),J})()},{provide:d.FYo,useFactory:function w(J,b,T){return new ls(J,b,T)},deps:[c.se,co,d.R0b]}],f=[{provide:mn,useFactory:()=>new Ji},{provide:d.QbO,useValue:"BrowserAnimations"},...ie],v=[{provide:mn,useClass:fn},{provide:d.QbO,useValue:"NoopAnimations"},...ie];let p=(()=>{class J{static withConfig(T){return{ngModule:J,providers:T.disableAnimations?v:f}}}return J.\u0275fac=function(T){return new(T||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({providers:f,imports:[c.b2]}),J})();var wt=C(2607),jt=C(5548),En=C(8407),ur=C(7398),Ir=C(8180),xr=C(7826),Cr=C(3182);const Sr=(0,ur.U)(J=>!!J);let vo=(()=>{class J{constructor(T,K){this.router=T,this.auth=K,this.canActivate=(oe,Te)=>{const Ke=oe.data.authGuardPipe||(()=>Sr);return(0,xr.EA)(this.auth).pipe((0,Ir.q)(1),Ke(oe,Te),(0,ur.U)(Qe=>"boolean"==typeof Qe?Qe:Array.isArray(Qe)?this.router.createUrlTree(Qe):this.router.parseUrl(Qe)))}}}return J.\u0275fac=function(T){return new(T||J)(d.LFG(wt.F0),d.LFG(xr.gx))},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac,providedIn:"any"}),J})();const bs=J=>({canActivate:[vo],data:{authGuardPipe:J}}),Ps=[{path:"",loadChildren:()=>C.e(4054).then(C.bind(C,4054)).then(J=>J.TabsPageModule),...bs(()=>{return J=["login"],(0,En.z)(Sr,(0,ur.U)(b=>b||J));var J})},{path:"login",loadChildren:()=>Promise.all([C.e(8592),C.e(2363)]).then(C.bind(C,6488)).then(J=>J.LoginPageModule),...bs(()=>{return J=[""],(0,En.z)(Sr,(0,ur.U)(b=>b&&J||!0));var J})},{path:"create-account",loadChildren:()=>Promise.all([C.e(8592),C.e(1382)]).then(C.bind(C,1032)).then(J=>J.CreateAccountPageModule)}];let Mi=(()=>{class J{}return J.\u0275fac=function(T){return new(T||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({imports:[wt.Bz.forRoot(Ps,{preloadingStrategy:wt.wm}),wt.Bz]}),J})();var na=C(5861),_a=C(2644),Lo=C(15),Ra=C(534),ws=C(9058),ua=C(4537);const ha="functions";class hs{constructor(b,T,K){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=b.getImmediate({optional:!0}),this.messaging=T.getImmediate({optional:!0}),this.auth||b.get().then(oe=>this.auth=oe,()=>{}),this.messaging||T.get().then(oe=>this.messaging=oe,()=>{}),this.appCheck||K.get().then(oe=>this.appCheck=oe,()=>{})}getAuthToken(){var b=this;return(0,na.Z)(function*(){if(b.auth)try{const T=yield b.auth.getToken();return null==T?void 0:T.accessToken}catch{return}})()}getMessagingToken(){var b=this;return(0,na.Z)(function*(){if(b.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield b.messaging.getToken()}catch{return}})()}getAppCheckToken(b){var T=this;return(0,na.Z)(function*(){if(T.appCheck){const K=b?yield T.appCheck.getLimitedUseToken():yield T.appCheck.getToken();return K.error?null:K.token}return null})()}getContext(b){var T=this;return(0,na.Z)(function*(){return{authToken:yield T.getAuthToken(),messagingToken:yield T.getMessagingToken(),appCheckToken:yield T.getAppCheckToken(b)}})()}}const G="us-central1";class Z{constructor(b,T,K,oe,Te=G,Ke){this.app=b,this.fetchImpl=Ke,this.emulatorOrigin=null,this.contextProvider=new hs(T,K,oe),this.cancelAllRequests=new Promise(Qe=>{this.deleteService=()=>Promise.resolve(Qe())});try{const Qe=new URL(Te);this.customDomain=Qe.origin,this.region=G}catch{this.customDomain=null,this.region=Te}}_delete(){return this.deleteService()}_url(b){const T=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${T}/${this.region}/${b}`:null!==this.customDomain?`${this.customDomain}/${b}`:`https://${this.region}-${T}.cloudfunctions.net/${b}`}}const Lr="@firebase/functions";function un(J=(0,Ra.Mq)(),b=G){const K=(0,Ra.qX)((0,ws.m9)(J),ha).getImmediate({identifier:b}),oe=(0,ws.P0)("functions");return oe&&qr(K,...oe),K}function qr(J,b,T){!function Se(J,b,T){J.emulatorOrigin=`http://${b}:${T}`}((0,ws.m9)(J),b,T)}!function js(J,b){(0,Ra.Xd)(new ua.wA(ha,(K,{instanceIdentifier:oe})=>{const Te=K.getProvider("app").getImmediate(),Ke=K.getProvider("auth-internal"),Qe=K.getProvider("messaging-internal"),Mt=K.getProvider("app-check-internal");return new Z(Te,Ke,Qe,Mt,oe,J)},"PUBLIC").setMultipleInstances(!0)),(0,Ra.KN)(Lr,"0.10.0",b),(0,Ra.KN)(Lr,"0.10.0","esm2017")}(fetch.bind(self));var Nn=C(553),Hn=C(2726);const ra=(0,Hn.fo)("PushNotifications",{});var zn=C(1273),It=C(1776),dn=C(36);let Mo=(()=>{class J{constructor(T,K){this.authService=T,this.purchaseService=K,this.configureFirebaseEnvironment(),this.setTheme()}shadeColor(T,K){let oe=parseInt(T.substring(1,3),16),Te=parseInt(T.substring(3,5),16),Ke=parseInt(T.substring(5,7),16);return oe=parseInt((oe*(1-K)).toString()),Te=parseInt((Te*(1-K)).toString()),Ke=parseInt((Ke*(1-K)).toString()),oe=oe<255?oe:255,Te=Te<255?Te:255,Ke=Ke<255?Ke:255,"#"+(1===oe.toString(16).length?"0"+oe.toString(16):oe.toString(16))+(1===Te.toString(16).length?"0"+Te.toString(16):Te.toString(16))+(1===Ke.toString(16).length?"0"+Ke.toString(16):Ke.toString(16))}setTheme(){var T=this;return(0,na.Z)(function*(){const K=yield zn.u.get({key:"theme"});if(console.log(K.value),K.value){const oe=document.querySelector("html");if(oe){const Te=T.shadeColor(JSON.parse(K.value).value,.5);oe.style.setProperty("--ion-color-primary-shade",Te),oe.style.setProperty("--ion-color-primary",JSON.parse(K.value).value),oe.style.setProperty("--ion-color-primary-contrast",JSON.parse(K.value).darkText?"#000000":"#FFFFFF")}}else{const oe=document.querySelector("html");oe&&oe.style.setProperty("--ion-color-primary","#00eabb")}})()}ngOnInit(){Hn.dV.isNativePlatform()&&(ra.requestPermissions().then(T=>{"granted"===T.receive&&ra.register()}),ra.addListener("registration",T=>{this.authService.userToken=T.value,console.log(T.value)}),ra.addListener("registrationError",T=>{}),ra.addListener("pushNotificationReceived",T=>{}),ra.addListener("pushNotificationActionPerformed",T=>{}))}configureFirebaseEnvironment(){if(!Nn.N.production&&Nn.N.useFirestoreEmulator){const T=(0,Lo.ad)();(0,Lo.at)(T,"localhost",8080),console.warn("Using the Firestore emulator.")}if(!Nn.N.production&&Nn.N.useFirebaseAuthEmulator){const T=(0,_a.v0)();(0,_a.S$)(T,"http://localhost:9099"),console.warn("Using the Firebase Auth emulator.")}!Nn.N.production&&Nn.N.useFunctionsEmulator&&(qr(un(),"localhost",5001),console.warn("Using the Firebase Functions emulator."))}}return J.\u0275fac=function(T){return new(T||J)(d.Y36(It.e),d.Y36(dn.y))},J.\u0275cmp=d.Xpm({type:J,selectors:[["app-root"]],decls:2,vars:0,consts:[["id","body"]],template:function(T,K){1&T&&(d.TgZ(0,"ion-app",0),d._UZ(1,"ion-router-outlet"),d.qZA())},dependencies:[jt.dr,jt.jP]}),J})();var Eo=C(8726),Po=C(8883),Pa=C(2096),pl=C(2181),Oa=C(4664),gl=C(5592),Ol=C(4829),Bc=C(8645),ml=C(9360),$a=C(8251);var Bn=C(1631),zs=C(3997),Os=C(7921),gr=C(7582),Gs=C(5855);class kr{constructor(b){return b}}const Ba="analytics",fa=Po.nk.async,Ea=(0,Po.u3)(Gs.IH,!0),Ds=(0,Po.u3)(Gs.Kz,!0),yl=(0,Po.u3)(Gs.Iv,!0);let Zo=(()=>{class J{constructor(T,K,oe){let Te;this.disposables=[],(0,Cr.KN)("angularfire",Po.q4.full,"user-tracking"),this.initialized=K.runOutsideAngular(()=>new Promise(Ke=>{Te=Ke})),fa().then(()=>{const Ke=oe.get(kr);Ke?this.disposables=[(0,xr.fD)(T).subscribe(Qe=>{yl(Ke,null==Qe?void 0:Qe.uid),Te()})]:Te()})}ngOnDestroy(){this.disposables.forEach(T=>T.unsubscribe())}}return J.\u0275fac=function(T){return new(T||J)(d.LFG(xr.gx),d.LFG(d.R0b),d.LFG(d.zs3))},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac}),J})();const Ut="firebase_screen_id",Go="outlet",fs="screen_class",xl="screen_name";let Xo=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const pa={},R=J=>{const b=[J[fs],J[Go]].join("#");if(pa.hasOwnProperty(b))return pa[b];{const T=Xo++;return pa[b]=T,T}},L=(J,b,T)=>J.events.pipe((0,pl.h)(oe=>oe instanceof wt.jw)).pipe((0,Oa.w)(oe=>{var Te;const Qe=(null===(Te=J.parseUrl(J.url.replace(/(?:\().+(?:\))/g,Fn=>Fn.replace("://",":///"))).root.children[oe.snapshot.outlet])||void 0===Te?void 0:Te.toString())||"",Mt=J.routerState.root.children.map(Fn=>Fn).find(Fn=>Fn.outlet===oe.snapshot.outlet);if(!Mt)return(0,Pa.of)(null);let Ht=Mt;for(;Ht.firstChild;)Ht=Ht.firstChild;const pn=Ht.pathFromRoot.map(Fn=>{var ir;return null===(ir=Fn.routeConfig)||void 0===ir?void 0:ir.path}).filter(Fn=>Fn).join("/")||"/",$n={[xl]:pn,page_path:`/${Qe}`,firebase_event_origin:"auto",firebase_screen:pn,[Go]:oe.snapshot.outlet};b&&($n.page_title=b.getTitle());let Rr=Mt.component;if(Rr){if(Rr===wt.fw){let Fn=oe.snapshot;for(;Fn.firstChild;)Fn=Fn.firstChild;Rr=Fn.component}}else Rr=oe.snapshot.component;if("string"==typeof Rr)return(0,Pa.of)(Object.assign(Object.assign({},$n),{[fs]:Rr}));if(Rr){const Fn=T.resolveComponentFactory(Rr);return(0,Pa.of)(Object.assign(Object.assign({},$n),{[fs]:Fn.selector}))}return(0,Pa.of)(null)}),(0,pl.h)(oe=>!!oe),(0,ur.U)(oe=>Object.assign({firebase_screen_class:oe[fs],[Ut]:R(oe)},oe)),function tn(J,b,T,K){return(0,ml.e)((oe,Te)=>{let Ke;b&&"function"!=typeof b?({duration:T,element:Ke,connector:K}=b):Ke=b;const Qe=new Map,Mt=ir=>{Qe.forEach(ir),ir(Te)},Ht=ir=>Mt(ar=>ar.error(ir));let pn=0,$n=!1;const Rr=new $a.Q(Te,ir=>{try{const ar=J(ir);let wr=Qe.get(ar);if(!wr){Qe.set(ar,wr=K?K():new Bc.x);const Di=function Fn(ir,ar){const wr=new gl.y(Di=>{pn++;const Fi=ar.subscribe(Di);return()=>{Fi.unsubscribe(),0==--pn&&$n&&Rr.unsubscribe()}});return wr.key=ir,wr}(ar,wr);if(Te.next(Di),T){const Fi=(0,$a.x)(wr,()=>{wr.complete(),null==Fi||Fi.unsubscribe()},void 0,void 0,()=>Qe.delete(ar));Rr.add((0,Ol.Xf)(T(Di)).subscribe(Fi))}}wr.next(Ke?Ke(ir):ir)}catch(ar){Ht(ar)}},()=>Mt(ir=>ir.complete()),Ht,()=>Qe.clear(),()=>($n=!0,0===pn));oe.subscribe(Rr)})}(oe=>oe[Go]),(0,Bn.z)(oe=>oe.pipe((0,zs.x)((Te,Ke)=>JSON.stringify(Te)===JSON.stringify(Ke)),(0,Os.O)(void 0),function Zr(){return(0,ml.e)((J,b)=>{let T,K=!1;J.subscribe((0,$a.x)(b,oe=>{const Te=T;T=oe,K&&b.next([Te,oe]),K=!0}))})}(),(0,ur.U)(([Te,Ke])=>Te?Object.assign({firebase_previous_class:Te[fs],firebase_previous_screen:Te[xl],firebase_previous_id:Te[Ut]},Ke):Ke))));let D=(()=>{class J{constructor(T,K,oe,Te,Ke,Qe){(0,Cr.KN)("angularfire",Po.q4.full,"screen-tracking"),fa().then(()=>{const Mt=Qe.get(kr);!T||!Mt||Te.runOutsideAngular(()=>{this.disposable=L(T,K,oe).pipe((0,Oa.w)(Ht=>(0,gr.mG)(this,void 0,void 0,function*(){return Ke&&(yield Ke.initialized),Ds(Mt,"screen_view",Ht)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return J.\u0275fac=function(T){return new(T||J)(d.LFG(wt.F0,8),d.LFG(c.Dx,8),d.LFG(d._Vd),d.LFG(d.R0b),d.LFG(Zo,8),d.LFG(d.zs3))},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac}),J})();const j=new d.OlP("angularfire2.analytics-instances");function Fe(J){return(b,T)=>{if(!Po.nk.sync())return null;const K=b.runOutsideAngular(()=>J(T));return new kr(K)}}const xe={provide:class $i{constructor(){return(0,Po.vb)(Ba)}},deps:[[new d.FiY,j]]},ct={provide:kr,useFactory:function re(J,b){if(!Po.nk.sync())return null;const T=(0,Po.JM)(Ba,J,b);return T&&new kr(T)},deps:[[new d.FiY,j],Eo.Ot]};let qt=(()=>{class J{constructor(T,K){(0,Cr.KN)("angularfire",Po.q4.full,"analytics")}}return J.\u0275fac=function(T){return new(T||J)(d.LFG(D,8),d.LFG(Zo,8))},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({providers:[ct,xe,{provide:d.ip1,useValue:Po.nk.async,multi:!0}]}),J})();function xn(J,...b){return{ngModule:qt,providers:[{provide:j,useFactory:Fe(J),multi:!0,deps:[d.R0b,d.zs3,Po.HU,Eo.z6,...b]}]}}var mr=C(6863),rr=C(7247);class Ii{constructor(b){return b}}const Oo="functions",za=new d.OlP("angularfire2.functions-instances");function oa(J){return(b,T)=>{const K=b.runOutsideAngular(()=>J(T));return new Ii(K)}}const El={provide:class Ks{constructor(){return(0,Po.vb)(Oo)}},deps:[[new d.FiY,za]]},Uc={provide:Ii,useFactory:function Qo(J,b){const T=(0,Po.JM)(Oo,J,b);return T&&new Ii(T)},deps:[[new d.FiY,za],Eo.Ot]};let Na=(()=>{class J{constructor(){(0,Cr.KN)("angularfire",Po.q4.full,"fn")}}return J.\u0275fac=function(T){return new(T||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({providers:[Uc,El]}),J})();function Vc(J,...b){return{ngModule:Na,providers:[{provide:za,useFactory:oa(J),multi:!0,deps:[d.R0b,d.zs3,Po.HU,Eo.z6,[new d.FiY,xr.dh],[new d.FiY,rr.nm],...b]}]}}const Uf=(0,Po.u3)(un,!0);var Ga=C(9862),Hc=C(8647);let ka,tl=(()=>{class J{constructor(T){this.injector=T,ka=this.injector}}return J.\u0275fac=function(T){return new(T||J)(d.LFG(d.zs3))},J.\u0275mod=d.oAB({type:J,bootstrap:[Mo]}),J.\u0275inj=d.cJS({providers:[(0,Hc.iZ)({align:"right",allowNegative:!0,allowZero:!0,decimal:",",precision:2,prefix:"R$ ",suffix:"",thousands:".",nullable:!0,min:null,max:null,inputMode:Hc.ql.Financial}),{provide:wt.wN,useClass:jt.r4},D,Zo,as.H9],imports:[c.b2,p,jt.Pc.forRoot({mode:"ios"}),Mi,(0,Eo.hX)(()=>(0,Eo.ZF)(Nn.N.firebase)),xn(()=>Ea()),(0,xr.AR)(()=>(0,xr.uJ)((0,Eo.Mq)(),{persistence:_a.AP})),(0,mr.Cm)(()=>(0,mr.ad)()),Vc(()=>Uf()),Ga.JF]}),J})()},610:(lt,rt,C)=>{"use strict";C.d(rt,{Vd:()=>U,a_:()=>Y,it:()=>c,m_:()=>V,s4:()=>W,zq:()=>d});const c="PBKDF2",d="AES-GCM",Y=256,U="raw",W=["amount","name","merchant_name"],V="do_not_delete_this_or_you_will_lose_your_job_and_be_sad"},182:(lt,rt,C)=>{"use strict";C.d(rt,{HO:()=>d,YP:()=>c,fx:()=>Y,hc:()=>W,lN:()=>U});const c="users",d="categories",Y="subcategories",U="linked_accounts",W="transactions"},9137:(lt,rt,C)=>{"use strict";C.d(rt,{O:()=>c,w:()=>d});const c="isClone";function d(Y){return!0===Y.isClone}},7616:(lt,rt,C)=>{"use strict";C.d(rt,{r:()=>O});var c=C(5861),d=C(4092),Y=C(182),U=C(15),W=C(9137),V=C(6689);let O=(()=>{class N extends d.q{constructor(){super(Y.HO)}get(_,A){var S=()=>super._get,P=this;return(0,c.Z)(function*(){return S().call(P,N.makeCollectionRef(_),A)})()}getAllFromParent(_){var A=()=>super._getAllFromParent,S=this;return(0,c.Z)(function*(){return A().call(S,N.makeCollectionRef(_))})()}getAll(){var _=()=>super._getAll,A=this;return(0,c.Z)(function*(){return _().call(A)})()}getByQuery(_){var A=()=>super._getByQuery,S=this;return(0,c.Z)(function*(){return A().call(S,_)})()}add(_,A,S){var P=()=>super._add,H=this;return(0,c.Z)(function*(){return A=H.cloneAndRemoveProperties(A),P().call(H,N.makeCollectionRef(_),A,S)})()}update(_,A,S){var P=()=>super._update,H=this;return(0,c.Z)(function*(){return S=H.cloneAndRemoveProperties(S),P().call(H,N.makeCollectionRef(_),A,S)})()}delete(_,A,S=!1){var P=()=>super._delete,H=this;return(0,c.Z)(function*(){return P().call(H,N.makeCollectionRef(_),A,S)})()}static makeCollectionRef(_){return(0,U.hJ)((0,U.ad)(),Y.YP,_,Y.HO)}cloneAndRemoveProperties(_){return(0,W.w)(_)||((_=structuredClone(_))[W.O]=!0),_.transactions&&delete _.subcategories,_}}return N.\u0275fac=function(_){return new(_||N)},N.\u0275prov=V.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},2741:(lt,rt,C)=>{"use strict";C.d(rt,{V:()=>U});var c=C(5861),d=C(15),Y=C(9137);class U{constructor(V){V&&(this.collectionRef=V),this.db=(0,d.ad)()}get(V){var O=this;return(0,c.Z)(function*(){const N=yield(0,d.QT)((0,d.JU)(O.collectionRef,V));let M=N.data();if(M)return M.id=N.id,M})()}getAll(){var V=this;return(0,c.Z)(function*(){const O=yield(0,d.PL)(V.collectionRef);return{size:O.size,docs:V.mapDocsToData(O.docs)}})()}getByQuery(V){var O=this;return(0,c.Z)(function*(){const N=yield(0,d.PL)(V);return{size:N.size,docs:O.mapDocsToData(N.docs)}})()}add(V,O){var N=this;return(0,c.Z)(function*(){let M;V=N.cloneAndRemoveProperties(V);try{if(O)return yield(0,d.pl)((0,d.JU)(N.collectionRef,O),V),M=structuredClone(V),M.id=O,M;{M=yield(0,d.ET)(N.collectionRef,V);let _=structuredClone(V);return _.id=M.id,_}}catch(_){return void console.log(_)}})()}update(V,O){var N=this;return(0,c.Z)(function*(){O=N.cloneAndRemoveProperties(O);try{yield(0,d.pl)((0,d.JU)(N.collectionRef,V),O,{merge:!0})}catch{return!1}return!0})()}delete(V,O=!1){var N=this;return(0,c.Z)(function*(){if(!O)return N.update(V,{is_deleted:!0});try{yield(0,d.oe)((0,d.JU)(N.collectionRef,V))}catch{return!1}return!0})()}mapDocsToData(V){return V.map(O=>{let N=O.data();return N.id=O.id,N})}cloneAndRemoveProperties(V){return(0,Y.w)(V)||(V=structuredClone(V)),V.id&&delete V.id,delete V[Y.O],V}}},4092:(lt,rt,C)=>{"use strict";C.d(rt,{q:()=>U});var c=C(5861),d=C(15),Y=C(2741);class U{constructor(V){this.subCollectionName=V,this.collectionRepository=new Y.V,this.db=this.collectionRepository.db}_get(V,O){var N=this;return(0,c.Z)(function*(){return N.collectionRepository.collectionRef=V,N.collectionRepository.get(O)})()}_getAll(){var V=this;return(0,c.Z)(function*(){const O=yield(0,d.PL)((0,d.IO)((0,d.B$)((0,d.ad)(),V.subCollectionName)));return{size:O.size,docs:V.collectionRepository.mapDocsToData(O.docs)}})()}_getAllFromParent(V){var O=this;return(0,c.Z)(function*(){return O.collectionRepository.collectionRef=V,O.collectionRepository.getAll()})()}_getByQuery(V){var O=this;return(0,c.Z)(function*(){return O.collectionRepository.getByQuery(V)})()}_add(V,O,N){var M=this;return(0,c.Z)(function*(){return M.collectionRepository.collectionRef=V,M.collectionRepository.add(O,N)})()}_update(V,O,N){var M=this;return(0,c.Z)(function*(){return M.collectionRepository.collectionRef=V,M.collectionRepository.update(O,N)})()}_delete(V,O,N=!1){var M=this;return(0,c.Z)(function*(){return M.collectionRepository.collectionRef=V,M.collectionRepository.delete(O,N)})()}}},7195:(lt,rt,C)=>{"use strict";C.d(rt,{E:()=>A});var c=C(5861),d=C(2741),Y=C(15),U=C(182),W=C(2644),V=C(5592),O=C(9137),N=C(6689),M=C(2481),_=C(7826);let A=(()=>{class S extends d.V{constructor(H,X){var be;super((0,Y.hJ)((0,Y.ad)(),U.YP)),be=this,this.cryptoService=H,this.auth=X,this.currentFirestoreUser=new V.y(pe=>{this.auth.onAuthStateChanged(function(){var se=(0,c.Z)(function*(Me){if(Me){const we=yield be.getCurrentFirestoreUser();pe.next(we)}else pe.next(void 0)});return function(Me){return se.apply(this,arguments)}}())})}add(H,X){var be=()=>super.add,pe=this;return(0,c.Z)(function*(){return H=pe.cloneAndRemovePropertiesUser(H),be().call(pe,H,X)})()}update(H,X){var be=()=>super.update,pe=this;return(0,c.Z)(function*(){return X=pe.cloneAndRemovePropertiesUser(X),be().call(pe,H,X)})()}getCurrentFirestoreUser(H=!0){var X=this;return(0,c.Z)(function*(){if(!H&&X.cachedUser)return X.cachedUser;const be=X.getCurrentUserId();if(!be)return;const pe=yield X.get(be);return yield X.cryptoService.trySetSurrogateKey(pe),X.cachedUser=pe,pe})()}onUserLoggedOut(){this.cachedUser=void 0}getCurrentUserId(){var H,X;return null!==(H=null===(X=(0,W.v0)().currentUser)||void 0===X?void 0:X.uid)&&void 0!==H?H:null}static makeCollectionRef(){return(0,Y.hJ)((0,Y.ad)(),U.YP)}cloneAndRemovePropertiesUser(H){return(0,O.w)(H)||((H=structuredClone(H))[O.O]=!0),H.categories&&delete H.categories,H}}return S.\u0275fac=function(H){return new(H||S)(N.LFG(M.$),N.LFG(_.gx))},S.\u0275prov=N.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},3251:(lt,rt,C)=>{"use strict";C.d(rt,{c:()=>U});var c=C(5861),d=C(6689),Y=C(5548);let U=(()=>{class W{constructor(O){this.toast=O}createAndShowToast(O){var N=this;return(0,c.Z)(function*(){(yield N.toast.create({message:O,duration:550})).present()})()}}return W.\u0275fac=function(O){return new(O||W)(d.LFG(Y.yF))},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})()},1776:(lt,rt,C)=>{"use strict";C.d(rt,{e:()=>H});var c=C(5861),d=C(2644),W=C(5592),V=C(5106),O=C(610),N=C(6689),M=C(7826),_=C(7195),A=C(7616),S=C(2481),P=C(3251);let H=(()=>{class X{get currentUserId(){return this._currentUserIdCached}constructor(pe,se,Me,we,ne){this.auth=pe,this.userRepository=se,this.categoryRepository=Me,this.cryptoService=we,this.alertService=ne,this.userToken="",this.currentAuthUser=new W.y(ye=>{(0,d.Aj)(this.auth,Re=>{Re?this._currentUserIdCached=Re.uid:(this._currentUserIdCached=null,this.userRepository.onUserLoggedOut()),ye.next(Re)})})}login(pe,se){var Me=this;return(0,c.Z)(function*(){try{yield(0,d.e5)(Me.auth,pe,se);const we=yield Me.userRepository.getCurrentFirestoreUser();if(!we||!we.encryption_data)throw new Error("Something went wrong");we.encryption_data.surrogate_key_hashed_password?yield Me.loginGetSurrogateFromPassword(we,se):yield Me.loginGetSurrogateFromPasswordDeprecated(we,se)}catch(we){throw console.error(we),new Error("Email or password is incorrect")}})()}loginGetSurrogateFromPasswordDeprecated(pe,se){var Me=this;return(0,c.Z)(function*(){const we=yield Me.cryptoService.getSurrogateFromKDFProvider(se,pe.encryption_data.surrogate_key_password,pe.encryption_data.password_kdf_salt);let ne;for(Me.cryptoService.surrogateKey=we;;){ne=yield Me.cryptoService.digest(se);const[Re,je]=yield Me.cryptoService.deriveKeyFromPlainText(ne),Ae=yield Me.cryptoService.exportKeyToString(Re),Ee=yield Me.cryptoService.encrypt(Ae,we);yield Me.userRepository.update(pe.id,{encryption_data:{surrogate_key_hashed_password:Ee,hashed_password_salt:je}});const st=yield Me.userRepository.getCurrentFirestoreUser();if(!st||!st.encryption_data)throw new Error("Something went wrong");if(st.encryption_data.surrogate_key_hashed_password&&st.encryption_data.hashed_password_salt)break}yield Me.userRepository.update(pe.id,{encryption_data:{surrogate_key_password:"",password_kdf_salt:"",surrogate_key_refresh_token:"",refresh_token_kdf_salt:""}}),(yield Me.secureStore(O.m_,ne)).value&&console.log("Saved password hash to secure storage")})()}loginGetSurrogateFromPassword(pe,se){var Me=this;return(0,c.Z)(function*(){const we=yield Me.cryptoService.digest(se),ne=yield Me.cryptoService.getSurrogateFromKDFProvider(we,pe.encryption_data.surrogate_key_hashed_password,pe.encryption_data.hashed_password_salt);Me.cryptoService.surrogateKey=ne;try{yield Me.secureGet(O.m_)}catch{yield Me.secureStore(O.m_,we),console.log("Saved password hash to secure storage")}})()}createAccount(pe,se,Me){var we=this;return(0,c.Z)(function*(){let ne=yield we.createUserStuff(pe,se,Me);const{base64SurrogateKey:ye,base64PasswordHashKDFKey:Re,base64PasswordKDFSalt:je}=yield we.createUserSurrogateKeyAndPasswordKDFKey(se),Ae=yield we.cryptoService.encrypt(Re,ye);return we.cryptoService.surrogateKey=ye,yield we.userRepository.update(ne.id,{encryption_data:{surrogate_key_hashed_password:Ae,hashed_password_salt:je}}),ne})()}logout(pe=void 0){var se=this;return(0,c.Z)(function*(){try{return yield se.auth.signOut(),se.secureRemove(O.m_),se._currentUserIdCached=null,pe&&se.alertService.createAndShowToast(pe),!0}catch(Me){return console.error(Me),!1}})()}getCurrentAuthUser(){var pe=this;return(0,c.Z)(function*(){return pe.auth.currentUser})()}deleteAuthUser(){var pe=this;return(0,c.Z)(function*(){const se=yield pe.getCurrentAuthUser();se&&(yield se.delete(),pe._currentUserIdCached=null)})()}secureStore(pe,se){return(0,c.Z)(function*(){return V.k.set({key:pe,value:se})})()}secureGet(pe){return(0,c.Z)(function*(){return V.k.get({key:pe})})()}secureRemove(pe){return(0,c.Z)(function*(){return V.k.remove({key:pe})})()}createUserStuff(pe,se,Me){var we=this;return(0,c.Z)(function*(){let ne;try{ne=yield(0,d.Xb)(we.auth,pe,se)}catch{throw new Error("Something went wrong")}let Re,ye={email:pe,id:ne.user.uid,subscribed:!1,name:Me.name,token:we.userToken};try{Re=yield we.userRepository.add(ye,ye.id);const je=function Y(){let X=[];const be=function U(){let X=[];return X[0]=["income",!1],X[1]=["housing",!0],X[2]=["giving",!0],X[3]=["savings",!0],X[4]=["transportation",!0],X[5]=["food",!0],X[6]=["lifestyle",!0],X[7]=["insurance",!0],X[8]=["debt",!0],X}();for(let pe=0;pe<be.length;pe++){const[se,Me]=be[pe];X[pe]={index:pe,id:se,editable:Me}}return X}();let Ae=[];for(let Ee of je)Ae.push(we.categoryRepository.add(ye.id,Ee,Ee.id));yield Promise.all(Ae),console.log("Added default categories")}catch{throw yield we.deleteAuthUser(),new Error("Something went wrong")}if(!Re)throw new Error("Failed to create user");return ye=Re,ye.id&&(we._currentUserIdCached=ye.id),ye})()}createUserSurrogateKeyAndPasswordKDFKey(pe){var se=this;return(0,c.Z)(function*(){const Me=yield se.cryptoService.digest(pe);se.secureStore(O.m_,Me);const we=yield se.cryptoService.generateKey(),[ne,ye]=yield se.cryptoService.deriveKeyFromPlainText(Me);return{base64SurrogateKey:yield se.cryptoService.exportKeyToString(we),base64PasswordHashKDFKey:yield se.cryptoService.exportKeyToString(ne),base64PasswordKDFSalt:ye}})()}}return X.\u0275fac=function(pe){return new(pe||X)(N.LFG(M.gx),N.LFG(_.E),N.LFG(A.r),N.LFG(S.$),N.LFG(P.c))},X.\u0275prov=N.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},2481:(lt,rt,C)=>{"use strict";C.d(rt,{$:()=>it});var c=C(5861),d=C(4282),Y=C(9128);const U=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"],W=U.reduce((Ue,Ie)=>Ie.length<Ue.length?Ie:Ue).length,V=U.reduce((Ue,Ie)=>Ie.length>Ue.length?Ie:Ue).length;var M=C(6044),_=C(610);function A(Ue){return{name:"PBKDF2",hash:"SHA-256",salt:Ue,iterations:1e6}}var P=C(6321),X=C(9360),be=C(4829),pe=C(2306),se=C(8251),Me=C(7103);const we=(0,pe.d)(Ue=>function(Pe=null){Ue(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Pe});function ye(Ue){throw new we(Ue)}var Re=C(1776),je=C(7195),Ae=C(2607),Ee=C(5106),st=C(6689);let it=(()=>{class Ue{set surrogateKey(Pe){this._surrogateKey=Pe}get surrogateKey(){return this._surrogateKey}constructor(){this.subtleCrypto=window.crypto.subtle,this.encoder=new TextEncoder}getSurrogateFromKDFProvider(Pe,Je,ut){var $t=this;return(0,c.Z)(function*(){const[mt,De]=yield $t.deriveKeyFromPlainText(Pe,ut);return $t.decrypt(mt,Je)})()}getKDFSurrogateAndSaltFromSurrogateKey(Pe,Je){var ut=this;return(0,c.Z)(function*(){const[$t,mt]=yield ut.deriveKeyFromPlainText(Pe);return{surrogateKey:yield ut.encrypt($t,Je),salt:mt}})()}generateBackupPhrase(){return function O(Ue){var Ie;const Pe=null!==(Ie=Ue)&&void 0!==Ie&&Ie.seed?new Y(Ue.seed):null,{minLength:Je,maxLength:ut,...$t}=Ue||{};function mt(){let Qt="number"!=typeof Je?W:Le(Je);const ht="number"!=typeof ut?V:Le(ut);Qt>ht&&(Qt=ht);let Ct,Rt=!1;for(;!Rt;)Ct=U[He(U.length)],Rt=Ct.length<=ht&&Ct.length>=Qt;return Ct}function Le(Qt){return Qt<W&&(Qt=W),Qt>V&&(Qt=V),Qt}function He(Qt){const ht=Pe?Pe():Math.random();return Math.floor(ht*Qt)}if(void 0===Ue)return mt();if("number"==typeof Ue)Ue={exactly:Ue};else if(0===Object.keys($t).length)return mt();Ue.exactly&&(Ue.min=Ue.exactly,Ue.max=Ue.exactly),"number"!=typeof Ue.wordsPerString&&(Ue.wordsPerString=1),"function"!=typeof Ue.formatter&&(Ue.formatter=Qt=>Qt),"string"!=typeof Ue.separator&&(Ue.separator=" ");const Xe=Ue.min+He(Ue.max+1-Ue.min);let dt=[],St="",zt=0;for(let Qt=0;Qt<Xe*Ue.wordsPerString;Qt++)St+=zt===Ue.wordsPerString-1?Ue.formatter(mt(),zt):Ue.formatter(mt(),zt)+Ue.separator,zt++,(Qt+1)%Ue.wordsPerString==0&&(dt.push(St),St="",zt=0);return"string"==typeof Ue.join&&(dt=dt.join(Ue.join)),dt}({exactly:3,minLength:5,maxLength:5,seed:(0,M.D)()}).join("-")}encryptObject(Pe){var Je=this;return(0,c.Z)(function*(){const ut=yield Je.encodeStringToBase64(JSON.stringify(Pe));if(Je.surrogateKey||(yield Je.tryRecoverNoSurrogateKey()),!Je.surrogateKey)throw Je.panic(),new Error("Surrogate key not found");return Je.encrypt(Je.surrogateKey,ut)})()}decryptObject(Pe){var Je=this;return(0,c.Z)(function*(){if(Je.surrogateKey||(yield Je.tryRecoverNoSurrogateKey()),!Je.surrogateKey)throw Je.panic(),new Error("Surrogate key not found");const ut=yield Je.decrypt(Je.surrogateKey,Pe);return JSON.parse(yield Je.decodeStringFromBase64(ut))})()}trySetSurrogateKey(Pe){var Je=this;return(0,c.Z)(function*(){if(Pe&&Pe.encryption_data&&!Je._surrogateKey)try{const ut=yield Ee.k.get({key:_.m_});if(ut.value){const $t=yield Je.getSurrogateFromKDFProvider(ut.value,Pe.encryption_data.surrogate_key_hashed_password,Pe.encryption_data.hashed_password_salt);Je.surrogateKey=$t}else console.log("No surrogate key found in secure storage")}catch{}})()}deriveKeyFromPlainText(Pe,Je=void 0){var ut=this;return(0,c.Z)(function*(){const $t=yield ut.encodeStringToBase64(Pe),mt=yield ut.decodeFromBase64($t),De=yield ut.subtleCrypto.importKey(_.Vd,mt,_.it,!1,["deriveKey"]);let Le;if(Je){const Xe=yield ut.decodeFromBase64(Je);Le=new Uint8Array(Xe)}else Le=function S(Ue){return crypto.getRandomValues(new Uint8Array(Ue))}(16);return[yield ut.subtleCrypto.deriveKey(A(Le),De,{name:_.zq,length:_.a_},!0,["encrypt","decrypt"]),yield ut.encodeToBase64(Le)]})()}generateKey(){var Pe=this;return(0,c.Z)(function*(){return Pe.subtleCrypto.generateKey({name:_.zq,length:_.a_},!0,["encrypt","decrypt"])})()}digest(Pe){var Je=this;return(0,c.Z)(function*(){const ut=yield Je.encodeStringToBase64(Pe),$t=yield Je.decodeFromBase64(ut),mt=yield Je.subtleCrypto.digest("SHA-512",$t);return Je.encodeToBase64(mt)})()}encrypt(Pe,Je){var ut=this;return(0,c.Z)(function*(){"string"==typeof Pe&&(Pe=yield ut.importKeyFromString(Pe));const $t=yield ut.decodeFromBase64(Je),mt=yield ut.subtleCrypto.encrypt({name:_.zq,iv:new Uint8Array(12)},Pe,$t);return ut.encodeToBase64(mt)})()}decrypt(Pe,Je){var ut=this;return(0,c.Z)(function*(){"string"==typeof Pe&&(Pe=yield ut.importKeyFromString(Pe));const $t=yield ut.decodeFromBase64(Je),mt=yield ut.subtleCrypto.decrypt({name:_.zq,iv:new Uint8Array(12)},Pe,$t);return ut.encodeToBase64(mt)})()}importKeyFromString(Pe){var Je=this;return(0,c.Z)(function*(){const ut=yield Je.decodeFromBase64(Pe);return Je.subtleCrypto.importKey(_.Vd,ut,_.zq,!0,["encrypt","decrypt"])})()}exportKeyToString(Pe){var Je=this;return(0,c.Z)(function*(){const ut=yield Je.subtleCrypto.exportKey(_.Vd,Pe);return Je.encodeToBase64(ut)})()}encodeToBase64(Pe){return(0,c.Z)(function*(){return btoa(String.fromCharCode(...new Uint8Array(Pe)))})()}encodeStringToBase64(Pe){return(0,c.Z)(function*(){return btoa(Pe)})()}decodeFromBase64(Pe){return(0,c.Z)(function*(){return Uint8Array.from(atob(Pe),Je=>Je.charCodeAt(0)).buffer})()}decodeStringFromBase64(Pe){return(0,c.Z)(function*(){return atob(Pe)})()}tryRecoverNoSurrogateKey(){var Pe=this;return(0,c.Z)(function*(){if(Pe.userRepository||(Pe.userRepository=d.k.get(je.E)),yield Pe.userRepository.getCurrentFirestoreUser(),Pe.surrogateKey)return;const Je=Pe.userRepository.currentFirestoreUser.pipe(function ne(Ue,Ie){const{first:Pe,each:Je,with:ut=ye,scheduler:$t=(null!=Ie?Ie:P.z),meta:mt=null}=function H(Ue){return Ue instanceof Date&&!isNaN(Ue)}(Ue)?{first:Ue}:"number"==typeof Ue?{each:Ue}:Ue;if(null==Pe&&null==Je)throw new TypeError("No timeout provided.");return(0,X.e)((De,Le)=>{let He,Xe,dt=null,St=0;const zt=Qt=>{Xe=(0,Me.f)(Le,$t,()=>{try{He.unsubscribe(),(0,be.Xf)(ut({meta:mt,lastValue:dt,seen:St})).subscribe(Le)}catch(ht){Le.error(ht)}},Qt)};He=De.subscribe((0,se.x)(Le,Qt=>{null==Xe||Xe.unsubscribe(),St++,Le.next(dt=Qt),Je>0&&zt(Je)},void 0,void 0,()=>{null!=Xe&&Xe.closed||null==Xe||Xe.unsubscribe(),dt=null})),!St&&zt(null!=Pe?"number"==typeof Pe?Pe:+Pe-$t.now():Je)})}(5e3)).subscribe({next:(ut=(0,c.Z)(function*($t){}),function(mt){return ut.apply(this,arguments)}),error:ut=>{},complete:()=>{Je.unsubscribe()}});for(var ut;!Je.closed;)yield new Promise(ut=>setTimeout(ut,300));Pe.surrogateKey||(yield Pe.userRepository.getCurrentFirestoreUser(),!Pe.surrogateKey&&Pe.panic())})()}panic(){var Pe=this;return(0,c.Z)(function*(){Pe.surrogateKey=void 0,Pe.authService||(Pe.authService=d.k.get(Re.e)),console.log("PANIC"),yield Pe.authService.logout("Something went wrong. Please log in again."),Pe.router||(Pe.router=d.k.get(Ae.F0)),Pe.router.navigate(["/login"])})()}}return Ue.\u0275fac=function(Pe){return new(Pe||Ue)},Ue.\u0275prov=st.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})()},36:(lt,rt,C)=>{"use strict";C.d(rt,{y:()=>O});var c=C(5861),U=(C(3382),C(6689)),W=C(5548),V=C(3076);let O=(()=>{class N{constructor(_,A,S,P){this.platform=_,this.loadingCtrl=A,this.userService=S,this.alertCtrl=P,this.products=[],this.premium_yearly_id=(this.platform.is("ios"),"premium_yearly"),this.premium_id=(this.platform.is("ios"),"premium_sub"),this.platform.ready().then(()=>{this.platform.is("mobile")?(this.store=CdvPurchase.store,this.registerProducts(),this.setupListeners(),this.store.initialize([this.platform.is("ios")?CdvPurchase.Platform.APPLE_APPSTORE:CdvPurchase.Platform.GOOGLE_PLAY]),this.store.ready(()=>{console.log("STORE READY"),console.log(this.store.products),this.products=this.store.products})):this.platform.is("desktop")&&console.log("HEREERE")})}registerProducts(){this.store.register([{type:CdvPurchase.ProductType.PAID_SUBSCRIPTION,id:this.premium_id,platform:this.platform.is("ios")?CdvPurchase.Platform.APPLE_APPSTORE:CdvPurchase.Platform.GOOGLE_PLAY},{type:CdvPurchase.ProductType.PAID_SUBSCRIPTION,id:this.premium_yearly_id,platform:this.platform.is("ios")?CdvPurchase.Platform.APPLE_APPSTORE:CdvPurchase.Platform.GOOGLE_PLAY}])}setupListeners(){this.store.when().approved(_=>((_.products[0].id===this.premium_id||_.products[0].id===this.premium_yearly_id)&&this.userService.updatePremiumStatus(!0),_.verify())).productUpdated(_=>{this.userService.updatePremiumStatus(_.owned)}).verified(_=>_.finish()).unverified(_=>_.finish()).finished(()=>{this.loader&&this.loader.dismiss()}),this.store.restorePurchases()}startPurchase(_){var A=this;return(0,c.Z)(function*(){let S;for(let P=0;P<A.products.length;P++)if(console.log(A.products),A.products[P].id==_){S=A.products[P];break}A.purchase(S)})()}purchase(_){var A=this;return(0,c.Z)(function*(){A.loader=yield A.loadingCtrl.create({message:"Loading..."}),yield A.loader.present(),console.log(_);let S=_.getOffer();S&&A.store.order(S).then(P=>{},P=>{A.loader.dismiss(),A.presentAlert("Failed",`Failed to purchase: ${P}`)}).finally(()=>{A.loader.dismiss()})})()}restore(){this.store.restorePurchases()}presentAlert(_,A){var S=this;return(0,c.Z)(function*(){yield(yield S.alertCtrl.create({header:_,message:A,buttons:["OK"]})).present()})()}}return N.\u0275fac=function(_){return new(_||N)(U.LFG(W.t4),U.LFG(W.HT),U.LFG(V.K),U.LFG(W.Br))},N.\u0275prov=U.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},3076:(lt,rt,C)=>{"use strict";C.d(rt,{K:()=>W});var c=C(5861),d=C(6689),Y=C(1776),U=C(7195);let W=(()=>{class V{constructor(N,M){this.authService=N,this.userRepository=M,this.userRepository.currentFirestoreUser.subscribe(_=>{_&&(this.isPremium=_.subscribed)})}updatePremiumStatus(N){var M=this;return(0,c.Z)(function*(){const _=yield M.authService.getCurrentAuthUser();!_||!_.uid||(M.isPremium=N,M.userRepository.update(_.uid,{subscribed:N,token:M.authService.userToken}))})()}}return V.\u0275fac=function(N){return new(N||V)(d.LFG(Y.e),d.LFG(U.E))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},6044:(lt,rt,C)=>{"use strict";C.d(rt,{D:()=>S});const d={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Y;const U=new Uint8Array(16);function W(){if(!Y&&(Y=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Y(U)}const V=[];for(let P=0;P<256;++P)V.push((P+256).toString(16).slice(1));const A=function _(P,H,X){if(d.randomUUID&&!H&&!P)return d.randomUUID();const be=(P=P||{}).random||(P.rng||W)();if(be[6]=15&be[6]|64,be[8]=63&be[8]|128,H){X=X||0;for(let pe=0;pe<16;++pe)H[X+pe]=be[pe];return H}return function O(P,H=0){return(V[P[H+0]]+V[P[H+1]]+V[P[H+2]]+V[P[H+3]]+"-"+V[P[H+4]]+V[P[H+5]]+"-"+V[P[H+6]]+V[P[H+7]]+"-"+V[P[H+8]]+V[P[H+9]]+"-"+V[P[H+10]]+V[P[H+11]]+V[P[H+12]]+V[P[H+13]]+V[P[H+14]]+V[P[H+15]]).toLowerCase()}(be)};function S(){return A()}},553:(lt,rt,C)=>{"use strict";C.d(rt,{N:()=>c});const c={firebase:{projectId:"balanced-budget-90f1f",appId:"1:51779442445:web:ebf0f4040d9171a1d1c244",storageBucket:"balanced-budget-90f1f.appspot.com",apiKey:"AIzaSyBGdK3o6G9Hbwl3GyEkcfU6Vuyi7BGUwsI",authDomain:"balanced-budget-90f1f.firebaseapp.com",messagingSenderId:"51779442445",measurementId:"G-X448BHFKZT"},production:!0,useFirestoreEmulator:!1,useFirebaseAuthEmulator:!1,useFunctionsEmulator:!1}},3340:(lt,rt,C)=>{"use strict";var c=C(6593),d=C(6689),Y=C(4282),U=C(553),W=C(2330);window,(0,W.a)().then(()=>{(0,W.b)([["lottie-player",[[1,"lottie-player",{mode:[1],autoplay:[4],background:[513],controls:[4],count:[2],direction:[2],hover:[4],loop:[516],renderer:[1],speed:[2],src:[1],currentState:[1,"current-state"],seeker:[8],intermission:[2],play:[64],pause:[64],stop:[64],seek:[64],getLottie:[64],setSpeed:[64],setDirection:[64],setLooping:[64],togglePlay:[64],toggleLooping:[64]}]]]],void 0)}),U.N.production&&(0,d.G48)(),c.q6().bootstrapModule(Y.b).catch(O=>console.log(O))},2330:(lt,rt,C)=>{"use strict";C.d(rt,{a:()=>De,b:()=>zr,c:()=>Wn,h:()=>Ct,r:()=>X});var c=C(5861);let W,V,Y=0,U=!1,O=!1;const N=window,M=document,_={$flags$:0,$resourcesUrl$:"",jmp:We=>We(),raf:We=>requestAnimationFrame(We),ael:(We,et,Nt,bt)=>We.addEventListener(et,Nt,bt),rel:(We,et,Nt,bt)=>We.removeEventListener(et,Nt,bt)},A=(()=>!!M.documentElement.attachShadow)(),S=(()=>{try{return new CSSStyleSheet,!0}catch{}return!1})(),P=new WeakMap,H=We=>P.get(We),X=(We,et)=>P.set(et.$lazyInstance$=We,et),pe=(We,et)=>et in We,se=We=>console.error(We),Me=new Map,ne=new Map,ye=[],Re=[],je=[],Ae=(We,et)=>Nt=>{We.push(Nt),U||(U=!0,et&&4&_.$flags$?Ue(it):_.raf(it))},st=(We,et)=>{let Nt=0,bt=0;for(;Nt<We.length&&(bt=performance.now())<et;)try{We[Nt++](bt)}catch(Gt){se(Gt)}Nt===We.length?We.length=0:0!==Nt&&We.splice(0,Nt)},it=()=>{Y++,(We=>{for(let et=0;et<We.length;et++)try{We[et](performance.now())}catch(Nt){se(Nt)}We.length=0})(ye);const We=2==(6&_.$flags$)?performance.now()+10*Math.ceil(Y*(1/22)):1/0;st(Re,We),st(je,We),Re.length>0&&(je.push(...Re),Re.length=0),(U=ye.length+Re.length+je.length>0)?_.raf(it):Y=0},Ue=We=>Promise.resolve().then(We),Ie=Ae(Re,!0),Pe={},ut=We=>null!=We,$t=We=>"object"==(We=typeof We)||"function"===We,De=()=>N.CSS&&N.CSS.supports&&N.CSS.supports("color","var(--c)")?Promise.resolve():C.e(3987).then(C.t.bind(C,3987,23)).then(()=>{if(_.$cssShim$=N.__stencil_cssshim,_.$cssShim$)return _.$cssShim$.initShim()}),dt="hydrated",St=new WeakMap,Rt=(We,et)=>"sc-"+We,Ct=(We,et,...Nt)=>{let bt=null,Gt=!1,Yt=!1,nn=[];const Be=de=>{for(let ve=0;ve<de.length;ve++)bt=de[ve],Array.isArray(bt)?Be(bt):null!=bt&&"boolean"!=typeof bt&&((Gt="function"!=typeof We&&!$t(bt))&&(bt=String(bt)),Gt&&Yt?nn[nn.length-1].$text$+=bt:nn.push(Gt?{$flags$:0,$text$:bt}:bt),Yt=Gt)};if(Be(Nt),et){const de=et.className||et.class;de&&(et.class="object"!=typeof de?de:Object.keys(de).filter(ve=>de[ve]).join(" "))}return{$flags$:0,$tag$:We,$children$:nn.length>0?nn:null,$elm$:void 0,$attrs$:et}},Pt={},an=(We,et,Nt,bt,Gt,Yt)=>{if(Nt===bt)return;let nn=pe(We,et),Be=et.toLowerCase();if("class"===et){const he=We.classList;In(Nt).forEach(de=>he.remove(de)),In(bt).forEach(de=>he.add(de))}else if("style"===et){for(const he in Nt)(!bt||null==bt[he])&&(he.includes("-")?We.style.removeProperty(he):We.style[he]="");for(const he in bt)(!Nt||bt[he]!==Nt[he])&&(he.includes("-")?We.style.setProperty(he,bt[he]):We.style[he]=bt[he])}else if("ref"===et)bt&&bt(We);else if(nn||"o"!==et[0]||"n"!==et[1]){const he=$t(bt);if((nn||he&&null!==bt)&&!Gt)try{if(We.tagName.includes("-"))We[et]=bt;else{let de=null==bt?"":bt;(null==Nt||We[et]!=de)&&(We[et]=de)}}catch{}null==bt||!1===bt?We.removeAttribute(et):(!nn||4&Yt||Gt)&&!he&&We.setAttribute(et,bt=!0===bt?"":bt)}else et="-"===et[2]?et.substr(3):pe(We,Be)?Be.substr(2):Be[2]+et.substr(3),Nt&&_.rel(We,et,Nt,!1),bt&&_.ael(We,et,bt,!1)},In=We=>We?We.split(/\s+/).filter(et=>et):[],vn=(We,et,Nt,bt)=>{const Gt=11===et.$elm$.nodeType&&et.$elm$.host?et.$elm$.host:et.$elm$,Yt=We&&We.$attrs$||Pe,nn=et.$attrs$||Pe;for(bt in Yt)bt in nn||an(Gt,bt,Yt[bt],void 0,Nt,et.$flags$);for(bt in nn)an(Gt,bt,Yt[bt],nn[bt],Nt,et.$flags$)},Tt=(We,et,Nt,bt)=>{let nn,Be,Gt=et.$children$[Nt],Yt=0;if(ut(Gt.$text$))Gt.$elm$=M.createTextNode(Gt.$text$);else{if(nn=Gt.$elm$=O||"svg"===Gt.$tag$?M.createElementNS("http://www.w3.org/2000/svg",Gt.$tag$):M.createElement(Gt.$tag$),O="svg"===Gt.$tag$||"foreignObject"!==Gt.$tag$&&O,vn(null,Gt,O),ut(W)&&nn["s-si"]!==W&&nn.classList.add(nn["s-si"]=W),Gt.$children$)for(Yt=0;Yt<Gt.$children$.length;++Yt)Be=Tt(We,Gt,Yt),Be&&nn.appendChild(Be);"svg"===Gt.$tag$?O=!1:"foreignObject"===Gt.$elm$.tagName&&(O=!0)}return Gt.$elm$},gn=(We,et,Nt,bt,Gt,Yt)=>{let Be,nn=We;for(nn.shadowRoot&&nn.tagName===V&&(nn=nn.shadowRoot);Gt<=Yt;++Gt)bt[Gt]&&(Be=Tt(null,Nt,Gt),Be&&(bt[Gt].$elm$=Be,nn.insertBefore(Be,et)))},or=(We,et,Nt,bt)=>{for(;et<=Nt;++et)ut(We[et])&&(bt=We[et].$elm$,Gn(We[et],!0),bt.remove())},Sn=(We,et)=>We.$tag$===et.$tag$,vr=(We,et)=>{const Nt=et.$elm$=We.$elm$,bt=We.$children$,Gt=et.$children$;O=Nt&&ut(Nt.parentNode)&&void 0!==Nt.ownerSVGElement,O="svg"===et.$tag$||"foreignObject"!==et.$tag$&&O,ut(et.$text$)?We.$text$!==et.$text$&&(Nt.textContent=et.$text$):(vn(We,et,O),ut(bt)&&ut(Gt)?((We,et,Nt,bt)=>{let pt,Gt=0,Yt=0,nn=et.length-1,Be=et[0],he=et[nn],de=bt.length-1,ve=bt[0],Ce=bt[de];for(;Gt<=nn&&Yt<=de;)null==Be?Be=et[++Gt]:null==he?he=et[--nn]:null==ve?ve=bt[++Yt]:null==Ce?Ce=bt[--de]:Sn(Be,ve)?(vr(Be,ve),Be=et[++Gt],ve=bt[++Yt]):Sn(he,Ce)?(vr(he,Ce),he=et[--nn],Ce=bt[--de]):Sn(Be,Ce)?(vr(Be,Ce),We.insertBefore(Be.$elm$,he.$elm$.nextSibling),Be=et[++Gt],Ce=bt[--de]):Sn(he,ve)?(vr(he,ve),We.insertBefore(he.$elm$,Be.$elm$),he=et[--nn],ve=bt[++Yt]):(pt=Tt(et&&et[Yt],Nt,Yt),ve=bt[++Yt],pt&&Be.$elm$.parentNode.insertBefore(pt,Be.$elm$));Gt>nn?gn(We,null==bt[de+1]?null:bt[de+1].$elm$,Nt,bt,Yt,de):Yt>de&&or(et,Gt,nn)})(Nt,bt,et,Gt):ut(Gt)?(ut(We.$text$)&&(Nt.textContent=""),gn(Nt,null,et,Gt,0,Gt.length-1)):ut(bt)&&or(bt,0,bt.length-1)),O&&"svg"===et.$tag$&&(O=!1)},Gn=(We,et)=>{We&&(We.$attrs$&&We.$attrs$.ref&&We.$attrs$.ref(et?null:We.$elm$),We.$children$&&We.$children$.forEach(Nt=>{Gn(Nt,et)}))},fn=(We,et,Nt,bt)=>{et.$flags$|=16;const Gt=et.$lazyInstance$,Yt=()=>mn(We,et,Nt,Gt,bt);return Ft(void 0,()=>Ie(Yt))},mn=(We,et,Nt,bt,Gt)=>{et.$flags$&=-17,We["s-lr"]=!1,Gt&&((We,et,Nt)=>{const bt=((We,et,Nt,bt)=>{let Gt=Rt(et.$tagName$),Yt=ne.get(Gt);if(We=11===We.nodeType?We:M,Yt)if("string"==typeof Yt){let Be,nn=St.get(We=We.head||We);if(nn||St.set(We,nn=new Set),!nn.has(Gt)){if(_.$cssShim$){Be=_.$cssShim$.createHostStyle(bt,Gt,Yt,!!(10&et.$flags$));const he=Be["s-sc"];he&&(Gt=he,nn=null)}else Be=M.createElement("style"),Be.setAttribute("data-styles",""),Be.innerHTML=Yt;We.insertBefore(Be,We.querySelector("link")),nn&&nn.add(Gt)}}else We.adoptedStyleSheets.includes(Yt)||(We.adoptedStyleSheets=[...We.adoptedStyleSheets,Yt]);return Gt})(A&&We.shadowRoot?We.shadowRoot:We.getRootNode(),et,0,We);10&et.$flags$&&(We["s-sc"]=bt,We.classList.add(bt+"-h"))})(We,Nt),et.$flags$|=4;try{((We,et,Nt,bt)=>{V=We.tagName;const Gt=et.$vnode$||{$flags$:0},Yt=(We=>We&&We.$tag$===Pt)(bt)?bt:Ct(null,null,bt);Nt.$attrsToReflect$&&(Yt.$attrs$=Yt.$attrs$||{},Nt.$attrsToReflect$.forEach(([nn,Be])=>Yt.$attrs$[Be]=We[nn])),Yt.$tag$=null,Yt.$flags$|=4,et.$vnode$=Yt,Yt.$elm$=Gt.$elm$=We.shadowRoot||We,W=We["s-sc"],vr(Gt,Yt)})(We,et,Nt,bt.render())}catch(Yt){se(Yt)}et.$flags$&=-5,_.$cssShim$&&_.$cssShim$.updateHost(We),We["s-lr"]=!0,et.$flags$|=2,We["s-rc"].length>0&&(We["s-rc"].forEach(Yt=>Yt()),We["s-rc"].length=0),_r(We,et)},_r=(We,et,Nt)=>{if(!We["s-al"]){const bt=et.$lazyInstance$,Gt=et.$ancestorComponent$;64&et.$flags$||(et.$flags$|=64,We.classList.add(dt),Yn(bt,"componentDidLoad"),et.$onReadyResolve$(We),Gt||An()),Gt&&((Nt=Gt["s-al"])&&(Nt.delete(We),0===Nt.size&&(Gt["s-al"]=void 0,Gt["s-init"]())),et.$ancestorComponent$=void 0)}},An=()=>{M.documentElement.classList.add(dt),_.$flags$|=2},Yn=(We,et,Nt)=>{if(We&&We[et])try{return We[et](Nt)}catch(bt){se(bt)}},Ft=(We,et)=>We&&We.then?We.then(et):et(),Tr=(We,et,Nt)=>{if(et.$members$){const bt=Object.entries(et.$members$),Gt=We.prototype;if(bt.forEach(([Yt,[nn]])=>{31&nn||2&Nt&&32&nn?Object.defineProperty(Gt,Yt,{get(){return((We,et)=>H(this).$instanceValues$.get(et))(0,Yt)},set(Be){((We,et,Nt,bt)=>{const Gt=H(We),Yt=Gt.$hostElement$,nn=Gt.$instanceValues$.get(et),Be=Gt.$flags$,he=Gt.$lazyInstance$;Nt=((We,et)=>null==We||$t(We)?We:4&et?"false"!==We&&(""===We||!!We):2&et?parseFloat(We):1&et?String(We):We)(Nt,bt.$members$[et][0]),Nt!==nn&&(!(8&Be)||void 0===nn)&&(Gt.$instanceValues$.set(et,Nt),he&&2==(22&Be)&&fn(Yt,Gt,bt,!1))})(this,Yt,Be,et)},configurable:!0,enumerable:!0}):1&Nt&&64&nn&&Object.defineProperty(Gt,Yt,{value(...Be){const he=H(this);return he.$onReadyPromise$.then(()=>he.$lazyInstance$[Yt](...Be))}})}),1&Nt){const Yt=new Map;Gt.attributeChangedCallback=function(nn,Be,he){_.jmp(()=>{const de=Yt.get(nn);this[de]=(null!==he||"boolean"!=typeof this[de])&&he})},We.observedAttributes=bt.filter(([nn,Be])=>15&Be[0]).map(([nn,Be])=>{const he=Be[1]||nn;return Yt.set(he,nn),512&Be[0]&&et.$attrsToReflect$.push([nn,he]),he})}}return We},Rn=function(){var We=(0,c.Z)(function*(et,Nt,bt,Gt,Yt){if(!(32&Nt.$flags$)){Nt.$flags$|=32,Yt=((We,et,Nt)=>{const bt=We.$tagName$.replace(/-/g,"_"),Gt=We.$lazyBundleIds$,Yt=Me.get(Gt);return Yt?Yt[bt]:C(5e3)(`./${Gt}.entry.js`).then(nn=>(Me.set(Gt,nn),nn[bt]),se)})(bt),Yt.then&&(Yt=yield Yt),Yt.isProxied||(Tr(Yt,bt,2),Yt.isProxied=!0),Nt.$flags$|=8;try{new Yt(Nt)}catch(de){se(de)}Nt.$flags$&=-9;const he=Rt(bt.$tagName$);if(!ne.has(he)&&Yt.style){let de=Yt.style;8&bt.$flags$&&(de=yield C.e(5962).then(C.bind(C,3233)).then(ve=>ve.scopeCss(de,he,!1))),((We,et,Nt)=>{let bt=ne.get(We);S&&Nt?(bt=bt||new CSSStyleSheet,bt.replace(et)):bt=et,ne.set(We,bt)})(he,de,!!(1&bt.$flags$))}}const nn=Nt.$ancestorComponent$,Be=()=>fn(et,Nt,bt,!0);nn&&!1===nn["s-lr"]&&nn["s-rc"]?nn["s-rc"].push(Be):Be()});return function(Nt,bt,Gt,Yt,nn){return We.apply(this,arguments)}}(),zr=(We,et={})=>{const Nt=[],bt=et.exclude||[],Gt=M.head,Yt=N.customElements,nn=Gt.querySelector("meta[charset]"),Be=M.createElement("style");let he;Object.assign(_,et),_.$resourcesUrl$=new URL(et.resourcesUrl||"./",M.baseURI).href,et.syncQueue&&(_.$flags$|=4),We.forEach(de=>de[1].forEach(ve=>{const Ce={$flags$:ve[0],$tagName$:ve[1],$members$:ve[2],$listeners$:ve[3],$attrsToReflect$:[]};!A&&1&Ce.$flags$&&(Ce.$flags$|=8);const pt=Ce.$tagName$,Ot=class extends HTMLElement{constructor(tt){super(tt),tt=this,this["s-lr"]=!1,this["s-rc"]=[],(We=>{{const et={$flags$:0,$hostElement$:We,$instanceValues$:new Map};et.$onReadyPromise$=new Promise(Nt=>et.$onReadyResolve$=Nt),P.set(We,et)}})(tt),1&Ce.$flags$&&(A?tt.attachShadow({mode:"open"}):"shadowRoot"in tt||(tt.shadowRoot=tt))}connectedCallback(){he&&(clearTimeout(he),he=null),_.jmp(()=>((We,et)=>{if(!(1&_.$flags$)){const Nt=H(We);if(!(1&Nt.$flags$)){Nt.$flags$|=1;{let bt=We;for(;bt=bt.parentNode||bt.host;)if(bt["s-init"]&&!1===bt["s-lr"]){Nt.$ancestorComponent$=bt,(bt["s-al"]=bt["s-al"]||new Set).add(We);break}}et.$members$&&Object.entries(et.$members$).forEach(([bt,[Gt]])=>{if(31&Gt&&We.hasOwnProperty(bt)){const Yt=We[bt];delete We[bt],We[bt]=Yt}}),Ue(()=>Rn(We,Nt,et))}}})(this,Ce))}disconnectedCallback(){_.jmp(()=>(We=>{1&_.$flags$||(H(We),_.$cssShim$&&_.$cssShim$.removeHost(We))})(this))}"s-init"(){const tt=H(this);tt.$lazyInstance$&&_r(this,tt)}"s-hmr"(tt){}forceUpdate(){((We,et)=>{{const Nt=H(We);2&Nt.$flags$&&fn(We,Nt,et,!1)}})(this,Ce)}componentOnReady(){return H(this).$onReadyPromise$}};Ce.$lazyBundleIds$=de[0],!bt.includes(pt)&&!Yt.get(pt)&&(Nt.push(pt),Yt.define(pt,Tr(Ot,Ce,1)))})),Be.innerHTML=Nt+"{visibility:hidden}.hydrated{visibility:inherit}",Be.setAttribute("data-styles",""),Gt.insertBefore(Be,nn?nn.nextSibling:Gt.firstChild),_.jmp(()=>he=setTimeout(An,30))},Wn=(We,et,Nt)=>{const bt=Tn(We);return{emit:Gt=>bt.dispatchEvent(new CustomEvent(et,{bubbles:!!(4&Nt),composed:!!(2&Nt),cancelable:!!(1&Nt),detail:Gt}))}},Tn=We=>H(We).$hostElement$},5106:(lt,rt,C)=>{"use strict";C.d(rt,{k:()=>d});const d=(0,C(2726).fo)("SecureStoragePlugin",{web:()=>C.e(6914).then(C.bind(C,6914)).then(Y=>new Y.SecureStoragePluginWeb)})},3382:function(){"use strict";var c,C,lt=this&&this.__awaiter||function(c,d,Y,U){return new(Y||(Y=Promise))(function(V,O){function N(A){try{_(U.next(A))}catch(S){O(S)}}function M(A){try{_(U.throw(A))}catch(S){O(S)}}function _(A){A.done?V(A.value):function W(V){return V instanceof Y?V:new Y(function(O){O(V)})}(A.value).then(N,M)}_((U=U.apply(c,d||[])).next())})};function rt(){var c;console.log("Create CdvPurchase...");const d=null===(c=window.CdvPurchase)||void 0===c?void 0:c.store;window.CdvPurchase=C,window.CdvPurchase.store=d||new C.Store,Object.assign(window.CdvPurchase.store,C.LogLevel,C.ProductType,C.ErrorCode,C.Platform)}!function(c){let Y;var W;(W=Y=c.ErrorCode||(c.ErrorCode={}))[W.SETUP=6777001]="SETUP",W[W.LOAD=6777002]="LOAD",W[W.PURCHASE=6777003]="PURCHASE",W[W.LOAD_RECEIPTS=6777004]="LOAD_RECEIPTS",W[W.CLIENT_INVALID=6777005]="CLIENT_INVALID",W[W.PAYMENT_CANCELLED=6777006]="PAYMENT_CANCELLED",W[W.PAYMENT_INVALID=6777007]="PAYMENT_INVALID",W[W.PAYMENT_NOT_ALLOWED=6777008]="PAYMENT_NOT_ALLOWED",W[W.UNKNOWN=6777010]="UNKNOWN",W[W.REFRESH_RECEIPTS=6777011]="REFRESH_RECEIPTS",W[W.INVALID_PRODUCT_ID=6777012]="INVALID_PRODUCT_ID",W[W.FINISH=6777013]="FINISH",W[W.COMMUNICATION=6777014]="COMMUNICATION",W[W.SUBSCRIPTIONS_NOT_AVAILABLE=6777015]="SUBSCRIPTIONS_NOT_AVAILABLE",W[W.MISSING_TOKEN=6777016]="MISSING_TOKEN",W[W.VERIFICATION_FAILED=6777017]="VERIFICATION_FAILED",W[W.BAD_RESPONSE=6777018]="BAD_RESPONSE",W[W.REFRESH=6777019]="REFRESH",W[W.PAYMENT_EXPIRED=6777020]="PAYMENT_EXPIRED",W[W.DOWNLOAD=6777021]="DOWNLOAD",W[W.SUBSCRIPTION_UPDATE_NOT_AVAILABLE=6777022]="SUBSCRIPTION_UPDATE_NOT_AVAILABLE",W[W.PRODUCT_NOT_AVAILABLE=6777023]="PRODUCT_NOT_AVAILABLE",W[W.CLOUD_SERVICE_PERMISSION_DENIED=6777024]="CLOUD_SERVICE_PERMISSION_DENIED",W[W.CLOUD_SERVICE_NETWORK_CONNECTION_FAILED=6777025]="CLOUD_SERVICE_NETWORK_CONNECTION_FAILED",W[W.CLOUD_SERVICE_REVOKED=6777026]="CLOUD_SERVICE_REVOKED",W[W.PRIVACY_ACKNOWLEDGEMENT_REQUIRED=6777027]="PRIVACY_ACKNOWLEDGEMENT_REQUIRED",W[W.UNAUTHORIZED_REQUEST_DATA=6777028]="UNAUTHORIZED_REQUEST_DATA",W[W.INVALID_OFFER_IDENTIFIER=6777029]="INVALID_OFFER_IDENTIFIER",W[W.INVALID_OFFER_PRICE=6777030]="INVALID_OFFER_PRICE",W[W.INVALID_SIGNATURE=6777031]="INVALID_SIGNATURE",W[W.MISSING_OFFER_PARAMS=6777032]="MISSING_OFFER_PARAMS",W[W.VALIDATOR_SUBSCRIPTION_EXPIRED=6778003]="VALIDATOR_SUBSCRIPTION_EXPIRED",c.storeError=function U(W,V,O,N){return{isError:!0,code:W,message:V,platform:O,productId:N}}}(C||(C={})),(c=C||(C={})).Iaptic=class d{constructor(U,W){this.config=U,U.url||(U.url="https://validator.iaptic.com"),this.store=null!=W?W:c.store,this.log=this.store.log.child("Iaptic")}get braintreeClientTokenProvider(){return U=>{this.log.info("Calling Braintree clientTokenProvider"),c.Utils.ajax(this.log,{url:`${this.config.url}/v3/braintree/client-token?appName=${this.config.appName}&apiKey=${this.config.apiKey}`,method:"POST",data:{applicationUsername:c.store.getApplicationUsername(),customerId:c.Braintree.customerId},success:W=>{this.log.info("clientTokenProvider success: "+JSON.stringify(W)),U(W.clientToken)},error:W=>{this.log.info("clientTokenProvider error: "+JSON.stringify(W)),U(c.storeError(W,"ERROR "+W,c.Platform.BRAINTREE,null))}})}}get appStoreDiscountEligibilityDeterminer(){let U;this.log.debug("AppStore eligibility determiner is listening..."),this.store.when().verified(O=>{O.platform===c.Platform.APPLE_APPSTORE&&(this.log.debug("Got a verified AppStore receipt."),U=O)},"appStoreDiscountEligibilityDeterminer_listening");const W=(O,N,M)=>{if(this.log.debug("AppStore eligibility determiner"),U)return this.log.debug("Using cached receipt"),M(V(U,N));const _=A=>{A.platform===c.Platform.APPLE_APPSTORE&&(this.log.debug("Receipt is verified, let's analyze the content and respond."),this.store.off(_),M(V(A,N)))};this.log.debug("Waiting for receipt"),this.store.when().verified(_,"appStoreDiscountEligibilityDeterminer_waiting")};return W.cacheReceipt=function(O){U=O},W;function V(O,N){const M=O.raw.ineligible_for_intro_price;return N.map(_=>{var A;return!("Introductory"===_.discountType&&M&&M.find(S=>_.productId===S)||"Subscription"===_.discountType&&!(null===(A=O.raw.collection)||void 0===A?void 0:A.find(P=>P.id===_.productId)))})}}get validator(){return`${this.config.url}/v1/validate?appName=${this.config.appName}&apiKey=${this.config.apiKey}`}},function(c){let d;var O;(O=d=c.LogLevel||(c.LogLevel={}))[O.QUIET=0]="QUIET",O[O.ERROR=1]="ERROR",O[O.WARNING=2]="WARNING",O[O.INFO=3]="INFO",O[O.DEBUG=4]="DEBUG";class Y{constructor(N,M=""){this.prefix="",this.store=N,this.prefix=M||"CdvPurchase"}child(N){return new Y(this.store,this.prefix+"."+N)}error(N){V(this.store.verbosity,d.ERROR,this.prefix,N);try{throw new Error(function W(O){return"string"!=typeof O&&(O=JSON.stringify(O)),O}(N))}catch(M){V(this.store.verbosity,d.ERROR,this.prefix,M.stack)}}warn(N){V(this.store.verbosity,d.WARNING,this.prefix,N)}info(N){V(this.store.verbosity,d.INFO,this.prefix,N)}debug(N){V(this.store.verbosity,d.DEBUG,this.prefix,N)}logCallbackException(N,M){this.warn("A callback in '"+N+"' failed with an exception."),"string"==typeof M?this.warn("           "+M):M&&(M.fileName&&this.warn("           "+M.fileName+":"+M.lineNumber),M.message&&this.warn("           "+M.message),M.stack&&this.warn("           "+M.stack))}}Y.console=window.console,c.Logger=Y;const U=["QUIET","ERROR","WARNING","INFO","DEBUG"];function V(O,N,M,_){if(N>(!0===O?1:O))return;"string"!=typeof _&&(_=JSON.stringify(_));const S=M?`[${M}] `:"";(N===d.ERROR?H=>Y.console.error(H):N===d.WARNING?H=>Y.console.warn(H):H=>Y.console.log(H))(U[N]?`${S}${U[N]}: ${_}`:`${S}${_}`)}}(C||(C={})),function(c){let d;(d=c.Utils||(c.Utils={})).nonEnumerable=(U,W,V)=>{if(V)return V.enumerable=!1,V;Object.defineProperty(U,W,{set(O){Object.defineProperty(this,W,{value:O,writable:!0,configurable:!0})},configurable:!0})}}(C||(C={})),function(c){c.Product=class d{constructor(U,W){this.className="Product",this.title="",this.description="",this.platform=U.platform,this.type=U.type,this.id=U.id,this.group=U.group,this.offers=[],Object.defineProperty(this,"pricing",{enumerable:!1,get:()=>{var V;return null===(V=this.offers[0])||void 0===V?void 0:V.pricingPhases[0]}}),Object.defineProperty(this,"canPurchase",{enumerable:!1,get:()=>W.canPurchase(this)}),Object.defineProperty(this,"owned",{enumerable:!1,get:()=>W.owned(this)})}get pricing(){var U;return null===(U=this.offers[0])||void 0===U?void 0:U.pricingPhases[0]}get canPurchase(){return!1}get owned(){return!1}getOffer(U=""){return U?this.offers.find(W=>W.id===U):this.offers[0]}addOffer(U){return this.getOffer(U.id)||this.offers.push(U),this}}}(C||(C={})),function(c){let d;(d=c.Utils||(c.Utils={})).objectValues=function U(W){const V=[];for(let O in W)W.hasOwnProperty(O)&&V.push(W[O]);return V}}(C||(C={})),function(c){let d;(d=c.Utils||(c.Utils={})).platformName=function U(W){switch(W){case c.Platform.APPLE_APPSTORE:return"App Store";case c.Platform.GOOGLE_PLAY:return"Google Play";case c.Platform.WINDOWS_STORE:return"Windows Store";case c.Platform.BRAINTREE:return"Braintree";case c.Platform.TEST:return"Test";default:return W}}}(C||(C={})),function(c){let d;!function(Y){class U{constructor(){this.array=[]}get length(){return this.array.length}get(){return this.array.concat()}add(N){this.has(N)||this.array.push(N)}clear(){for(;0!==this.array.length;)this.array.pop()}has(N){return!!this.array.find(M=>M===N)}}Y.ReceiptsToValidate=U,Y.Validator=class W{constructor(N,M){this.receiptsToValidate=new U,this.verifiedReceipts=[],this.numRequests=0,this.numResponses=0,this.cache={},this.controller=N,this.log=M.child("Validator")}incrRequestsCounter(){this.numRequests=this.numRequests+1|0,this.log.debug(`Validation requests=${this.numRequests} responses=${this.numResponses}`)}incrResponsesCounter(){this.numResponses=this.numResponses+1|0,this.log.debug(`Validation requests=${this.numRequests} responses=${this.numResponses}`)}addVerifiedReceipt(N,M){for(const A of this.verifiedReceipts)if(A.platform===N.platform&&A.id===M.id)return this.log.debug("Updating existing receipt."),A.set(N,M),A;this.log.debug("Register a new verified receipt.");const _=new c.VerifiedReceipt(N,M,this.controller);return this.verifiedReceipts.push(_),_}add(N){this.log.debug("Schedule validation: "+JSON.stringify(N));const M=N instanceof c.Transaction?N.parentReceipt:N;this.receiptsToValidate.has(M)||(this.incrRequestsCounter(),this.receiptsToValidate.add(M))}run(){const N=this.receiptsToValidate.get();this.receiptsToValidate.clear();const M=_=>lt(this,void 0,void 0,function*(){var A;const{receipt:S,payload:P}=_;this.incrResponsesCounter();try{const H=this.controller.adapters.find(S.platform);if(yield null==H?void 0:H.handleReceiptValidationResponse(S,P),P.ok){const X=this.addVerifiedReceipt(S,P.data);this.controller.verifiedCallbacks.trigger(X,"payload_ok")}else if(P.code===c.ErrorCode.VALIDATOR_SUBSCRIPTION_EXPIRED){const X=null===(A=S.lastTransaction())||void 0===A?void 0:A.transactionId,be=X?this.verifiedReceipts.find(pe=>{var se;return(null===(se=pe.collection[0])||void 0===se?void 0:se.transactionId)===X}):void 0;be?(null==be||be.collection.forEach(pe=>{pe.transactionId===X&&(pe.isExpired=!0)}),this.controller.verifiedCallbacks.trigger(be,"payload_expired")):this.controller.unverifiedCallbacks.trigger({receipt:S,payload:P},"no_verified_receipt")}else this.controller.unverifiedCallbacks.trigger({receipt:S,payload:P},"validator_error")}catch(H){this.log.error("Exception probably caused by an invalid response from the validator."+H.message),this.controller.unverifiedCallbacks.trigger({receipt:S,payload:{ok:!1,code:c.ErrorCode.VERIFICATION_FAILED,message:H.message}},"validator_exception")}});N.forEach(_=>this.runOnReceipt(_,M))}runOnReceipt(N,M){return lt(this,void 0,void 0,function*(){if(N.platform===c.Platform.TEST)return this.log.debug("Using Test Adapter mock verify function."),c.Test.Adapter.verify(N,M);if(!this.controller.validator)return this.incrResponsesCounter(),void M({receipt:N,payload:{ok:!0,data:{id:N.transactions[0].transactionId,latest_receipt:!0,transaction:{type:"test"}}}});const _=yield this.buildRequestBody(N);if(_)return"function"==typeof this.controller.validator?this.runValidatorFunction(this.controller.validator,N,_,M):this.runValidatorRequest("string"==typeof this.controller.validator?{url:this.controller.validator,timeout:2e4}:this.controller.validator,N,_,M);this.incrResponsesCounter()})}runValidatorFunction(N,M,_,A){try{N(_,S=>A({receipt:M,payload:S}))}catch(S){this.log.warn("user provided validator function failed with error: "+(null==S?void 0:S.stack))}}buildRequestBody(N){var M,_,A;return lt(this,void 0,void 0,function*(){const S=this.controller.adapters.find(N.platform),P=yield null==S?void 0:S.receiptValidationBody(N);if(P){if(P.additionalData=Object.assign(Object.assign({},null!==(M=P.additionalData)&&void 0!==M?M:{}),{applicationUsername:this.controller.getApplicationUsername()}),P.additionalData.applicationUsername||delete P.additionalData.applicationUsername,P.device=Object.assign(Object.assign({},null!==(_=P.device)&&void 0!==_?_:{}),c.Validator.Internal.getDeviceInfo(this.controller)),1===(null===(A=P.offers)||void 0===A?void 0:A.length)){const H=P.offers[0];if(1===H.pricingPhases.length){const X=H.pricingPhases[0];P.currency=X.currency,P.priceMicros=X.priceMicros}else if(2===H.pricingPhases.length){const X=H.pricingPhases[1];P.currency=X.currency,P.priceMicros=X.priceMicros,P.introPriceMicros=H.pricingPhases[0].priceMicros}}return P}})}removeExpiredCache(){const N=+new Date,M=[];for(const _ in this.cache)this.cache[_].expires<N&&M.push(_);for(const _ of M)delete this.cache[_]}runValidatorRequest(N,M,_,A){this.removeExpiredCache();const S=c.Utils.md5(JSON.stringify(_.transaction)),P=this.cache[S];if(P)return A({receipt:M,payload:P.payload});c.Utils.ajax(this.log.child("Ajax"),{url:N.url,method:"POST",customHeaders:N.headers,timeout:N.timeout,data:_,success:H=>{var X;if(this.log.debug("validator success, response: "+JSON.stringify(H)),!function V(O){return!!O&&"object"==typeof O&&"ok"in O&&"boolean"==typeof O.ok}(H))return A({receipt:M,payload:{ok:!1,code:c.ErrorCode.BAD_RESPONSE,message:"Validator responded with invalid data",data:{latest_receipt:null===(X=null==H?void 0:H.data)||void 0===X?void 0:X.latest_receipt}}});this.cache[S]={payload:H,expires:+new Date+12e4},A({receipt:M,payload:H})},error:(H,X,be)=>{var pe="Error "+H+": "+X;this.log.debug("validator failed, response: "+JSON.stringify(pe)),this.log.debug("body => "+JSON.stringify(be)),A({receipt:M,payload:{ok:!1,message:pe,code:c.ErrorCode.COMMUNICATION,status:H,data:{}}})}})}}}(d=c.Internal||(c.Internal={}))}(C||(C={})),function(c){let d;(d=c.Internal||(c.Internal={})).Adapters=class U{constructor(){this.list=[]}add(V,O,N){O.forEach(M=>{if(V.info(""),!this.find(M.platform))switch(M.platform){case c.Platform.APPLE_APPSTORE:return this.list.push(new c.AppleAppStore.Adapter(N,M.options||{}));case c.Platform.GOOGLE_PLAY:return this.list.push(new c.GooglePlay.Adapter(N));case c.Platform.BRAINTREE:return M.options||V.error("Options missing for Braintree initialization. Use {platform: Platform.BRAINTREE, options: {...}} in your call to store.initialize"),this.list.push(new c.Braintree.Adapter(N,M.options));case c.Platform.TEST:return this.list.push(new c.Test.Adapter(N));default:return}})}initialize(V,O){return lt(this,void 0,void 0,function*(){const N=V.map(S=>"string"==typeof S?{platform:S}:S).filter(S=>!this.find(S.platform)),M=O.log.child("Adapters");M.info("Adding platforms: "+JSON.stringify(N)),this.add(M,N,O);const _=O.registeredProducts.byPlatform();return(yield Promise.all(N.map(S=>lt(this,void 0,void 0,function*(){var P,H,X;const be=null!==(X=null===(H=null===(P=_.filter(ye=>ye.platform===S.platform))||void 0===P?void 0:P[0])||void 0===H?void 0:H.products)&&void 0!==X?X:[],pe=this.find(S.platform);if(!pe)return;if(M.info(`${pe.name} initializing...`),!pe.isSupported)return void M.info(`${pe.name} is not supported.`);const se=yield pe.initialize();if(pe.ready=!0,M.info(`${pe.name} initialized. ${se?JSON.stringify(se):""}`),null!=se&&se.code)return se;if(M.info(`${pe.name} products: ${JSON.stringify(be)}`),0===be.length)return;let Me=[],we=[];pe.supportsParallelLoading?[Me,we]=yield Promise.all([pe.loadProducts(be),pe.loadReceipts()]):(Me=yield pe.loadProducts(be),we=yield pe.loadReceipts()),M.info(`${pe.name} products loaded: ${JSON.stringify(Me)}`);const ne=Me.filter(ye=>ye instanceof c.Product);return O.listener.productsUpdated(S.platform,ne),M.info(`${pe.name} receipts loaded: ${JSON.stringify(we)}`),Me.filter(ye=>"code"in ye&&"message"in ye)[0]})))).filter(S=>S)})}find(V){return this.list.filter(O=>O.id===V)[0]}findReady(V){return this.list.filter(O=>(!V||O.id===V)&&O.ready)[0]}}}(C||(C={})),function(c){let d;!function(Y){class U{constructor(V,O){this.supportedPlatforms=[],this.platformWithReceiptsReady=[],this.lastTransactionState={},this.lastCallTimeForState={},this.delegate=V,this.log=O.child("AdapterListener")}static makeTransactionToken(V){return V.platform+"|"+V.transactionId}setSupportedPlatforms(V){this.log.debug(`setSupportedPlatforms: ${V.join(",")} (${this.platformWithReceiptsReady.length} have their receipts ready)`),this.supportedPlatforms=V,this.supportedPlatforms.length===this.platformWithReceiptsReady.length&&(this.log.debug("triggering receiptsReady()"),this.delegate.receiptsReadyCallbacks.trigger(void 0,"adapterListener_setSupportedPlatforms"))}receiptsReady(V){this.supportedPlatforms.length>0&&this.platformWithReceiptsReady.length===this.supportedPlatforms.length?this.log.debug("receiptsReady: "+V+"(skipping)"):this.platformWithReceiptsReady.indexOf(V)<0&&(this.platformWithReceiptsReady.push(V),this.log.debug(`receiptsReady: ${V} (${this.platformWithReceiptsReady.length}/${this.supportedPlatforms.length})`),this.platformWithReceiptsReady.length===this.supportedPlatforms.length&&(this.log.debug("triggering receiptsReady()"),this.delegate.receiptsReadyCallbacks.trigger(void 0,"adapterListener_receiptsReady")))}productsUpdated(V,O){O.forEach(N=>this.delegate.updatedCallbacks.trigger(N,"adapterListener_productsUpdated"))}receiptsUpdated(V,O){const N=+new Date;this.log.debug("receiptsUpdated: "+JSON.stringify(O)),O.forEach(M=>{this.delegate.updatedReceiptCallbacks.trigger(M,"adapterListener_receiptsUpdated"),M.transactions.forEach(_=>{const A=U.makeTransactionToken(_),S=A+"@"+_.state,P=this.lastTransactionState[A];_.state===c.TransactionState.APPROVED?(0|this.lastCallTimeForState[S])<N-6e4&&(this.delegate.approvedCallbacks.trigger(_,"adapterListener_receiptsUpdated_approved"),this.lastCallTimeForState[S]=N):P!==_.state&&(_.state===c.TransactionState.FINISHED?(this.delegate.finishedCallbacks.trigger(_,"adapterListener_receiptsUpdated_finished"),this.lastCallTimeForState[S]=N):_.state===c.TransactionState.PENDING&&(this.delegate.pendingCallbacks.trigger(_,"adapterListener_receiptsUpdated_pending"),this.lastCallTimeForState[S]=N)),this.lastTransactionState[A]=_.state})})}}Y.StoreAdapterListener=U}(d=c.Internal||(c.Internal={}))}(C||(C={})),function(c){let d;(d=c.Internal||(c.Internal={})).Callbacks=class U{constructor(V,O,N=!1){this.callbacks=[],this.numTriggers=0,this.logger=V,this.className=O,this.finalStateMode=N}push(V,O){if(this.finalStateMode&&this.numTriggers>0)V(this.lastTriggerArgument);else{for(const N of this.callbacks)if(N.callback===V)throw new Error("REGISTERING THE SAME CALLBACK TWICE? This is indicative of a bug in your integration.");this.callbacks.push({callback:V,callbackName:O})}}trigger(V,O){this.lastTriggerArgument=V,this.numTriggers++;const N=this.callbacks;this.finalStateMode&&(this.callbacks=[]),N.forEach(M=>{c.Utils.safeCall(this.logger,this.className,M.callback,V,M.callbackName,O)})}remove(V){this.callbacks=this.callbacks.filter(O=>O.callback!==V)}}}(C||(C={})),function(c){let d;(d=c.Internal||(c.Internal={})).ReadyCallbacks=class U{constructor(V){this.isReady=!1,this.readyCallbacks=[],this.logger=V}add(V){if(this.isReady)return setTimeout(V,0);this.readyCallbacks.push(V)}trigger(V){this.isReady=!0,this.readyCallbacks.forEach(O=>c.Utils.safeCall(this.logger,"ready()",O,void 0,void 0,V)),this.readyCallbacks=[]}remove(V){this.readyCallbacks=this.readyCallbacks.filter(O=>O!==V)}}}(C||(C={})),function(c){let d;(d=c.Internal||(c.Internal={})).RegisteredProducts=class W{constructor(){this.list=[]}find(O,N){return this.list.find(M=>M.platform===O&&M.id===N)}add(O){const N=[],_=(Array.isArray(O)?O:[O]).filter(A=>!this.find(A.platform,A.id));for(const A of _)"object"==typeof(V=A)&&V.hasOwnProperty("platform")&&V.hasOwnProperty("id")&&V.hasOwnProperty("type")?this.list.push(A):N.push(c.storeError(c.ErrorCode.LOAD,'Invalid parameter to "register", expected "id", "type" and "platform". Got: '+JSON.stringify(A),null,null));var V;return N}byPlatform(){const O={};return this.list.forEach(N=>{O[N.platform]=(O[N.platform]||[]).concat(N)}),Object.keys(O).map(N=>({platform:N,products:O[N]}))}}}(C||(C={})),function(c){let d;(d=c.Internal||(c.Internal={})).TransactionStateMonitors=class U{constructor(V){this.monitors=[],V.approved(O=>this.callOnChange(O),"transactionStateMonitors_callOnChange").finished(O=>this.callOnChange(O),"transactionStateMonitors_callOnChange")}findMonitors(V){return this.monitors.filter(O=>O.transaction.platform===V.platform&&O.transaction.transactionId===V.transactionId)}callOnChange(V){this.findMonitors(V).forEach(O=>{O.lastChange!==V.state&&(O.lastChange=V.state,O.onChange(V.state))})}start(V,O){const N=c.Utils.uuidv4();return this.monitors.push({monitorId:N,transaction:V,onChange:O,lastChange:V.state}),setTimeout(O,0,V.state),{transaction:V,stop:()=>this.stop(N)}}stop(V){this.monitors=this.monitors.filter(O=>O.monitorId!==V)}}}(C||(C={})),function(c){let d;(d=c.Internal||(c.Internal={})).ReceiptsMonitor=class U{constructor(V){this.hasCalledReceiptsVerified=!1,this.controller=V,this.log=V.log.child("ReceiptsMonitor")}callReceiptsVerified(){this.hasCalledReceiptsVerified||(this.hasCalledReceiptsVerified=!0,this.log.info("receiptsVerified()"),this.controller.when().receiptsReady(()=>{setTimeout(()=>{this.controller.receiptsVerified()},0)},"receiptsMonitor_callReceiptsVerified"))}launch(){const V=()=>{this.log.debug(`check(${this.controller.numValidationResponses()}/${this.controller.numValidationRequests()})`),this.controller.numValidationRequests()===this.controller.numValidationResponses()&&(void 0!==this.intervalChecker&&(clearInterval(this.intervalChecker),this.intervalChecker=void 0),this.controller.off(V),this.callReceiptsVerified())};this.controller.when().verified(V,"receiptsMonitor_check").unverified(V,"receiptsMonitor_check").receiptsReady(()=>{this.log.debug("receiptsReady..."),(!this.controller.hasLocalReceipts()||!this.controller.hasValidator())&&setTimeout(()=>{V()},0),this.intervalChecker=setInterval(()=>{this.log.debug("keep checking every 10s..."),V()},1e4)},"receiptsMonitor_setup")}}}(C||(C={})),function(c){let d;(d=c.Internal||(c.Internal={})).ExpiryMonitor=(()=>{class W{constructor(O){this.activePurchases={},this.notifiedPurchases={},this.controller=O}launch(){this.interval=setInterval(()=>{var O,N;const M=+new Date;for(const _ of this.controller.verifiedReceipts){const A=null!==(O=W.GRACE_PERIOD_MS[_.platform])&&void 0!==O?O:W.GRACE_PERIOD_MS.DEFAULT;for(const S of _.collection)if(S.expiryDate){const P=S.expiryDate+A,H=null!==(N=S.transactionId)&&void 0!==N?N:`${P}`;P>M&&(this.activePurchases[H]=!0),P<M&&this.activePurchases[H]&&!this.notifiedPurchases[H]&&(this.notifiedPurchases[H]=!0,this.controller.onVerifiedPurchaseExpired(S,_))}}},W.INTERVAL_MS)}}return W.INTERVAL_MS=1e4,W.GRACE_PERIOD_MS={DEFAULT:6e4,"ios-appstore":6e4,"android-playstore":3e4},W})()}(C||(C={})),function(c){c.PLUGIN_VERSION="13.10.0",c.Store=class d{constructor(){this.adapters=new c.Internal.Adapters,this.registeredProducts=new c.Internal.RegisteredProducts,this.log=new c.Logger(this),this.verbosity=c.LogLevel.ERROR,this._readyCallbacks=new c.Internal.ReadyCallbacks(this.log),this.updatedCallbacks=new c.Internal.Callbacks(this.log,"productUpdated()"),this.updatedReceiptsCallbacks=new c.Internal.Callbacks(this.log,"receiptUpdated()"),this.approvedCallbacks=new c.Internal.Callbacks(this.log,"approved()"),this.finishedCallbacks=new c.Internal.Callbacks(this.log,"finished()"),this.pendingCallbacks=new c.Internal.Callbacks(this.log,"pending()"),this.verifiedCallbacks=new c.Internal.Callbacks(this.log,"verified()"),this.unverifiedCallbacks=new c.Internal.Callbacks(this.log,"unverified()"),this.receiptsReadyCallbacks=new c.Internal.Callbacks(this.log,"receiptsReady()",!0),this.receiptsVerifiedCallbacks=new c.Internal.Callbacks(this.log,"receiptsVerified()",!0),this.errorCallbacks=new c.Internal.Callbacks(this.log,"error()"),this.initializedHasBeenCalled=!1,this.lastUpdate=0,this.minTimeBetweenUpdates=6e5,this.version=c.PLUGIN_VERSION;const U=this;this.listener=new c.Internal.StoreAdapterListener({updatedCallbacks:this.updatedCallbacks,updatedReceiptCallbacks:this.updatedReceiptsCallbacks,approvedCallbacks:this.approvedCallbacks,finishedCallbacks:this.finishedCallbacks,pendingCallbacks:this.pendingCallbacks,receiptsReadyCallbacks:this.receiptsReadyCallbacks},this.log),this.transactionStateMonitors=new c.Internal.TransactionStateMonitors(this.when()),this._validator=new c.Internal.Validator({adapters:this.adapters,getApplicationUsername:this.getApplicationUsername.bind(this),get localReceipts(){return U.localReceipts},get validator(){return U.validator},get validator_privacy_policy(){return U.validator_privacy_policy},verifiedCallbacks:this.verifiedCallbacks,unverifiedCallbacks:this.unverifiedCallbacks,finish:W=>this.finish(W)},this.log),new c.Internal.ReceiptsMonitor({hasLocalReceipts:()=>this.localReceipts.length>0,hasValidator:()=>!!this.validator,numValidationRequests:()=>this._validator.numRequests,numValidationResponses:()=>this._validator.numResponses,off:this.off.bind(this),when:this.when.bind(this),receiptsVerified:()=>{U.receiptsVerifiedCallbacks.trigger(void 0,"receipts_monitor_controller")},log:this.log}).launch(),this.expiryMonitor=new c.Internal.ExpiryMonitor({get verifiedReceipts(){return U.verifiedReceipts},onVerifiedPurchaseExpired(W,V){U.verify(V.sourceReceipt)}}),this.expiryMonitor.launch()}getAdapter(U){return this.adapters.find(U)}getApplicationUsername(){return this.applicationUsername instanceof Function?this.applicationUsername():this.applicationUsername}register(U){this.registeredProducts.add(U).forEach(V=>{c.store.errorCallbacks.trigger(V,"register_error"),this.log.error(V)})}initialize(U=[this.defaultPlatform()]){return lt(this,void 0,void 0,function*(){if(this.initializedHasBeenCalled)return this.log.warn("store.initialized() has been called already."),[];this.log.info("initialize()"),this.initializedHasBeenCalled=!0,this.lastUpdate=+new Date;const W=this,V=this.adapters.initialize(U,{error:this.triggerError.bind(this),get verbosity(){return W.verbosity},getApplicationUsername:()=>W.getApplicationUsername(),get listener(){return W.listener},get log(){return W.log},get registeredProducts(){return W.registeredProducts},apiDecorators:{canPurchase:this.canPurchase.bind(this),owned:this.owned.bind(this),finish:this.finish.bind(this),order:this.order.bind(this),verify:this.verify.bind(this)}});return V.then(()=>{this._readyCallbacks.trigger("initialize_promise_resolved"),this.listener.setSupportedPlatforms(this.adapters.list.filter(O=>O.isSupported).map(O=>O.id))}),V})}refresh(){throw new Error("use store.initialize() or store.update()")}update(){var U;return lt(this,void 0,void 0,function*(){if(this.log.info("update()"),!this._readyCallbacks.isReady)return void this.log.warn("Do not call store.update() at startup! It is meant to reload the price of products (if needed) long after initialization.");const W=+new Date;if(this.lastUpdate>W-this.minTimeBetweenUpdates)this.log.info("Skipping store.update() as the last call occurred less than store.minTimeBetweenUpdates millis ago.");else{this.lastUpdate=W;for(const V of this.registeredProducts.byPlatform()){const O=yield null===(U=this.adapters.findReady(V.platform))||void 0===U?void 0:U.loadProducts(V.products);null==O||O.forEach(N=>{N instanceof c.Product&&this.updatedCallbacks.trigger(N,"update_has_loaded_products")})}}})}ready(U){this._readyCallbacks.add(U)}get isReady(){return this._readyCallbacks.isReady}when(){const U={productUpdated:(W,V)=>(this.updatedCallbacks.push(W,V),U),receiptUpdated:(W,V)=>(this.updatedReceiptsCallbacks.push(W,V),U),updated:(W,V)=>(this.updatedCallbacks.push(W,V),this.updatedReceiptsCallbacks.push(W,V),U),approved:(W,V)=>(this.approvedCallbacks.push(W,V),U),pending:(W,V)=>(this.pendingCallbacks.push(W,V),U),finished:(W,V)=>(this.finishedCallbacks.push(W,V),U),verified:(W,V)=>(this.verifiedCallbacks.push(W,V),U),unverified:(W,V)=>(this.unverifiedCallbacks.push(W,V),U),receiptsReady:(W,V)=>(this.receiptsReadyCallbacks.push(W,V),U),receiptsVerified:(W,V)=>(this.receiptsVerifiedCallbacks.push(W,V),U)};return U}off(U){this.updatedCallbacks.remove(U),this.updatedReceiptsCallbacks.remove(U),this.approvedCallbacks.remove(U),this.finishedCallbacks.remove(U),this.pendingCallbacks.remove(U),this.verifiedCallbacks.remove(U),this.unverifiedCallbacks.remove(U),this.receiptsReadyCallbacks.remove(U),this.receiptsVerifiedCallbacks.remove(U),this.errorCallbacks.remove(U),this._readyCallbacks.remove(U)}monitor(U,W,V){return this.transactionStateMonitors.start(U,c.Utils.safeCallback(this.log,"monitor()",W,V,"transactionStateMonitors_stateChanged"))}get products(){return[].concat(...this.adapters.list.map(U=>U.products))}get(U,W){var V;return null===(V=this.adapters.findReady(W))||void 0===V?void 0:V.products.find(O=>O.id===U)}get localReceipts(){return[].concat(...this.adapters.list.map(U=>U.receipts))}get localTransactions(){const U=[];for(const W of this.localReceipts)U.push(...W.transactions);return U}get verifiedReceipts(){return this._validator.verifiedReceipts}get verifiedPurchases(){return c.Internal.VerifiedReceipts.getVerifiedPurchases(this.verifiedReceipts)}findInVerifiedReceipts(U){return c.Internal.VerifiedReceipts.find(this.verifiedReceipts,U)}findInLocalReceipts(U){return c.Internal.LocalReceipts.find(this.localReceipts,U)}canPurchase(U){const W=U instanceof c.Offer?this.get(U.productId,U.platform):U,V=this.adapters.findReady(U.platform);return!(null==V||!V.checkSupport("order"))&&c.Internal.LocalReceipts.canPurchase(this.localReceipts,W)}owned(U){return c.Internal.owned({product:"string"==typeof U?{id:U}:U,verifiedReceipts:this.validator?this.verifiedReceipts:void 0,localReceipts:this.localReceipts})}order(U,W){return lt(this,void 0,void 0,function*(){this.log.info(`order(${U.productId})`);const V=this.adapters.findReady(U.platform);if(!V)return c.storeError(c.ErrorCode.PAYMENT_NOT_ALLOWED,"Adapter not found or not ready ("+U.platform+")",U.platform,null);const O=yield V.order(U,W||{});return O&&"isError"in O&&c.store.triggerError(O),O})}requestPayment(U,W){var V,O,N,M,_;const A=this.adapters.findReady(U.platform);if(!A)return c.PaymentRequestPromise.failed(c.ErrorCode.PAYMENT_NOT_ALLOWED,"Adapter not found or not ready ("+U.platform+")",U.platform,null);if(!U.amountMicros){U.amountMicros=0;for(const P of U.items)U.amountMicros+=null!==(O=null===(V=null==P?void 0:P.pricing)||void 0===V?void 0:V.priceMicros)&&void 0!==O?O:0}if(U.currency)for(const P of U.items)if(null!==(M=null==P?void 0:P.pricing)&&void 0!==M&&M.currency){if(U.currency!==P.pricing.currency)return c.PaymentRequestPromise.failed(c.ErrorCode.PAYMENT_INVALID,"Currencies do not match",U.platform,P.id)}else null!=P&&P.pricing&&(P.pricing.currency=U.currency);else for(const P of U.items)null!==(N=null==P?void 0:P.pricing)&&void 0!==N&&N.currency&&(U.currency=P.pricing.currency);if(1===U.items.length){const P=U.items[0];P&&!P.pricing&&(P.pricing={priceMicros:null!==(_=U.amountMicros)&&void 0!==_?_:0,currency:U.currency})}const S=new c.PaymentRequestPromise;return A.requestPayment(U,W).then(P=>{if(S.trigger(P),P instanceof c.Transaction){const X=this.monitor(P,be=>{S.trigger(P),P.state===c.TransactionState.FINISHED&&X.stop()},"requestPayment_onStateChange")}}),S}checkSupport(U,W){const V=this.adapters.find(U);return!!V&&V.checkSupport(W)}verify(U){return lt(this,void 0,void 0,function*(){this.log.info(`verify(${U.className})`),this._validator.add(U),setTimeout(()=>this._validator.run(),200)})}finish(U){return lt(this,void 0,void 0,function*(){this.log.info(`finish(${U.className})`),(U instanceof c.VerifiedReceipt?U.sourceReceipt.transactions:U instanceof c.Receipt?U.transactions:[U]).forEach(V=>{var O;null===(O=this.adapters.findReady(V.platform))||void 0===O||O.finish(V)})})}restorePurchases(){return lt(this,void 0,void 0,function*(){let U;for(const W of this.adapters.list)W.ready&&(U=null!=U?U:yield W.restorePurchases());return U})}manageSubscriptions(U){return lt(this,void 0,void 0,function*(){this.log.info("manageSubscriptions()");const W=this.adapters.findReady(U);return W?W.manageSubscriptions():c.storeError(c.ErrorCode.SETUP,"Found no adapter ready to handle 'manageSubscription'",null!=U?U:null,null)})}manageBilling(U){return lt(this,void 0,void 0,function*(){this.log.info("manageBilling()");const W=this.adapters.findReady(U);return W?W.manageBilling():c.storeError(c.ErrorCode.SETUP,"Found no adapter ready to handle 'manageBilling'",null!=U?U:null,null)})}defaultPlatform(){switch(window.cordova.platformId){case"android":return c.Platform.GOOGLE_PLAY;case"ios":return c.Platform.APPLE_APPSTORE;default:return c.Platform.TEST}}error(U){this.errorCallbacks.push(U)}triggerError(U){this.errorCallbacks.trigger(U,"triggerError")}}}(C||(C={})),window.cordova?setTimeout(rt,0):rt(),function(c){let d;var _;let Y,U,W,V,O,N,M;(_=d=c.ProductType||(c.ProductType={})).CONSUMABLE="consumable",_.NON_CONSUMABLE="non consumable",_.FREE_SUBSCRIPTION="free subscription",_.PAID_SUBSCRIPTION="paid subscription",_.NON_RENEWING_SUBSCRIPTION="non renewing subscription",_.APPLICATION="application",function(_){_.NON_RECURRING="NON_RECURRING",_.FINITE_RECURRING="FINITE_RECURRING",_.INFINITE_RECURRING="INFINITE_RECURRING"}(Y=c.RecurrenceMode||(c.RecurrenceMode={})),function(_){_.PAY_AS_YOU_GO="PayAsYouGo",_.UP_FRONT="UpFront",_.FREE_TRIAL="FreeTrial"}(U=c.PaymentMode||(c.PaymentMode={})),function(_){_.APPLE_APPSTORE="ios-appstore",_.GOOGLE_PLAY="android-playstore",_.WINDOWS_STORE="windows-store-transaction",_.BRAINTREE="braintree",_.TEST="test"}(W=c.Platform||(c.Platform={})),function(_){_.INITIATED="initiated",_.PENDING="pending",_.APPROVED="approved",_.CANCELLED="cancelled",_.FINISHED="finished",_.UNKNOWN_STATE=""}(V=c.TransactionState||(c.TransactionState={})),function(_){_.LAPSE="Lapse",_.RENEW="Renew"}(O=c.RenewalIntent||(c.RenewalIntent={})),function(_){_.NOTIFIED="Notified",_.AGREED="Agreed"}(N=c.PriceConsentStatus||(c.PriceConsentStatus={})),function(_){_.NOT_CANCELED="",_.DEVELOPER="Developer",_.SYSTEM="System",_.SYSTEM_REPLACED="System.Replaced",_.SYSTEM_PRODUCT_UNAVAILABLE="System.ProductUnavailable",_.SYSTEM_BILLING_ERROR="System.BillingError",_.SYSTEM_DELETED="System.Deleted",_.CUSTOMER="Customer",_.CUSTOMER_TECHNICAL_ISSUES="Customer.TechnicalIssues",_.CUSTOMER_PRICE_INCREASE="Customer.PriceIncrease",_.CUSTOMER_COST="Customer.Cost",_.CUSTOMER_FOUND_BETTER_APP="Customer.FoundBetterApp",_.CUSTOMER_NOT_USEFUL_ENOUGH="Customer.NotUsefulEnough",_.CUSTOMER_OTHER_REASON="Customer.OtherReason",_.UNKNOWN="Unknown"}(M=c.CancelationReason||(c.CancelationReason={}))}(C||(C={})),function(c){c.Offer=class d{constructor(U,W){this.className="Offer",this.id=U.id,this.pricingPhases=U.pricingPhases,Object.defineProperty(this,"productId",{enumerable:!0,get:()=>U.product.id}),Object.defineProperty(this,"productType",{enumerable:!0,get:()=>U.product.type}),Object.defineProperty(this,"productGroup",{enumerable:!0,get:()=>U.product.group}),Object.defineProperty(this,"platform",{enumerable:!0,get:()=>U.product.platform}),Object.defineProperty(this,"order",{enumerable:!1,get:()=>V=>W.order(this,V)}),Object.defineProperty(this,"canPurchase",{enumerable:!1,get:()=>W.canPurchase(this)})}get productId(){return""}get productType(){return c.ProductType.APPLICATION}get productGroup(){}get platform(){return c.Platform.TEST}order(U){return lt(this,void 0,void 0,function*(){})}get canPurchase(){return!1}}}(C||(C={})),function(c){class d{constructor(){this.failedCallbacks=new c.Internal.PromiseLike,this.initiatedCallbacks=new c.Internal.PromiseLike,this.approvedCallbacks=new c.Internal.PromiseLike,this.finishedCallbacks=new c.Internal.PromiseLike,this.cancelledCallback=new c.Internal.PromiseLike}failed(U){return this.failedCallbacks.push(U),this}initiated(U){return this.initiatedCallbacks.push(U),this}approved(U){return this.approvedCallbacks.push(U),this}finished(U){return this.finishedCallbacks.push(U),this}cancelled(U){return this.cancelledCallback.push(U),this}trigger(U){if(U)if("isError"in U)this.failedCallbacks.resolve(U);else switch(U.state){case c.TransactionState.INITIATED:this.initiatedCallbacks.resolve(U);break;case c.TransactionState.APPROVED:this.approvedCallbacks.resolve(U);break;case c.TransactionState.FINISHED:this.finishedCallbacks.resolve(U)}else this.cancelledCallback.resolve();return this}static failed(U,W,V,O){return(new d).trigger(c.storeError(U,W,V,O))}static cancelled(){return(new d).trigger()}static initiated(U){return(new d).trigger(U)}}c.PaymentRequestPromise=d}(C||(C={})),function(c){c.Receipt=class d{constructor(U,W){this.className="Receipt",this.transactions=[],this.platform=U,Object.defineProperty(this,"verify",{enumerable:!1,get(){return()=>W.verify(this)}}),Object.defineProperty(this,"finish",{enumerable:!1,get(){return()=>W.finish(this)}})}verify(){return lt(this,void 0,void 0,function*(){})}finish(){return lt(this,void 0,void 0,function*(){})}hasTransaction(U){return!!this.transactions.find(W=>W===U)}lastTransaction(){return this.transactions[this.transactions.length-1]}}}(C||(C={})),function(c){c.Transaction=class d{constructor(U,W,V){this.className="Transaction",this.transactionId="",this.state=c.TransactionState.UNKNOWN_STATE,this.products=[],this.platform=U,Object.defineProperty(this,"finish",{enumerable:!1,get(){return()=>V.finish(this)}}),Object.defineProperty(this,"verify",{enumerable:!1,get(){return()=>V.verify(this)}}),Object.defineProperty(this,"parentReceipt",{enumerable:!1,get:()=>W})}finish(){return lt(this,void 0,void 0,function*(){})}verify(){return lt(this,void 0,void 0,function*(){})}get parentReceipt(){return{}}}}(C||(C={})),function(c){let d;!function(Y){class U{static find(V,O){var N,M;if(!O)return;let _;for(const A of V)if(!O.platform||A.platform===O.platform)for(const S of A.transactions)for(const P of S.products)P.id===O.id&&(!_||(null!==(N=S.purchaseDate)&&void 0!==N?N:0)<(null!==(M=_.purchaseDate)&&void 0!==M?M:1))&&(_=S);return _}static isOwned(V,O){if(!O)return!1;const N=U.find(V,O);return!(!N||N.isConsumed||N.isPending)&&(!N.expirationDate||N.expirationDate.getTime()>+new Date)}static canPurchase(V,O){if(!O)return!1;const N=U.find(V,O);return!(N&&!N.isConsumed)||!N.expirationDate||N.expirationDate.getTime()<=+new Date}}Y.LocalReceipts=U}(d=c.Internal||(c.Internal={}))}(C||(C={})),function(c){let d;var Y;(Y=d=c.Internal||(c.Internal={})).owned=function U(W){return void 0!==W.verifiedReceipts?Y.VerifiedReceipts.isOwned(W.verifiedReceipts,W.product):void 0!==W.localReceipts&&Y.LocalReceipts.isOwned(W.localReceipts,W.product)}}(C||(C={})),function(c){let d;(d=c.Internal||(c.Internal={})).PromiseLike=class U{constructor(){this.resolved=!1,this.callbacks=[]}push(V){this.resolved?setTimeout(V,0,this.resolvedArgument):this.callbacks.push(V)}resolve(V){this.resolved||(this.resolved=!0,this.resolvedArgument=V,this.callbacks.forEach(O=>setTimeout(O,0,V)),this.callbacks=[])}}}(C||(C={})),function(c){let d;(d=c.Internal||(c.Internal={})).Retry=class U{constructor(V=5e3,O=12e4){this.maxTimeout=12e4,this.minTimeout=5e3,this.retryTimeout=5e3,this.retries=[],this.minTimeout=V,this.maxTimeout=O,this.retryTimeout=V,document.addEventListener("online",()=>{const N=this.retries;this.retries=[],this.retryTimeout=this.minTimeout;for(var M=0;M<N.length;++M)clearTimeout(N[M].tid),N[M].fn.call(this)},!1)}retry(V){var O=setTimeout(()=>{this.retries=this.retries.filter(function(N){return O!==N.tid}),V()},this.retryTimeout);this.retries.push({tid:O,fn:V}),this.retryTimeout*=2,this.retryTimeout>this.maxTimeout&&(this.retryTimeout=this.maxTimeout)}}}(C||(C={})),function(c){let d;!function(Y){class U{static find(V,O){var N,M;if(!O)return;let _;for(const A of V)if(!O.platform||A.platform===O.platform)for(const S of A.collection)S.id===O.id&&(null!==(N=null==_?void 0:_.purchaseDate)&&void 0!==N?N:0)<(null!==(M=S.purchaseDate)&&void 0!==M?M:1)&&(_=S);return _}static isOwned(V,O){if(!O)return!1;const N=U.find(V,O);return!(!N||null!=N&&N.isExpired)&&(null==N||!N.expiryDate||N.expiryDate>+new Date)}static getVerifiedPurchases(V){var O,N,M,_;const A={};for(const S of V)for(const P of S.collection){const H=S.platform+":"+P.id,X=A[H];(!X||X&&(null!==(N=null!==(O=X.lastRenewalDate)&&void 0!==O?O:X.purchaseDate)&&void 0!==N?N:0)<(null!==(_=null!==(M=P.lastRenewalDate)&&void 0!==M?M:P.purchaseDate)&&void 0!==_?_:0))&&(A[H]=Object.assign(Object.assign({},P),{platform:S.platform}))}return Object.keys(A).map(S=>A[S])}}Y.VerifiedReceipts=U}(d=c.Internal||(c.Internal={}))}(C||(C={})),function(c){let d;!function(Y){let U;var O;let W,V;(O=U=Y.ContactField||(Y.ContactField={})).Name="name",O.EmailAddress="emailAddress",O.PhoneNumber="phoneNumber",O.PostalAddress="postalAddress",O.PhoneticName="phoneticName",function(O){O.Amex="Amex",O.Barcode="Barcode",O.CartesBancaires="CartesBancaires",O.ChinaUnionPay="ChinaUnionPay",O.Dankort="Dankort",O.Discover="Discover",O.Eftpos="Eftpos",O.Electron="Electron",O.Elo="Elo",O.Girocard="Girocard",O.IDCredit="IDCredit",O.Interac="Interac",O.JCB="JCB",O.Mada="Mada",O.Maestro="Maestro",O.MasterCard="MasterCard",O.Mir="Mir",O.Nanaco="Nanaco",O.PrivateLabel="PrivateLabel",O.QuicPay="QuicPay",O.Suica="Suica",O.Visa="Visa",O.VPay="VPay",O.Waon="Waon"}(W=Y.PaymentNetwork||(Y.PaymentNetwork={})),function(O){O.ThreeDS="3DS",O.EMV="EMV",O.Credit="Credit",O.Debit="Debit"}(V=Y.MerchantCapability||(Y.MerchantCapability={}))}(d=c.ApplePay||(c.ApplePay={}))}(C||(C={})),function(c){let d;!function(Y){function U(O){return`virtual.${O}`}function V(O,N,M){return c.storeError(O,N,c.Platform.APPLE_APPSTORE,M)}Y.Adapter=class W{constructor(N,M){var _,A;this.id=c.Platform.APPLE_APPSTORE,this.name="AppStore",this.ready=!1,this._canMakePayments=!1,this.forceReceiptReload=!1,this._products=[],this.validProducts={},this._paymentMonitor=()=>{},this.supportsParallelLoading=!0,this._appStoreReceiptLoading=!1,this._appStoreReceiptCallbacks=[],this.context=N,this.bridge=new Y.Bridge.Bridge,this.log=N.log.child("AppleAppStore"),this.discountEligibilityDeterminer=M.discountEligibilityDeterminer,this.needAppReceipt=null===(_=M.needAppReceipt)||void 0===_||_,this.autoFinish=null!==(A=M.autoFinish)&&void 0!==A&&A,this.pseudoReceipt=new c.Receipt(c.Platform.APPLE_APPSTORE,this.context.apiDecorators),this.receiptsUpdated=c.Utils.debounce(()=>{this._receiptsUpdated()},300)}get products(){return this._products}getProduct(N){return this._products.find(M=>M.id===N)}get receipts(){return this.isSupported?(this._receipt?[this._receipt]:[]).concat(this.pseudoReceipt?this.pseudoReceipt:[]):[]}addValidProducts(N,M){M.forEach(_=>{const A=N.find(S=>S.id===_.id);A&&(this.validProducts[_.id]=Object.assign(Object.assign({},_),A))})}get isSupported(){return"ios"===window.cordova.platformId}upsertTransactionInProgress(N,M){const _=U(N);return new Promise(A=>{const S=this.pseudoReceipt.transactions.find(P=>P.transactionId===_);if(S)S.state=M,S.refresh(N),A(S);else{const P=new Y.SKTransaction(c.Platform.APPLE_APPSTORE,this.pseudoReceipt,this.context.apiDecorators);P.state=M,P.transactionId=_,P.refresh(N),this.pseudoReceipt.transactions.push(P),A(P)}})}removeTransactionInProgress(N){const M=U(N);this.pseudoReceipt.transactions=this.pseudoReceipt.transactions.filter(_=>_.transactionId!==M)}upsertTransaction(N,M,_){return lt(this,void 0,void 0,function*(){return new Promise(A=>{this.initializeAppReceipt(()=>{var S;if(!this._receipt)return void this.log.warn("Failed to load the application receipt, cannot proceed with handling the purchase");const P=null===(S=this._receipt)||void 0===S?void 0:S.transactions.find(H=>H.transactionId===M);if(P)P.state=_,P.refresh(N),A(P);else{const H=new Y.SKTransaction(c.Platform.APPLE_APPSTORE,this._receipt,this.context.apiDecorators);H.state=_,H.transactionId=M,H.refresh(N),this._receipt.transactions.push(H),A(H)}})})})}removeTransaction(N){this._receipt&&(this._receipt.transactions=this._receipt.transactions.filter(M=>M.transactionId!==N))}_receiptsUpdated(){this._receipt?(this.log.debug("receipt updated and ready."),this.context.listener.receiptsUpdated(c.Platform.APPLE_APPSTORE,[this._receipt,this.pseudoReceipt]),this.context.listener.receiptsReady(c.Platform.APPLE_APPSTORE)):(this.log.debug("receipt updated."),this.context.listener.receiptsUpdated(c.Platform.APPLE_APPSTORE,[this.pseudoReceipt]))}setPaymentMonitor(N){this._paymentMonitor=N}callPaymentMonitor(N,M,_){this._paymentMonitor(N)}initialize(){return new Promise(N=>{this.log.info("bridge.init");const M=this.log.child("Bridge");this.bridge.init({autoFinish:this.autoFinish,debug:this.context.verbosity===c.LogLevel.DEBUG,log:_=>M.debug(_),error:(_,A,S)=>{this.log.error("ERROR: "+_+" - "+A),_!==c.ErrorCode.PAYMENT_CANCELLED?this.context.error(V(_,A,(null==S?void 0:S.productId)||null)):this.callPaymentMonitor("cancelled",c.ErrorCode.PAYMENT_CANCELLED,A)},ready:()=>{this.log.info("ready")},purchased:(_,A,S,P,H)=>lt(this,void 0,void 0,function*(){this.log.info("purchase: id:"+_+" product:"+A+" originalTransaction:"+S+" - date:"+P+" - discount:"+H),(yield this.upsertTransaction(A,_,c.TransactionState.APPROVED)).refresh(A,S,P,H),this.removeTransactionInProgress(A),this.receiptsUpdated(),this.callPaymentMonitor("purchased")}),purchaseEnqueued:(_,A)=>lt(this,void 0,void 0,function*(){this.log.info("purchaseEnqueued: "+_+" - "+A),yield this.upsertTransactionInProgress(_,c.TransactionState.INITIATED),this.context.listener.receiptsUpdated(c.Platform.APPLE_APPSTORE,[this.pseudoReceipt])}),purchaseFailed:(_,A,S)=>{this.log.info("purchaseFailed: "+_+" - "+A+" - "+S),this.removeTransactionInProgress(_),this.context.listener.receiptsUpdated(c.Platform.APPLE_APPSTORE,[this.pseudoReceipt]),this.callPaymentMonitor("failed",A,S)},purchasing:_=>lt(this,void 0,void 0,function*(){this.log.info("purchasing: "+_),yield this.upsertTransactionInProgress(_,c.TransactionState.INITIATED),this.context.listener.receiptsUpdated(c.Platform.APPLE_APPSTORE,[this.pseudoReceipt])}),deferred:_=>lt(this,void 0,void 0,function*(){this.log.info("deferred: "+_),yield this.upsertTransactionInProgress(_,c.TransactionState.PENDING),this.context.listener.receiptsUpdated(c.Platform.APPLE_APPSTORE,[this.pseudoReceipt]),this.callPaymentMonitor("deferred")}),finished:(_,A)=>lt(this,void 0,void 0,function*(){this.log.info("finish: "+_+" - "+A),this.removeTransactionInProgress(A),yield this.upsertTransaction(A,_,c.TransactionState.FINISHED),this.receiptsUpdated()}),restored:(_,A)=>lt(this,void 0,void 0,function*(){this.log.info("restore: "+_+" - "+A),yield this.upsertTransaction(A,_,c.TransactionState.APPROVED),this.receiptsUpdated()}),receiptsRefreshed:_=>{this.log.info("receiptsRefreshed"),this._receipt&&this._receipt.refresh(_,this.needAppReceipt,this.context.apiDecorators)},restoreFailed:_=>{this.log.info("restoreFailed: "+_),this.onRestoreCompleted&&(this.onRestoreCompleted(V(_,"Restore purchases failed",null)),this.onRestoreCompleted=void 0)},restoreCompleted:()=>{this.log.info("restoreCompleted"),this.onRestoreCompleted&&(this.onRestoreCompleted(void 0),this.onRestoreCompleted=void 0)}},()=>lt(this,void 0,void 0,function*(){this.log.info("bridge.init done"),yield this.canMakePayments(),N(void 0)}),(_,A)=>{this.log.info("bridge.init failed: "+_+" - "+A),N(V(_,A,null))})})}loadReceipts(){return new Promise(N=>{setTimeout(()=>{this.initializeAppReceipt(()=>{this.receiptsUpdated(),N(this._receipt?[this._receipt,this.pseudoReceipt]:[this.pseudoReceipt])})},300)})}canMakePayments(){return lt(this,void 0,void 0,function*(){return new Promise(N=>{this.bridge.canMakePayments(()=>{this._canMakePayments=!0,N(!0)},M=>{this.log.warn(`canMakePayments: ${M}`),this._canMakePayments=!1,N(!1)})})})}initializeAppReceipt(N){return lt(this,void 0,void 0,function*(){if(this._receipt)return this.log.debug("initializeAppReceipt() => already initialized."),N(void 0);if(this._appStoreReceiptCallbacks.push(N),this._appStoreReceiptLoading)return void this.log.debug("initializeAppReceipt() => already loading.");this._appStoreReceiptLoading=!0;const M=yield this.loadAppStoreReceipt(),_=A=>{const S=this._appStoreReceiptCallbacks;this._appStoreReceiptCallbacks=[],S.forEach(P=>{P(A)})};if(null==M||!M.appStoreReceipt)return this.log.warn("no appStoreReceipt"),this._appStoreReceiptLoading=!1,void _(V(c.ErrorCode.REFRESH,"No appStoreReceipt",null));this._receipt=new Y.SKApplicationReceipt(M,this.needAppReceipt,this.context.apiDecorators),_(void 0)})}prepareReceipt(N){null!=N&&N.appStoreReceipt&&(this._receipt?this._receipt.refresh(N,this.needAppReceipt,this.context.apiDecorators):this._receipt=new Y.SKApplicationReceipt(N,this.needAppReceipt,this.context.apiDecorators))}loadAppStoreReceipt(){return lt(this,void 0,void 0,function*(){let N=!1;return new Promise(M=>{var _;if(null!==(_=this.bridge.appStoreReceipt)&&void 0!==_&&_.appStoreReceipt&&!this.forceReceiptReload)return this.log.debug("using cached appstore receipt"),M(this.bridge.appStoreReceipt);this.log.debug("loading appstore receipt..."),this.forceReceiptReload=!1,this.bridge.loadReceipts(A=>{this.log.debug("appstore receipt loaded"),N||M(A),N=!0},(A,S)=>{this.log.warn("Failed to load appStoreReceipt: "+A+" - "+S),N||M(void 0),N=!0}),setTimeout(function(){N||M(void 0),N=!0},5e3)}).then(M=>(this.context.listener.receiptsReady(c.Platform.APPLE_APPSTORE),M)).catch(M=>(this.context.listener.receiptsReady(c.Platform.APPLE_APPSTORE),M))})}loadEligibility(N){return lt(this,void 0,void 0,function*(){if(this.log.debug("load eligibility: "+JSON.stringify(N)),!this.discountEligibilityDeterminer)return this.log.debug("No discount eligibility determiner, skipping..."),new Y.Internal.DiscountEligibilities([],[]);const M=[];if(N.forEach(_=>{var A,S,P;null===(A=_.discounts)||void 0===A||A.forEach(H=>{M.push({productId:_.id,discountId:H.id,discountType:H.type})}),0===(null!==(P=null===(S=_.discounts)||void 0===S?void 0:S.length)&&void 0!==P?P:0)&&_.introPrice&&M.push({productId:_.id,discountId:"intro",discountType:"Introductory"})}),M.length>0){const _=yield this.loadAppStoreReceipt();if(!_||!_.appStoreReceipt)return this.log.debug("no receipt, assuming introductory price are available."),new Y.Internal.DiscountEligibilities(M,M.map(A=>"Introductory"===A.discountType));{this.log.debug("calling discount eligibility determiner.");const A=yield this.callDiscountEligibilityDeterminer(_,M);return this.log.debug("response: "+JSON.stringify(A)),new Y.Internal.DiscountEligibilities(M,A)}}return new Y.Internal.DiscountEligibilities([],[])})}callDiscountEligibilityDeterminer(N,M){return new Promise(_=>{if(!this.discountEligibilityDeterminer)return _([]);this.discountEligibilityDeterminer(N,M,_)})}loadProducts(N){return new Promise(M=>{this.log.info("bridge.load"),this.bridge.load(N.map(_=>_.id),(_,A)=>lt(this,void 0,void 0,function*(){this.log.info("bridge.loaded: "+JSON.stringify({validProducts:_,invalidProducts:A})),this.addValidProducts(N,_);const S=yield this.loadEligibility(_);this.log.info("eligibilities ready: "+JSON.stringify(S));const P=N.map(H=>{if(A.indexOf(H.id)>=0)return this.log.debug(`${H.id} is invalid`),V(c.ErrorCode.INVALID_PRODUCT_ID,"Product not found in AppStore. #400",H.id);{const X=_.find(pe=>pe.id===H.id);if(this.log.debug(`${H.id} is valid: ${JSON.stringify(X)}`),!X)return V(c.ErrorCode.INVALID_PRODUCT_ID,"Product not found in AppStore. #404",H.id);let be=this.getProduct(H.id);return be?(this.log.debug("refreshing existing product"),null==be||be.refresh(X,this.context.apiDecorators,S)):(this.log.debug("registering new product"),be=new Y.SKProduct(X,H,this.context.apiDecorators,S),this._products.push(be)),be}});this.log.debug(`Products loaded: ${JSON.stringify(P)}`),M(P)}),(_,A)=>N.map(S=>V(_,A,null)))})}order(N,M){return lt(this,void 0,void 0,function*(){let _=!1;return new Promise(A=>{var S;const P=se=>{_||(this.setPaymentMonitor(()=>{}),_=!0,A(se))};this.log.info("order");const H=N.id!==Y.DEFAULT_OFFER_ID?N.id:void 0,X=null===(S=null==M?void 0:M.appStore)||void 0===S?void 0:S.discount;return H&&!X?P(V(c.ErrorCode.MISSING_OFFER_PARAMS,"Missing additionalData.appStore.discount when ordering a discount offer",N.productId)):H&&(null==X?void 0:X.id)!==H?P(V(c.ErrorCode.INVALID_OFFER_IDENTIFIER,"Offer identifier does not match additionalData.appStore.discount.id",N.productId)):(this.setPaymentMonitor((se,Me,we)=>{if(this.log.info("order.paymentMonitor => "+se+" "+(null!=Me?Me:"")+" "+(null!=we?we:"")),!_)switch(se){case"cancelled":P(V(null!=Me?Me:c.ErrorCode.PAYMENT_CANCELLED,null!=we?we:"The user cancelled the order.",N.productId));break;case"failed":setTimeout(()=>{P(V(null!=Me?Me:c.ErrorCode.PURCHASE,null!=we?we:"Purchase failed",N.productId))},500);break;case"purchased":case"deferred":P(void 0)}}),this.forceReceiptReload=!0,void this.bridge.purchase(N.productId,1,this.context.getApplicationUsername(),X,()=>{this.log.info("order.success")},()=>{this.log.info("order.error"),P(V(c.ErrorCode.PURCHASE,"Failed to place order",N.productId))}))})})}finish(N){return new Promise(M=>{if(this.log.info("finish("+N.transactionId+")"),N.transactionId===Y.APPLICATION_VIRTUAL_TRANSACTION_ID||N.transactionId===U(N.products[0].id))return N.state=c.TransactionState.FINISHED,this.context.listener.receiptsUpdated(c.Platform.APPLE_APPSTORE,[N.parentReceipt]),M(void 0);const _=()=>{N.state=c.TransactionState.FINISHED,this.context.listener.receiptsUpdated(c.Platform.APPLE_APPSTORE,[N.parentReceipt]),M(void 0)};this.bridge.finish(N.transactionId,_,S=>{var P,H;null!=S&&S.includes("[#CdvPurchase:100]")?_():M(V(c.ErrorCode.FINISH,"Failed to finish transaction",null!==(H=null===(P=N.products[0])||void 0===P?void 0:P.id)&&void 0!==H?H:null))})})}refreshReceipt(){return new Promise(N=>{this.bridge.refreshReceipts(A=>{N(A)},(A,S)=>{N(V(A,S,null))})})}receiptValidationBody(N){return lt(this,void 0,void 0,function*(){if(N.platform!==c.Platform.APPLE_APPSTORE||N!==this._receipt)return;const M=N;let _=M.nativeData;if(this.forceReceiptReload){const S=yield this.loadAppStoreReceipt();this.forceReceiptReload=!1,S&&(_=S,this.prepareReceipt(S))}if(!M.nativeData.appStoreReceipt){this.log.info("Cannot prepare the receipt validation body, because appStoreReceipt is missing. Refreshing...");const S=yield this.refreshReceipt();if(!S||"isError"in S)return this.log.warn("Failed to refresh receipt, cannot run receipt validation."),void(S&&this.log.error(S));this.log.info("Receipt refreshed."),_=S}const A=M.transactions.slice(-1)[0];return{id:_.bundleIdentifier,type:c.ProductType.APPLICATION,products:c.Utils.objectValues(this.validProducts).map(S=>new Y.SKProduct(S,S,this.context.apiDecorators,{isEligible:()=>!0})),transaction:{type:"ios-appstore",id:null==A?void 0:A.transactionId,appStoreReceipt:_.appStoreReceipt}}})}handleReceiptValidationResponse(N,M){var _,A;return lt(this,void 0,void 0,function*(){let S=!1;if(M.ok){const P=null===(_=M.data)||void 0===_?void 0:_.transaction;"ios-appstore"===(null==P?void 0:P.type)&&"original_application_version"in P&&(null===(A=this._receipt)||void 0===A||A.transactions.forEach(H=>{H.transactionId===Y.APPLICATION_VIRTUAL_TRANSACTION_ID&&P.original_purchase_date_ms&&(H.purchaseDate=new Date(parseInt(P.original_purchase_date_ms)),S=!0)}))}S&&this.context.listener.receiptsUpdated(c.Platform.APPLE_APPSTORE,[N])})}requestPayment(N,M){return lt(this,void 0,void 0,function*(){return V(c.ErrorCode.UNKNOWN,"requestPayment not supported",null)})}manageSubscriptions(){return lt(this,void 0,void 0,function*(){this.bridge.manageSubscriptions()})}manageBilling(){return lt(this,void 0,void 0,function*(){this.bridge.manageBilling()})}checkSupport(N){return"order"===N?this._canMakePayments:["order","manageBilling","manageSubscriptions"].indexOf(N)>=0}restorePurchases(){return new Promise(N=>{this.onRestoreCompleted=M=>{this.onRestoreCompleted=void 0,this.bridge.refreshReceipts(_=>{N(M)},(_,A)=>{N(M||V(_,A,null))})},this.forceReceiptReload=!0,this.bridge.restore()})}presentCodeRedemptionSheet(){return new Promise(N=>{this.bridge.presentCodeRedemptionSheet(N)})}}}(d=c.AppleAppStore||(c.AppleAppStore={}))}(C||(C={})),function(c){let d;!function(Y){let U;!function(W){const V=A=>{};let O=V;function N(A,S,P,H){window.cordova.exec(P,H,"InAppPurchase",A,S)}function M(A,S,...P){if(A)try{A.apply(this,P)}catch(H){O("exception in "+S+': "'+H+'"')}}W.Bridge=class _{constructor(){this.transactionsForProduct={},this.initialized=!1,this.registeredProducts=[],this.needRestoreNotification=!1,this.pendingUpdates=[],this.onPurchased=!1,this.onFailed=!1,this.onRestored=!1,window.storekit=this,this.options={error:V,ready:V,purchased:V,purchaseEnqueued:V,purchasing:V,purchaseFailed:V,deferred:V,finished:V,restored:V,receiptsRefreshed:V,restoreFailed:V,restoreCompleted:V}}init(S,P,H){this.options={error:S.error||V,ready:S.ready||V,purchased:S.purchased||V,purchaseEnqueued:S.purchaseEnqueued||V,purchasing:S.purchasing||V,purchaseFailed:S.purchaseFailed||V,deferred:S.deferred||V,finished:S.finished||V,restored:S.restored||V,receiptsRefreshed:S.receiptsRefreshed||V,restoreFailed:S.restoreFailed||V,restoreCompleted:S.restoreCompleted||V},S.debug&&(N("debug",[],V,V),O=S.log||function(pe){console.log("[CdvPurchase.AppAppStore.Bridge] "+pe)}),S.autoFinish&&N("autoFinish",[],V,V),N("setup",[],()=>{O("setup ok"),M(this.options.ready,"options.ready"),M(P,"init.success"),this.initialized=!0,setTimeout(()=>this.processPendingTransactions(),50)},pe=>{O("setup failed"),M(H,"init.error",c.ErrorCode.SETUP,"Setup failed: "+pe)})}processPendingTransactions(){O("processing pending transactions"),N("processPendingTransactions",[],()=>{this.finalizeTransactionUpdates()},void 0)}purchase(S,P,H,X,be,pe){P=0|P||1;const se=this.options;if(this.registeredProducts.indexOf(S)<0)return O("Purchasing "+S+" failed.  Ensure the product was loaded first with Bridge.load(...)!"),void("function"==typeof se.error&&M(se.error,"options.error",c.ErrorCode.PURCHASE,"Trying to purchase a unknown product.",{productId:S,quantity:P}));N("purchase",[S,P,H,X||{}],()=>{O("Purchase enqueued "+S),"function"==typeof se.purchaseEnqueued&&M(se.purchaseEnqueued,"options.purchaseEnqueued",S,P),M(be,"purchase.success")},()=>{const ne="Purchase failed: "+S;O(ne),"function"==typeof se.error&&M(se.error,"options.error",c.ErrorCode.PURCHASE,ne,{productId:S,quantity:P}),M(pe,"purchase.error")})}canMakePayments(S,P){return N("canMakePayments",[],S,P)}restore(S){this.needRestoreNotification=!0,N("restoreCompletedTransactions",[],S,S)}manageSubscriptions(S){N("manageSubscriptions",[],S,S)}manageBilling(S){N("manageBilling",[],S,S)}presentCodeRedemptionSheet(S){N("presentCodeRedemptionSheet",[],S,S)}load(S,P,H){const X=this.options;if("string"==typeof S&&(S=[S]),S)if(S.length){if("string"!=typeof S[0]){const se="invalid productIds given to store.load: "+JSON.stringify(S);return O(se),M(X.error,"options.error",c.ErrorCode.LOAD,se),void M(H,"load.error",c.ErrorCode.LOAD,se)}O("load "+JSON.stringify(S));const be=se=>{const Me=se[0],we=se[1];O("load ok: { valid:"+JSON.stringify(Me)+" invalid:"+JSON.stringify(we)+" }"),M(P,"load.success",Me,we)},pe=se=>{O("load failed"),O(se);const Me="Load failed: "+se;M(X.error,"options.error",c.ErrorCode.LOAD,Me),M(H,"load.error",c.ErrorCode.LOAD,Me)};this.registeredProducts=this.registeredProducts.concat(S),N("load",[S],be,pe)}else M(P,"load.success",[],[]);else M(P,"load.success",[],[])}finish(S,P,H){N("finishTransaction",[S],P,H)}finalizeTransactionUpdates(){for(let S=0;S<this.pendingUpdates.length;++S){const P=this.pendingUpdates[S];this.transactionUpdated(P.state,P.errorCode,P.errorText,P.transactionIdentifier,P.productId,P.transactionReceipt,P.originalTransactionIdentifier,P.transactionDate,P.discountId)}this.pendingUpdates=[]}lastTransactionUpdated(){}transactionUpdated(S,P,H,X,be,pe,se,Me,we){if(this.initialized)switch(O("transaction updated:"+X+" state:"+S+" product:"+be),be&&X&&(this.transactionsForProduct[be]?this.transactionsForProduct[be].push(X):this.transactionsForProduct[be]=[X]),S){case"PaymentTransactionStatePurchasing":return void M(this.options.purchasing,"options.purchasing",be);case"PaymentTransactionStatePurchased":return void M(this.options.purchased,"options.purchase",X,be,se,Me,we);case"PaymentTransactionStateDeferred":return void M(this.options.deferred,"options.deferred",be);case"PaymentTransactionStateFailed":return M(this.options.purchaseFailed,"options.purchaseFailed",be,P||c.ErrorCode.UNKNOWN,H||"ERROR"),void M(this.options.error,"options.error",P||c.ErrorCode.UNKNOWN,H||"ERROR",{productId:be});case"PaymentTransactionStateRestored":return void M(this.options.restored,"options.restore",X,be);case"PaymentTransactionStateFinished":return void M(this.options.finished,"options.finish",X,be)}else this.pendingUpdates.push({state:S,errorCode:P,errorText:H,transactionIdentifier:X,productId:be,transactionReceipt:pe,originalTransactionIdentifier:se,transactionDate:Me,discountId:we})}restoreCompletedTransactionsFinished(){this.needRestoreNotification&&(this.needRestoreNotification=!1,M(this.options.restoreCompleted,"options.restoreCompleted"))}restoreCompletedTransactionsFailed(S){this.needRestoreNotification&&(this.needRestoreNotification=!1,M(this.options.restoreFailed,"options.restoreFailed",S))}parseReceiptArgs(S){const P=S[0],H=S[1],X=S[2],be=S[3],pe=S[4];return O("infoPlist: "+H+","+X+","+be+","+pe),{appStoreReceipt:P,bundleIdentifier:H,bundleShortVersion:X,bundleNumericVersion:be,bundleSignature:pe}}refreshReceipts(S,P){this.appStoreReceipt=null,O("refreshing appStoreReceipt"),N("appStoreRefreshReceipt",[],be=>{const pe=this.parseReceiptArgs(be);this.appStoreReceipt=pe,M(this.options.receiptsRefreshed,"options.receiptsRefreshed",pe),M(S,"refreshReceipts.success",pe)},be=>{O("refresh receipt failed: "+be),be.includes("(@AMSErrorDomain:100)")&&O('authentication failed, indicated by the string "(@AMSErrorDomain:100)"'),M(this.options.error,"options.error",c.ErrorCode.REFRESH_RECEIPTS,"Failed to refresh receipt: "+be),M(P,"refreshReceipts.error",c.ErrorCode.REFRESH_RECEIPTS,"Failed to refresh receipt: "+be)})}loadReceipts(S,P){O("loading appStoreReceipt"),N("appStoreReceipt",[],be=>{const pe=this.parseReceiptArgs(be);this.appStoreReceipt=pe,M(S,"loadReceipts.callback",pe)},be=>{})}}}(U=Y.Bridge||(Y.Bridge={}))}(d=c.AppleAppStore||(c.AppleAppStore={}))}(C||(C={})),function(c){let d;!function(Y){let U;(U=Y.Internal||(Y.Internal={})).DiscountEligibilities=class V{constructor(N,M){this.request=N,this.response=M}isEligible(N,M,_){var A;for(let S=0;S<this.request.length;++S){const P=this.request[S];if(P.productId===N&&P.discountId===_&&P.discountType===M)return null!==(A=this.response[S])&&void 0!==A&&A}return!0}}}(d=c.AppleAppStore||(c.AppleAppStore={}))}(C||(C={})),function(c){let d;!function(Y){Y.DEFAULT_OFFER_ID="$";class U extends c.Offer{constructor(O,N){super(O,N),this.offerType=O.offerType}}Y.SKOffer=U,Y.SKProduct=class W extends c.Product{constructor(O,N,M,_){super(N,M),this.raw=O,this.refresh(O,M,_)}removeIneligibleDiscounts(O){this.offers=this.offers.filter(N=>"Default"===N.offerType||O.isEligible(this.id,N.offerType,N.id))}refresh(O,N,M){var _;this.raw=O,this.title=O.title,this.description=O.description,this.countryCode=O.countryCode,O.group&&(this.group=O.group),this.removeIneligibleDiscounts(M);const A={price:O.price,priceMicros:O.priceMicros,currency:O.currency,billingPeriod:P(O.billingPeriod,O.billingPeriodUnit),paymentMode:this.type===c.ProductType.PAID_SUBSCRIPTION?c.PaymentMode.PAY_AS_YOU_GO:c.PaymentMode.UP_FRONT,recurrenceMode:this.type===c.ProductType.PAID_SUBSCRIPTION?c.RecurrenceMode.INFINITE_RECURRING:c.RecurrenceMode.NON_RECURRING};if(null===(_=O.discounts)||void 0===_||_.forEach(H=>{if(M.isEligible(O.id,H.type,H.id)){const X=[],be=H.paymentMode===c.PaymentMode.PAY_AS_YOU_GO?H.period:1,se={price:H.price,priceMicros:H.priceMicros,currency:O.currency,billingPeriod:P(H.paymentMode===c.PaymentMode.PAY_AS_YOU_GO?1:H.period,H.periodUnit),billingCycles:be,paymentMode:H.paymentMode,recurrenceMode:c.RecurrenceMode.FINITE_RECURRING};X.push(se),X.push(A),this.addOffer(new U({id:H.id,product:this,pricingPhases:X,offerType:H.type},N))}}),!function S(H){return H.offers.filter(X=>"Introductory"===X.offerType||"Default"===X.offerType&&X.pricingPhases.length>1).length>0}(this)){const H=[];if(O.introPrice&&void 0!==O.introPriceMicros&&M.isEligible(O.id,"Introductory","intro")){const X={price:O.introPrice,priceMicros:O.introPriceMicros,currency:O.currency,billingPeriod:P(O.introPricePeriod,O.introPricePeriodUnit),paymentMode:O.introPricePaymentMode,recurrenceMode:c.RecurrenceMode.FINITE_RECURRING,billingCycles:1};H.push(X)}H.push(A),this.addOffer(new U({id:Y.DEFAULT_OFFER_ID,product:this,pricingPhases:H,offerType:"Default"},N))}function P(H,X){if(H&&X)return`P${H}${X[0]}`}}}}(d=c.AppleAppStore||(c.AppleAppStore={}))}(C||(C={})),function(c){let d;var Y;(Y=d=c.AppleAppStore||(c.AppleAppStore={})).APPLICATION_VIRTUAL_TRANSACTION_ID="appstore.application",Y.SKApplicationReceipt=class U extends c.Receipt{constructor(O,N,M){super(c.Platform.APPLE_APPSTORE,M),this.nativeData=O,this.refresh(this.nativeData,N,M)}refresh(O,N,M){if(this.nativeData=O,N){if(this.transactions.find(S=>S.transactionId===Y.APPLICATION_VIRTUAL_TRANSACTION_ID))return;const A=new c.Transaction(c.Platform.APPLE_APPSTORE,this,M);A.transactionId=Y.APPLICATION_VIRTUAL_TRANSACTION_ID,A.state=c.TransactionState.APPROVED,A.products.push({id:O.bundleIdentifier}),this.transactions.push(A)}}},Y.SKTransaction=class W extends c.Transaction{refresh(O,N,M,_){O&&(this.products=[{id:O,offerId:_}]),N&&(this.originalTransactionId=N),M&&(this.purchaseDate=new Date(+M))}}}(C||(C={})),function(c){let d;!function(Y){let U;!function(W){let V;var O;(O=V=W.AppleExpirationIntent||(W.AppleExpirationIntent={})).CANCELED="1",O.BILLING_ERROR="2",O.PRICE_INCREASE="3",O.PRODUCT_NOT_AVAILABLE="4",O.UNKNOWN="5"}(U=Y.VerifyReceipt||(Y.VerifyReceipt={}))}(d=c.AppleAppStore||(c.AppleAppStore={}))}(C||(C={})),function(c){let d;!function(Y){class U extends c.Receipt{constructor(S,P,H){var X,be,pe;super(c.Platform.BRAINTREE,H);const se=new c.Transaction(c.Platform.BRAINTREE,this,H);se.purchaseDate=new Date,se.products=(null===(X=S.items)||void 0===X?void 0:X.filter(Me=>Me).map(Me=>({id:(null==Me?void 0:Me.id)||""})))||[],se.state=c.TransactionState.APPROVED,se.transactionId=null!==(pe=null===(be=P.paymentMethodNonce)||void 0===be?void 0:be.nonce)&&void 0!==pe?pe:`UNKNOWN_${P.paymentMethodType}_${P.paymentDescription}`,this.transactions=[se],this.dropInResult=P,this.paymentRequest=S,this.refresh(S,P,H)}refresh(S,P,H){var X,be;this.dropInResult=P,this.paymentRequest=S;const pe=new c.Transaction(c.Platform.BRAINTREE,this,H);pe.products=S.items.filter(se=>se).map(se=>({id:(null==se?void 0:se.id)||""})),pe.state=c.TransactionState.APPROVED,pe.transactionId=null!==(be=null===(X=P.paymentMethodNonce)||void 0===X?void 0:X.nonce)&&void 0!==be?be:`UNKNOWN_${P.paymentMethodType}_${P.paymentDescription}`,pe.amountMicros=S.amountMicros,pe.currency=S.currency,this.transactions=[pe]}}Y.BraintreeReceipt=U,Y.Adapter=class W{constructor(S,P){this.id=c.Platform.BRAINTREE,this.name="BrainTree",this.ready=!1,this.products=[],this._receipts=[],this.supportsParallelLoading=!1,this.context=S,this.log=S.log.child("Braintree"),this.options=P}get receipts(){return this._receipts}get isSupported(){return Y.IosBridge.Bridge.isSupported()||Y.AndroidBridge.Bridge.isSupported()}initialize(){return new Promise(S=>{this.log.info("initialize()"),Y.IosBridge.Bridge.isSupported()?(this.log.info("instantiating ios bridge..."),this.iosBridge=new Y.IosBridge.Bridge(this.log,P=>{this.options.tokenizationKey?P(this.options.tokenizationKey):this.options.clientTokenProvider?this.options.clientTokenProvider(P):P(_(c.ErrorCode.CLIENT_INVALID,"Braintree iOS Bridge requires a clientTokenProvider or tokenizationKey"))},this.options.applePay),this.iosBridge.initialize(this.context,S)):Y.AndroidBridge.Bridge.isSupported()&&!this.androidBridge?(this.log.info("instantiating android bridge..."),this.androidBridge=new Y.AndroidBridge.Bridge(this.log),this.log.info("calling android bridge -> initialize..."),this.androidBridge.initialize(this.options.tokenizationKey?this.options.tokenizationKey:this.options.clientTokenProvider?this.options.clientTokenProvider:"",S)):(this.log.info("platform not supported..."),S(void 0)),this.context.listener.receiptsReady(c.Platform.BRAINTREE)})}loadProducts(S){return lt(this,void 0,void 0,function*(){return S.map(P=>_(c.ErrorCode.PRODUCT_NOT_AVAILABLE,"N/A"))})}loadReceipts(){return lt(this,void 0,void 0,function*(){return this.context.listener.receiptsReady(c.Platform.BRAINTREE),[]})}order(S){return lt(this,void 0,void 0,function*(){return _(c.ErrorCode.UNKNOWN,"N/A: Not implemented with Braintree")})}finish(S){return lt(this,void 0,void 0,function*(){S.state=c.TransactionState.FINISHED,this.context.listener.receiptsUpdated(c.Platform.TEST,[S.parentReceipt])})}manageSubscriptions(){return lt(this,void 0,void 0,function*(){this.log.info("N/A: manageSubscriptions() is not available with Braintree")})}manageBilling(){return lt(this,void 0,void 0,function*(){this.log.info("N/A: manageBilling() is not available with Braintree")})}launchDropIn(S,P){return lt(this,void 0,void 0,function*(){return this.androidBridge?this.androidBridge.launchDropIn(P):this.iosBridge?this.iosBridge.launchDropIn(S,P):_(c.ErrorCode.PURCHASE,"Braintree is not available")})}requestPayment(S,P){var H,X,be,pe,se,Me,we,ne,ye;return lt(this,void 0,void 0,function*(){this.log.info("requestPayment()"+JSON.stringify(S));const Re=(null===(H=null==P?void 0:P.braintree)||void 0===H?void 0:H.dropInRequest)||{};if((yield Y.IosBridge.ApplePayPlugin.isSupported(this.log))||(this.log.info("Apple Pay is not supported."),Re.applePayDisabled=!0),this.options.googlePay||Re.googlePayRequest){const st=Object.assign(Object.assign({},null!==(X=this.options.googlePay)&&void 0!==X?X:{}),null!==(be=Re.googlePayRequest)&&void 0!==be?be:{});st.transactionInfo||(st.transactionInfo={currencyCode:null!==(pe=S.currency)&&void 0!==pe?pe:"",totalPrice:(null!==(se=S.amountMicros)&&void 0!==se?se:0)/1e6,totalPriceStatus:Y.GooglePay.TotalPriceStatus.FINAL}),Re.googlePayRequest=st}if(this.options.threeDSecure||Re.threeDSecureRequest){const st=Object.assign(Object.assign({},null!==(Me=this.options.threeDSecure)&&void 0!==Me?Me:{}),null!==(we=Re.threeDSecureRequest)&&void 0!==we?we:{});st.amount||(st.amount=function V(A){const S=""+A/1e4;return(S.slice(0,-2)||"0")+"."+(S.slice(-2,-1)||"0")+(S.slice(-1)||"0")}(null!==(ne=S.amountMicros)&&void 0!==ne?ne:0)),!st.billingAddress&&S.billingAddress&&(st.billingAddress={givenName:S.billingAddress.givenName,surname:S.billingAddress.surname,countryCodeAlpha2:S.billingAddress.countryCode,postalCode:S.billingAddress.postalCode,locality:S.billingAddress.locality,streetAddress:S.billingAddress.streetAddress1,extendedAddress:S.billingAddress.streetAddress2,line3:S.billingAddress.streetAddress3,phoneNumber:S.billingAddress.phoneNumber,region:S.billingAddress.region}),st.email||(st.email=S.email),Re.threeDSecureRequest=st}const je=yield this.launchDropIn(S,Re);if(!N(je))return M(this.log,je);const Ae=je;if(this.log.info("launchDropIn success: "+JSON.stringify({paymentRequest:S,dropInResult:Ae})),null===(ye=Ae.paymentMethodNonce)||void 0===ye||!ye.nonce)return _(c.ErrorCode.BAD_RESPONSE,"launchDropIn returned no paymentMethodNonce");let Ee=this._receipts.find(st=>{var it,Ue;return(null===(it=st.dropInResult.paymentMethodNonce)||void 0===it?void 0:it.nonce)===(null===(Ue=Ae.paymentMethodNonce)||void 0===Ue?void 0:Ue.nonce)});return Ee?Ee.refresh(S,Ae,this.context.apiDecorators):(Ee=new U(S,Ae,this.context.apiDecorators),this.receipts.push(Ee)),this.context.listener.receiptsUpdated(c.Platform.BRAINTREE,[Ee]),Ee.transactions[0]})}receiptValidationBody(S){var P,H,X,be,pe;return lt(this,void 0,void 0,function*(){if(function O(A){return A.platform===c.Platform.BRAINTREE}(S))return this.log.info("create receiptValidationBody for: "+JSON.stringify(S)),{id:null!==(X=null===(H=null===(P=S.paymentRequest.items)||void 0===P?void 0:P[0])||void 0===H?void 0:H.id)&&void 0!==X?X:"unknown",type:c.ProductType.CONSUMABLE,priceMicros:S.paymentRequest.amountMicros,currency:S.paymentRequest.currency,products:[],transaction:{type:c.Platform.BRAINTREE,deviceData:S.dropInResult.deviceData,id:"nonce",paymentMethodNonce:null!==(pe=null===(be=S.dropInResult.paymentMethodNonce)||void 0===be?void 0:be.nonce)&&void 0!==pe?pe:"",paymentDescription:S.dropInResult.paymentDescription,paymentMethodType:S.dropInResult.paymentMethodType}};this.log.error("Unexpected error, expecting a BraintreeReceipt: "+JSON.stringify(S))})}handleReceiptValidationResponse(S,P){var H;return lt(this,void 0,void 0,function*(){if(this.log.info("receipt validation response: "+JSON.stringify(P)),null!=P&&P.data&&"transaction"in P.data&&"braintree"===P.data.transaction.type){const X=null===(H=P.data.transaction.data.transaction)||void 0===H?void 0:H.customer.id;X&&!Y.customerId&&(this.log.info("customerId updated: "+X),Y.customerId=X)}})}checkSupport(S){return"requestPayment"===S}restorePurchases(){return lt(this,void 0,void 0,function*(){})}};const N=A=>!(!A||"code"in A&&"message"in A),M=(A,S)=>S?S.code===c.ErrorCode.PAYMENT_CANCELLED?void A.info("User cancelled the payment request"):(A.warn("launchDropIn failed: "+JSON.stringify(S)),S):(A.warn("launchDropIn failed: no response"),_(c.ErrorCode.BAD_RESPONSE,"Braintree failed to launch drop in"));function _(A,S){return c.storeError(A,S,c.Platform.BRAINTREE,null)}Y.braintreeError=_}(d=c.Braintree||(c.Braintree={}))}(C||(C={})),function(c){let d;!function(Y){const U="BraintreePlugin";let W;(W=Y.AndroidBridge||(Y.AndroidBridge={})).Bridge=class O{constructor(M){this.log=M.child("AndroidBridge")}listener(M){this.log.debug("listener: "+JSON.stringify(M)),M&&M.type&&"getClientToken"===M.type&&this.getClientToken()}initialize(M,_){try{if("string"==typeof M){const S=M;this.clientTokenProvider=P=>{P(S)}}else this.clientTokenProvider=M;this.log.info("exec.setListener()");const A=this.listener.bind(this);window.cordova.exec(A,null,U,"setListener",[]),_(void 0)}catch(A){this.log.warn("initialization failed: "+(null==A?void 0:A.message)),_(Y.braintreeError(c.ErrorCode.SETUP,"Failed to initialize Braintree Android Bridge: "+(null==A?void 0:A.message)))}}getClientToken(){this.log.info("getClientToken()"),this.clientTokenProvider?(this.log.debug("clientTokenProvider set, calling."),this.clientTokenProvider(M=>{"string"==typeof M?window.cordova.exec(null,null,U,"onClientTokenSuccess",[M]):window.cordova.exec(null,null,U,"onClientTokenFailure",[M.code,M.message])})):(this.log.debug("clientTokenProvider not set, retrying later..."),setTimeout(()=>this.getClientToken(),1e3))}static isSupported(){return"android"===window.cordova.platformId}isApplePaySupported(){return lt(this,void 0,void 0,function*(){return!1})}launchDropIn(M){return new Promise(_=>{window.cordova.exec(A=>{this.log.info("dropInSuccess: "+JSON.stringify(A)),_(A)},A=>{this.log.info("dropInFailure: "+A);const S=A.split("|")[0],P=A.split("|").slice(1).join("");_("UserCanceledException"===S?Y.braintreeError(c.ErrorCode.PAYMENT_CANCELLED,P):"AuthorizationException"===S?Y.braintreeError(c.ErrorCode.UNAUTHORIZED_REQUEST_DATA,P):Y.braintreeError(c.ErrorCode.UNKNOWN,A))},U,"launchDropIn",[M])})}}}(d=c.Braintree||(c.Braintree={}))}(C||(C={})),function(c){let d;!function(Y){let U;!function(W){const V="BraintreeApplePayPlugin";class O{static get(){return window.CdvPurchaseBraintreeApplePay}static requestPayment(M){return new Promise(_=>{var A;if(null===(A=O.get())||void 0===A||!A.installed)return _(Y.braintreeError(c.ErrorCode.SETUP,"cordova-plugin-purchase-braintree-applepay does not appear to be installed."));window.cordova.exec(H=>{_(H)},H=>{_(Y.braintreeError(c.ErrorCode.PURCHASE,"Braintree+ApplePay ERROR: "+(null!=H?H:"payment request failed")))},V,"presentDropInPaymentUI",[M])})}static isSupported(M){return new Promise(_=>{var A;if("ios"!==window.cordova.platformId)return M.info("BraintreeApplePayPlugin is only available for ios."),_(!1);if(null===(A=O.get())||void 0===A||!A.installed)return M.info("BraintreeApplePayPlugin does not appear to be installed."),_(!1);try{window.cordova.exec(S=>{_(S)},()=>{M.info("BraintreeApplePayPlugin is not available."),_(!1)},V,"isApplePaySupported",[])}catch{M.info("BraintreeApplePayPlugin is not installed."),_(!1)}})}}W.ApplePayPlugin=O}(U=Y.IosBridge||(Y.IosBridge={}))}(d=c.Braintree||(c.Braintree={}))}(C||(C={})),function(c){let d;!function(Y){let W;var V;(V=W=Y.IosBridge||(Y.IosBridge={})).Bridge=class O{constructor(M,_,A){this.log=M.child("IosBridge"),this.clientTokenProvider=_,this.applePayOptions=A}initialize(M,_){window.cordova.exec(null,null,"BraintreePlugin","setVerbosity",[M.verbosity]),window.cordova.exec(A=>this.log.debug("(Native) "+A),null,"BraintreePlugin","setLogger",[]),setTimeout(()=>_(void 0),0)}continueDropInForApplePay(M,_,A){var S,P,H,X,be,pe,se,Me,we;return lt(this,void 0,void 0,function*(){const ne=(null===(P=null===(S=this.applePayOptions)||void 0===S?void 0:S.preparePaymentRequest)||void 0===P?void 0:P.call(S,M))||{merchantCapabilities:[c.ApplePay.MerchantCapability.ThreeDS]};if(!ne.paymentSummaryItems){const Re=M.items.filter(Ae=>Ae).map((Ae,Ee)=>{var st,it,Ue;return{type:"final",label:(null==Ae?void 0:Ae.title)||(null==Ae?void 0:Ae.id)||`Item #${Ee+1}`,amount:""+Math.round((null!==(Ue=null!==(it=null===(st=null==Ae?void 0:Ae.pricing)||void 0===st?void 0:st.priceMicros)&&void 0!==it?it:M.amountMicros)&&void 0!==Ue?Ue:0)/1e4)/100}}),je={type:"final",label:null!==(X=null===(H=this.applePayOptions)||void 0===H?void 0:H.companyName)&&void 0!==X?X:"Total",amount:""+Math.round((null!==(be=M.amountMicros)&&void 0!==be?be:0)/1e4)/100};ne.paymentSummaryItems=[...Re,je]}const ye=yield V.ApplePayPlugin.requestPayment(ne);return this.log.info("Result from Apple Pay: "+JSON.stringify(ye)),"isError"in ye?ye:ye.userCancelled?Y.braintreeError(c.ErrorCode.PAYMENT_CANCELLED,"User cancelled the payment request"):{paymentMethodNonce:{isDefault:!1,nonce:null!==(se=null===(pe=ye.applePayCardNonce)||void 0===pe?void 0:pe.nonce)&&void 0!==se?se:"",type:null!==(we=null===(Me=ye.applePayCardNonce)||void 0===Me?void 0:Me.type)&&void 0!==we?we:""},paymentMethodType:A.paymentMethodType,deviceData:A.deviceData,paymentDescription:A.paymentDescription}})}launchDropIn(M,_){return new Promise(A=>lt(this,void 0,void 0,function*(){const S=H=>{this.log.info("dropInSuccess: "+JSON.stringify(H)),H.paymentMethodType===Y.DropIn.PaymentMethod.APPLE_PAY?(this.log.info("it's an ApplePay request, we have to process it."),this.continueDropInForApplePay(M,_,H).then(A)):A(H)},P=H=>{this.log.info("dropInFailure: "+H);const[X,be]=H.split("|");A("UserCanceledException"===X?Y.braintreeError(c.ErrorCode.PAYMENT_CANCELLED,be):Y.braintreeError(c.ErrorCode.UNKNOWN,"ERROR "+X+": "+be))};this.clientTokenProvider(H=>{"string"==typeof H?window.cordova.exec(S,P,"BraintreePlugin","launchDropIn",[H,_]):A(H)})}))}braintreePlugin(){return window.CdvPurchaseBraintree}static isSupported(){return"ios"===window.cordova.platformId}}}(d=c.Braintree||(c.Braintree={}))}(C||(C={})),function(c){let d;!function(Y){let U;!function(W){let V;var O;(O=V=W.CardFormFieldStatus||(W.CardFormFieldStatus={}))[O.DISABLED=0]="DISABLED",O[O.OPTIONAL=1]="OPTIONAL",O[O.REQUIRED=2]="REQUIRED"}(U=Y.DropIn||(Y.DropIn={}))}(d=c.Braintree||(c.Braintree={}))}(C||(C={})),function(c){let d;!function(Y){let U;!function(W){let V;var O;(O=V=W.PaymentMethod||(W.PaymentMethod={})).GOOGLE_PAY="GOOGLE_PAY",O.LASER="LASER",O.UK_MAESTRO="UK_MAESTRO",O.SWITCH="SWITCH",O.SOLOR="SOLO",O.APPLE_PAY="APPLE_PAY",O.AMEX="AMEX",O.DINERS_CLUB="DINERS_CLUB",O.DISCOVER="DISCOVER",O.JCB="JCB",O.MAESTRO="MAESTRO",O.MASTERCARD="MASTERCARD",O.PAYPAL="PAYPAL",O.VISA="VISA",O.VENMO="VENMO",O.UNIONPAY="UNIONPAY",O.HIPER="HIPER",O.HIPERCARD="HIPERCARD",O.UNKNOWN="UNKNOWN"}(U=Y.DropIn||(Y.DropIn={}))}(d=c.Braintree||(c.Braintree={}))}(C||(C={})),function(c){let d;!function(Y){let U;!function(W){let V;var N;let O;(N=V=W.BillingAddressFormat||(W.BillingAddressFormat={}))[N.MIN=0]="MIN",N[N.FULL=1]="FULL",function(N){N[N.NOT_CURRENTLY_KNOWN=1]="NOT_CURRENTLY_KNOWN",N[N.ESTIMATED=2]="ESTIMATED",N[N.FINAL=3]="FINAL"}(O=W.TotalPriceStatus||(W.TotalPriceStatus={}))}(U=Y.GooglePay||(Y.GooglePay={}))}(d=c.Braintree||(c.Braintree={}))}(C||(C={})),function(c){let d;!function(Y){let U;!function(W){let V;var M;let O,N;(M=V=W.AccountType||(W.AccountType={})).UNSPECIFIED="00",M.CREDIT="01",M.DEBIT="02",function(M){M[M.UNSPECIFIED=0]="UNSPECIFIED",M[M.SAME_DAY=1]="SAME_DAY",M[M.EXPEDITED=2]="EXPEDITED",M[M.PRIORITY=3]="PRIORITY",M[M.GROUND=4]="GROUND",M[M.ELECTRONIC_DELIVERY=5]="ELECTRONIC_DELIVERY",M[M.SHIP_TO_STORE=6]="SHIP_TO_STORE"}(O=W.ShippingMethod||(W.ShippingMethod={})),function(M){M[M.V1=0]="V1",M[M.V2=1]="V2"}(N=W.Version||(W.Version={}))}(U=Y.ThreeDSecure||(Y.ThreeDSecure={}))}(d=c.Braintree||(c.Braintree={}))}(C||(C={})),function(c){let d;!function(Y){class U extends c.Transaction{constructor(M,_,A){super(c.Platform.GOOGLE_PLAY,_,A),this.nativePurchase=M,this.refresh(M)}static toState(M,_,A){switch(M){case Y.Bridge.PurchaseState.PENDING:return c.TransactionState.INITIATED;case Y.Bridge.PurchaseState.PURCHASED:return A?c.TransactionState.FINISHED:c.TransactionState.APPROVED;case Y.Bridge.PurchaseState.UNSPECIFIED_STATE:return c.TransactionState.UNKNOWN_STATE}}refresh(M){var _,A;this.nativePurchase=M,this.transactionId=`${M.orderId||M.purchaseToken}`,this.purchaseId=`${M.purchaseToken}`,this.products=M.productIds.map(S=>({id:S})),M.purchaseTime&&(this.purchaseDate=new Date(M.purchaseTime)),this.isPending=M.getPurchaseState===Y.Bridge.PurchaseState.PENDING,typeof M.acknowledged<"u"&&(this.isAcknowledged=M.acknowledged),typeof M.consumed<"u"&&(this.isConsumed=M.consumed),typeof M.autoRenewing<"u"&&(this.renewalIntent=M.autoRenewing?c.RenewalIntent.RENEW:c.RenewalIntent.LAPSE),this.state=U.toState(M.getPurchaseState,null!==(_=this.isAcknowledged)&&void 0!==_&&_,null!==(A=this.isConsumed)&&void 0!==A&&A)}}Y.Transaction=U;class W extends c.Receipt{constructor(M,_){super(c.Platform.GOOGLE_PLAY,_),this.transactions=[new U(M,this,_)],this.purchaseToken=M.purchaseToken,this.orderId=M.orderId}refreshPurchase(M){var _;null===(_=this.transactions[0])||void 0===_||_.refresh(M),this.orderId=M.orderId}}Y.Receipt=W;let V=(()=>{class N{constructor(_,A=864e5){if(this.id=c.Platform.GOOGLE_PLAY,this.name="GooglePlay",this.ready=!1,this.supportsParallelLoading=!1,this._receipts=[],this.bridge=new Y.Bridge.Bridge,this.initialized=!1,this.retry=new c.Internal.Retry,this.autoRefreshIntervalMillis=0,N._instance)throw new Error("GooglePlay adapter already initialized");this._products=new Y.Products(_.apiDecorators),this.autoRefreshIntervalMillis=A,this.context=_,this.log=_.log.child("GooglePlay"),N._instance=this}get products(){return this._products.products}get receipts(){return this._receipts}get isSupported(){return"android"===window.cordova.platformId}initialize(){return lt(this,void 0,void 0,function*(){return this.log.info("Initialize"),this.initializationPromise?this.initializationPromise:this.initializationPromise=new Promise(_=>{const A=this.log.child("Bridge"),S={onSetPurchases:this.onSetPurchases.bind(this),onPurchasesUpdated:this.onPurchasesUpdated.bind(this),onPurchaseConsumed:this.onPurchaseConsumed.bind(this),showLog:this.context.verbosity>=c.LogLevel.DEBUG,log:X=>A.info(X)};this.bridge.init(()=>{this.log.debug("Ready"),this.autoRefreshIntervalMillis>0&&window.setInterval(()=>this.getPurchases(),this.autoRefreshIntervalMillis),_(void 0)},X=>{this.initialized=!1,this.context.error(O(c.ErrorCode.SETUP,"Init failed - "+X,null)),this.retry.retry(()=>this.initialize())},S)})})}getSkusOf(_){const A=[],S=[];for(const P of _)P.type===c.ProductType.PAID_SUBSCRIPTION?S.push(P.id):A.push(P.id);return{inAppSkus:A,subsSkus:S}}loadReceipts(){return new Promise(_=>{this.getPurchases().then(A=>{_(this._receipts)})})}loadProducts(_){return new Promise(A=>{this.log.debug("Load: "+JSON.stringify(_));const S=H=>{this.log.debug("Loaded: "+JSON.stringify(H));const X=_.map(be=>{const pe=H.find(se=>se.productId===be.id);return pe&&pe.productId?this._products.addProduct(be,pe):O(c.ErrorCode.INVALID_PRODUCT_ID,`Product with id ${be.id} not found.`,be.id)});A(X)},P=()=>{const{inAppSkus:H,subsSkus:X}=this.getSkusOf(_);this.log.debug("getAvailableProducts: "+JSON.stringify(H)+" | "+JSON.stringify(X)),this.bridge.getAvailableProducts(H,X,S,be=>{this.retry.retry(P),this.context.error(O(c.ErrorCode.LOAD,"Loading product info failed - "+be+" - retrying later...",null))})};P()})}finish(_){return new Promise(A=>{const S=()=>{_.state!==c.TransactionState.FINISHED&&(_.state=c.TransactionState.FINISHED,this.context.listener.receiptsUpdated(c.Platform.GOOGLE_PLAY,[_.parentReceipt])),A(void 0)},P=_.products[0];if(!P)return A(O(c.ErrorCode.FINISH,"Cannot finish a transaction with no product",null));const H=this._products.getProduct(P.id);if(!H)return A(O(c.ErrorCode.FINISH,"Cannot finish transaction, unknown product "+P.id,P.id));const X=this._receipts.find(pe=>pe.hasTransaction(_));if(!X)return A(O(c.ErrorCode.FINISH,"Cannot finish transaction, linked receipt not found.",H.id));if(!X.purchaseToken)return A(O(c.ErrorCode.FINISH,"Cannot finish transaction, linked receipt contains no purchaseToken.",H.id));const be=(pe,se)=>A(O(se||c.ErrorCode.UNKNOWN,pe,H.id));if(H.type===c.ProductType.NON_RENEWING_SUBSCRIPTION||H.type===c.ProductType.CONSUMABLE){if(!_.isConsumed)return this.bridge.consumePurchase(S,be,X.purchaseToken)}else if(!_.isAcknowledged)return this.bridge.acknowledgePurchase(S,be,X.purchaseToken);A(void 0)})}onPurchaseConsumed(_){this.log.debug("onPurchaseConsumed: "+_.orderId),_.acknowledged=!0,_.consumed=!0,this.onPurchasesUpdated([_])}onPurchasesUpdated(_){this.log.debug("onPurchaseUpdated: "+_.map(A=>A.orderId).join(", ")),_.forEach(A=>{const S=this.receipts.find(P=>P.purchaseToken===A.purchaseToken);if(S)S.refreshPurchase(A),this.context.listener.receiptsUpdated(c.Platform.GOOGLE_PLAY,[S]);else{const P=new W(A,this.context.apiDecorators);this.receipts.push(P),this.context.listener.receiptsUpdated(c.Platform.GOOGLE_PLAY,[P])}})}onSetPurchases(_){this.log.debug("onSetPurchases: "+JSON.stringify(_)),this.onPurchasesUpdated(_),this.context.listener.receiptsReady(c.Platform.GOOGLE_PLAY)}onPriceChangeConfirmationResult(_){}getPurchases(){return new Promise(_=>{this.log.debug("getPurchases"),this.bridge.getPurchases(()=>{this.log.debug("getPurchases success"),setTimeout(()=>_(void 0),0)},(P,H)=>{this.log.warn("getPurchases failed: "+P+" ("+H+")"),setTimeout(()=>_(O(H||c.ErrorCode.UNKNOWN,P,null)),0)})})}order(_,A){return lt(this,void 0,void 0,function*(){return new Promise(S=>{this.log.info("Order - "+JSON.stringify(_));const P=()=>S(void 0),H=(X,be)=>{this.log.warn("Order failed: "+JSON.stringify({message:X,code:be})),S(O(null!=be?be:c.ErrorCode.UNKNOWN,X,_.productId))};if(_.productType===c.ProductType.PAID_SUBSCRIPTION){const X="token"in _?_.productId+"@"+_.token:_.productId,be=this.findOldPurchaseToken(_.productId,_.productGroup);be&&(A.googlePlay?A.googlePlay.oldPurchaseToken||(A.googlePlay.oldPurchaseToken=be):A.googlePlay={oldPurchaseToken:be}),this.bridge.subscribe(P,H,X,A)}else this.bridge.buy(P,H,_.productId,A)})})}findOldPurchaseToken(_,A){if(!A)return;const S=this._receipts.find(P=>!!P.transactions.find(H=>!!H.products.find(X=>{const be=this._products.getProduct(X.id);return!(!be||!c.Internal.LocalReceipts.isOwned([P],be))&&(X.id===_||A&&be.group===A)})));return null==S?void 0:S.purchaseToken}receiptValidationBody(_){var A;return lt(this,void 0,void 0,function*(){const S=_.transactions[0];if(!S)return;const P=null===(A=S.products[0])||void 0===A?void 0:A.id;if(!P)return;const H=this._products.getProduct(P);if(!H)return;const X=S.nativePurchase;return{id:P,type:H.type,offers:H.offers,products:this._products.products,transaction:{type:c.Platform.GOOGLE_PLAY,id:_.transactions[0].transactionId,purchaseToken:X.purchaseToken,signature:X.signature,receipt:X.receipt}}})}handleReceiptValidationResponse(_,A){var S;return lt(this,void 0,void 0,function*(){if(null!=A&&A.ok){const P=null===(S=null==A?void 0:A.data)||void 0===S?void 0:S.transaction;if((null==P?void 0:P.type)!==c.Platform.GOOGLE_PLAY)return}})}requestPayment(_,A){return lt(this,void 0,void 0,function*(){return O(c.ErrorCode.UNKNOWN,"requestPayment not supported",null)})}manageSubscriptions(){return lt(this,void 0,void 0,function*(){this.bridge.manageSubscriptions()})}manageBilling(){return lt(this,void 0,void 0,function*(){this.bridge.manageBilling()})}checkSupport(_){return["order","manageBilling","manageSubscriptions"].indexOf(_)>=0}restorePurchases(){return new Promise(_=>{this.bridge.getPurchases(()=>_(void 0),(A,S)=>{this.log.warn("getPurchases() failed: "+(null!=S?S:"ERROR")+": "+A),_(O(null!=S?S:c.ErrorCode.UNKNOWN,A,null))})})}}return N.trimProductTitles=!0,N})();function O(N,M,_){return c.storeError(N,M,c.Platform.GOOGLE_PLAY,_)}Y.Adapter=V}(d=c.GooglePlay||(c.GooglePlay={}))}(C||(C={})),function(c){let d;!function(Y){let U;!function(W){let V;var O;(O=V=W.RecurrenceMode||(W.RecurrenceMode={})).FINITE_RECURRING="FINITE_RECURRING",O.INFINITE_RECURRING="INFINITE_RECURRING",O.NON_RECURRING="NON_RECURRING"}(U=Y.Bridge||(Y.Bridge={}))}(d=c.GooglePlay||(c.GooglePlay={}))}(C||(C={})),function(c){let d;!function(Y){let U;var V;let W;(V=U=Y.ProrationMode||(Y.ProrationMode={})).IMMEDIATE_WITH_TIME_PRORATION="IMMEDIATE_WITH_TIME_PRORATION",V.IMMEDIATE_AND_CHARGE_PRORATED_PRICE="IMMEDIATE_AND_CHARGE_PRORATED_PRICE",V.IMMEDIATE_WITHOUT_PRORATION="IMMEDIATE_WITHOUT_PRORATION",V.DEFERRED="DEFERRED",V.IMMEDIATE_AND_CHARGE_FULL_PRICE="IMMEDIATE_AND_CHARGE_FULL_PRICE",function(V){let N,O=function(H){console.log("InAppBilling[js]: "+H)};var P;function _(P){return function(H){if(!P)return;const X="string"==typeof H?H.split("|"):[];X.length>1&&/^[-+]?(\d+)$/.test(X[0])?P(X[1],+X[0]):P(H)}}function S(P){const H=function A(P){return P&&P.constructor===Object?P:{}}(null==P?void 0:P.googlePlay);return!H.accountId&&null!=P&&P.applicationUsername&&(H.accountId=c.Utils.md5(P.applicationUsername)),H}(P=N=V.PurchaseState||(V.PurchaseState={}))[P.UNSPECIFIED_STATE=0]="UNSPECIFIED_STATE",P[P.PURCHASED=1]="PURCHASED",P[P.PENDING=2]="PENDING",V.Bridge=class M{constructor(){this.options={}}init(H,X,be){be||(be={}),be.log&&(O=be.log),this.options={showLog:!1!==be.showLog,onPurchaseConsumed:be.onPurchaseConsumed,onPurchasesUpdated:be.onPurchasesUpdated,onSetPurchases:be.onSetPurchases},this.options.showLog&&O("setup ok");const pe=this.listener.bind(this);window.cordova.exec(pe,function(se){},"InAppBillingPlugin","setListener",[]),window.cordova.exec(H,_(X),"InAppBillingPlugin","init",[])}load(H,X,be,pe,se){if(typeof be<"u"&&("string"==typeof be&&(be=[be]),be.length>0)){if("string"!=typeof be[0]){var we="invalid productIds: "+JSON.stringify(be);return this.options.showLog&&O(we),void X(we,c.ErrorCode.INVALID_PRODUCT_ID)}this.options.showLog&&O("load "+JSON.stringify(be))}window.cordova.exec(H,_(X),"InAppBillingPlugin","load",[be,pe,se])}listener(H){this.options.showLog&&O("listener: "+JSON.stringify(H)),H&&H.type&&("setPurchases"===H.type&&this.options.onSetPurchases&&this.options.onSetPurchases(H.data.purchases),"purchasesUpdated"===H.type&&this.options.onPurchasesUpdated&&this.options.onPurchasesUpdated(H.data.purchases),"purchaseConsumed"===H.type&&this.options.onPurchaseConsumed&&this.options.onPurchaseConsumed(H.data.purchase),"onPriceChangeConfirmationResultOK"===H.type&&this.options.onPriceChangeConfirmationResult&&this.options.onPriceChangeConfirmationResult("OK"),"onPriceChangeConfirmationResultUserCanceled"===H.type&&this.options.onPriceChangeConfirmationResult&&this.options.onPriceChangeConfirmationResult("UserCanceled"),"onPriceChangeConfirmationResultUnknownSku"===H.type&&this.options.onPriceChangeConfirmationResult&&this.options.onPriceChangeConfirmationResult("UnknownProduct"))}getPurchases(H,X){return this.options.showLog&&O("getPurchases()"),window.cordova.exec(H,_(X),"InAppBillingPlugin","getPurchases",["null"])}buy(H,X,be,pe){return this.options.showLog&&O("buy()"),window.cordova.exec(H,_(X),"InAppBillingPlugin","buy",[be,S(pe)])}subscribe(H,X,be,pe){var se;return this.options.showLog&&O("subscribe()"),!(null===(se=pe.googlePlay)||void 0===se)&&se.oldPurchaseToken&&this.options.showLog&&O("subscribe() -> upgrading from an old purchase"),window.cordova.exec(H,_(X),"InAppBillingPlugin","subscribe",[be,S(pe)])}consumePurchase(H,X,be){return this.options.showLog&&O("consumePurchase()"),window.cordova.exec(H,_(X),"InAppBillingPlugin","consumePurchase",[be])}acknowledgePurchase(H,X,be){return this.options.showLog&&O("acknowledgePurchase()"),window.cordova.exec(H,_(X),"InAppBillingPlugin","acknowledgePurchase",[be])}getAvailableProducts(H,X,be,pe){return this.options.showLog&&O("getAvailableProducts()"),window.cordova.exec(be,_(pe),"InAppBillingPlugin","getAvailableProducts",[H,X])}manageSubscriptions(){return window.cordova.exec(function(){},function(){},"InAppBillingPlugin","manageSubscriptions",[])}manageBilling(){return window.cordova.exec(function(){},function(){},"InAppBillingPlugin","manageBilling",[])}launchPriceChangeConfirmationFlow(H){return window.cordova.exec(function(){},function(){},"InAppBillingPlugin","launchPriceChangeConfirmationFlow",[H])}}}(W=Y.Bridge||(Y.Bridge={}))}(d=c.GooglePlay||(c.GooglePlay={}))}(C||(C={})),function(c){let d;!function(Y){class U extends c.Product{}Y.GProduct=U;class W extends c.Offer{constructor(){super(...arguments),this.type="inapp"}}Y.InAppOffer=W;class V extends c.Offer{constructor(M,_){super(M,_),this.type="subs",this.tags=M.tags,this.token=M.token}}Y.SubscriptionOffer=V,Y.Products=class O{constructor(M){this.products=[],this.offers=[],this.decorator=M}getProduct(M){return this.products.find(_=>_.id===M)}getOffer(M){return this.offers.find(_=>_.id===M)}addProduct(M,_){const A=this.getProduct(M.id),S=null!=A?A:new U(M,this.decorator);return S.title=_.title||_.name||S.title,Y.Adapter.trimProductTitles&&(S.title=S.title.replace(/ \(.*\)$/,"")),S.description=_.description||S.description,"product_format"in _&&"v12.0"===_.product_format&&"subs"===_.product_type?this.onSubsV12Loaded(S,_):this.onInAppLoaded(S,_),A||this.products.push(S),S}onSubsV12Loaded(M,_){return _.offers.forEach(S=>{const P=S.pricing_phases.slice(-1)[0];if((null==P?void 0:P.recurrence_mode)===c.RecurrenceMode.FINITE_RECURRING){const X=function A(S){if(!S)return null;for(const P of _.offers)if(P.base_plan_id===S&&!P.offer_id)return P;return null}(S.base_plan_id);X&&X!==S&&S.pricing_phases.push(...X.pricing_phases)}const H=this.iabSubsOfferV12Loaded(M,_,S);M.addOffer(H)}),M}makeOfferId(M,_){return _.base_plan_id?_.offer_id?M+"@"+_.base_plan_id+"@"+_.offer_id:M+"@"+_.base_plan_id:M+"@"+_.token}iabSubsOfferV12Loaded(M,_,A){const S=this.makeOfferId(_.productId,A),P=this.getOffer(S),H=A.pricing_phases.map(X=>this.toPricingPhase(X));if(P)return P.pricingPhases=H,P;{const X=new V({id:S,product:M,pricingPhases:H,token:A.token,tags:A.tags},this.decorator);return this.offers.push(X),X}}onInAppLoaded(M,_){var A,S,P,H;const X=this.getOffer(_.productId),be=[{price:null!==(S=null!==(A=_.formatted_price)&&void 0!==A?A:_.price)&&void 0!==S?S:`${(null!==(P=_.price_amount_micros)&&void 0!==P?P:0)/1e6} ${_.price_currency_code}`,priceMicros:null!==(H=_.price_amount_micros)&&void 0!==H?H:0,currency:_.price_currency_code,recurrenceMode:c.RecurrenceMode.NON_RECURRING}];if(X)X.pricingPhases=be,M.offers=[X];else{const pe=new W({id:_.productId,product:M,pricingPhases:be},this.decorator);this.offers.push(pe),M.offers=[pe]}return M}toPaymentMode(M){return 0===M.price_amount_micros?c.PaymentMode.FREE_TRIAL:M.recurrence_mode===Y.Bridge.RecurrenceMode.NON_RECURRING?c.PaymentMode.UP_FRONT:c.PaymentMode.PAY_AS_YOU_GO}toRecurrenceMode(M){switch(M){case Y.Bridge.RecurrenceMode.FINITE_RECURRING:return c.RecurrenceMode.FINITE_RECURRING;case Y.Bridge.RecurrenceMode.INFINITE_RECURRING:return c.RecurrenceMode.INFINITE_RECURRING;case Y.Bridge.RecurrenceMode.NON_RECURRING:return c.RecurrenceMode.NON_RECURRING}}toPricingPhase(M){return{price:M.formatted_price,priceMicros:M.price_amount_micros,currency:M.price_currency_code,billingPeriod:M.billing_period,billingCycles:M.billing_cycle_count,recurrenceMode:this.toRecurrenceMode(M.recurrence_mode),paymentMode:this.toPaymentMode(M)}}}}(d=c.GooglePlay||(c.GooglePlay={}))}(C||(C={})),function(c){let d;!function(Y){let U;!function(W){let V;var N;let O;(N=V=W.GoogleErrorReason||(W.GoogleErrorReason={})).SUBSCRIPTION_NO_LONGER_AVAILABLE="subscriptionPurchaseNoLongerAvailable",N.PURCHASE_TOKEN_NO_LONGER_VALID="purchaseTokenNoLongerValid",function(N){N[N.GONE=410]="GONE"}(O=W.ErrorCode||(W.ErrorCode={}))}(U=Y.PublisherAPI||(Y.PublisherAPI={}))}(d=c.GooglePlay||(c.GooglePlay={}))}(C||(C={})),function(c){let d;!function(Y){const U=c.Platform.TEST;let W=[];function V(M){M.products.forEach(_=>{var A,S,P,H;const X=W.find(pe=>_.id===pe.id),be={id:_.id,purchaseDate:null===(A=M.purchaseDate)||void 0===A?void 0:A.getTime(),expiryDate:null===(S=M.expirationDate)||void 0===S?void 0:S.getTime(),lastRenewalDate:null===(P=M.lastRenewalDate)||void 0===P?void 0:P.getTime(),renewalIntent:M.renewalIntent,renewalIntentChangeDate:null===(H=M.renewalIntentChangeDate)||void 0===H?void 0:H.getTime()};X?Object.assign(X,be):W.push(be)})}function N(M,_,A){return c.storeError(M,_,c.Platform.TEST,A)}Y.Adapter=class O{constructor(_){this.id=c.Platform.TEST,this.name="Test",this.ready=!1,this.products=[],this.receipts=[],this.supportsParallelLoading=!0,this.context=_,this.log=_.log.child("Test")}get isSupported(){return!0}initialize(){return lt(this,void 0,void 0,function*(){})}loadReceipts(){return lt(this,void 0,void 0,function*(){return new Promise(_=>{setTimeout(()=>{this.context.listener.receiptsReady(c.Platform.TEST),_(this.receipts)},600)})})}loadProducts(_){return lt(this,void 0,void 0,function*(){return _.map(A=>{if(!Y.testProductsArray.find(H=>H.id===A.id&&H.type===A.type))return N(c.ErrorCode.PRODUCT_NOT_AVAILABLE,"This product is not available",A.id);const S=this.products.find(H=>H.id===A.id);if(S)return S;A.id===Y.testProducts.PAID_SUBSCRIPTION_ACTIVE.id&&setTimeout(()=>{this.reportActiveSubscription()},500);const P=Y.initTestProduct(A.id,this.context.apiDecorators);return P?(this.products.push(P),this.context.listener.productsUpdated(c.Platform.TEST,[P]),P):N(c.ErrorCode.PRODUCT_NOT_AVAILABLE,"Could not load this product",A.id)})})}order(_){return lt(this,void 0,void 0,function*(){if(_.id.indexOf("-fail-")>0)return N(c.ErrorCode.PURCHASE,"Purchase failed.",_.productId);const A=this.products.find(X=>X.id===_.productId);if(!c.Internal.LocalReceipts.canPurchase(this.receipts,A))return N(c.ErrorCode.PURCHASE,"Product already owned",_.productId);const S=prompt(`Do you want to purchase ${_.productId} for ${_.pricingPhases[0].price}?\nEnter "Y" to confirm.\nEnter "E" to fail with an error.Anything else to cancel.`);if("E"===(null==S?void 0:S.toUpperCase()))return N(c.ErrorCode.PURCHASE,"Purchase failed",_.productId);if("Y"!==(null==S?void 0:S.toUpperCase()))return N(c.ErrorCode.PAYMENT_CANCELLED,"Purchase flow has been cancelled by the user",_.productId);const P=new c.Receipt(U,this.context.apiDecorators),H=new c.Transaction(U,P,this.context.apiDecorators);P.transactions=[H],H.products=[{id:_.productId,offerId:_.id}],H.state=c.TransactionState.APPROVED,H.purchaseDate=new Date,H.transactionId=_.productId+"-"+(new Date).getTime(),H.isAcknowledged=!1,_.productType===c.ProductType.PAID_SUBSCRIPTION&&(H.expirationDate=new Date(+new Date+6048e5),H.renewalIntent=c.RenewalIntent.RENEW),V(H),this.receipts.push(P),this.context.listener.receiptsUpdated(c.Platform.TEST,[P])})}finish(_){return new Promise(A=>{setTimeout(()=>{_.state=c.TransactionState.FINISHED,_.isAcknowledged=!0,V(_);const S=this.products.find(H=>_.products[0].id===H.id);(null==S?void 0:S.type)===c.ProductType.CONSUMABLE&&(_.isConsumed=!0);const P=this.receipts.filter(H=>H.hasTransaction(_));this.context.listener.receiptsUpdated(U,P),A(void 0)},500)})}receiptValidationBody(_){return lt(this,void 0,void 0,function*(){})}handleReceiptValidationResponse(_,A){return lt(this,void 0,void 0,function*(){})}requestPayment(_,A){var S;return lt(this,void 0,void 0,function*(){yield c.Utils.asyncDelay(100);const P=prompt(`Mock payment of ${(null!==(S=_.amountMicros)&&void 0!==S?S:0)/1e6} ${_.currency}. Enter "Y" to confirm. Enter "E" to trigger an error.`);if("E"===(null==P?void 0:P.toUpperCase()))return N(c.ErrorCode.PAYMENT_NOT_ALLOWED,"Payment not allowed",null);if("Y"!==(null==P?void 0:P.toUpperCase()))return;const H=new c.Receipt(U,this.context.apiDecorators),X=new c.Transaction(c.Platform.TEST,H,this.context.apiDecorators);return X.purchaseDate=new Date,X.products=_.items.filter(be=>be).map(be=>({id:(null==be?void 0:be.id)||""})),X.state=c.TransactionState.APPROVED,X.transactionId="payment-"+(new Date).getTime(),X.amountMicros=_.amountMicros,X.currency=_.currency,H.transactions=[X],this.receipts.push(H),setTimeout(()=>{this.context.listener.receiptsUpdated(U,[H])},400),X})}manageSubscriptions(){return lt(this,void 0,void 0,function*(){alert("Pseudo subscription management interface. Close it when you are done.")})}manageBilling(){return lt(this,void 0,void 0,function*(){alert("Pseudo billing management interface. Close it when you are done.")})}reportActiveSubscription(){if(this.receipts.find(X=>X.transactions[0].transactionId===P(1)))return;const _=12e4,A=new c.Receipt(U,this.context.apiDecorators),S=X=>{var be,pe;const se=new c.Transaction(U,A,this.context.apiDecorators);se.products=[{id:Y.testProducts.PAID_SUBSCRIPTION_ACTIVE.id,offerId:Y.testProducts.PAID_SUBSCRIPTION_ACTIVE.extra.offerId}],se.state=c.TransactionState.APPROVED,se.transactionId=P(X),se.isAcknowledged=1==X,se.renewalIntent=c.RenewalIntent.RENEW;const Me=+((null===(pe=null===(be=null==A?void 0:A.transactions)||void 0===be?void 0:be[0])||void 0===pe?void 0:pe.purchaseDate)||new Date);return se.purchaseDate=new Date(Me),se.lastRenewalDate=new Date(Me+_*(X-1)),se.expirationDate=new Date(Me+_*X),V(se),se};function P(X){return"test-active-subscription-transaction-"+X}A.transactions.push(S(1)),this.receipts.push(A),this.context.listener.receiptsUpdated(c.Platform.TEST,[A]);let H=1;setInterval(()=>{this.log.info("auto-renewing the mock subscription"),H+=1,A.transactions.push(S(H)),this.context.listener.receiptsUpdated(c.Platform.TEST,[A])},_)}static verify(_,A){setTimeout(()=>{var S,P;A({receipt:_,payload:{ok:!0,data:{id:null===(P=null===(S=_.transactions[0])||void 0===S?void 0:S.products[0])||void 0===P?void 0:P.id,latest_receipt:!0,transaction:{type:"test"},collection:W}}})},500)}checkSupport(_){return!0}restorePurchases(){return lt(this,void 0,void 0,function*(){})}}}(d=c.Test||(c.Test={}))}(C||(C={})),function(c){let d;!function(Y){const U=c.Platform.TEST;Y.testProducts={CONSUMABLE:{platform:U,id:"test-consumable",type:c.ProductType.CONSUMABLE},CONSUMABLE_FAILING:{platform:U,id:"test-consumable-fail",type:c.ProductType.CONSUMABLE},NON_CONSUMABLE:{platform:U,id:"test-non-consumable",type:c.ProductType.NON_CONSUMABLE},PAID_SUBSCRIPTION:{platform:U,id:"test-subscription",type:c.ProductType.PAID_SUBSCRIPTION},PAID_SUBSCRIPTION_ACTIVE:{platform:U,id:"test-subscription-active",type:c.ProductType.PAID_SUBSCRIPTION,extra:{offerId:"test-paid-subscription-active-offer1"}}},Y.testProductsArray=c.Utils.objectValues(Y.testProducts),Y.initTestProduct=function W(V,O){const N=Object.keys(Y.testProducts).find(_=>Y.testProducts[_]&&Y.testProducts[_].id===V);if(!N)return;const M=new c.Product(Y.testProducts[N],O);switch(N){case"CONSUMABLE":M.title="Test Consumable",M.description="A consumable product that you can purchase",M.addOffer(new c.Offer({id:"test-consumable-offer1",pricingPhases:[{price:"$4.99",currency:"USD",priceMicros:499e4,paymentMode:c.PaymentMode.UP_FRONT,recurrenceMode:c.RecurrenceMode.NON_RECURRING}],product:M},O));break;case"CONSUMABLE_FAILING":M.title="Failing Consumable",M.description="A consumable product that cannot be purchased",M.addOffer(new c.Offer({id:"test-consumable-fail-offer1",pricingPhases:[{price:"$1.99",currency:"USD",priceMicros:199e4,paymentMode:c.PaymentMode.UP_FRONT,recurrenceMode:c.RecurrenceMode.NON_RECURRING}],product:M},O));break;case"NON_CONSUMABLE":M.title="Non Consumable",M.description="A non consumable product",M.addOffer(new c.Offer({id:"test-non-consumable-offer1",pricingPhases:[{price:"$9.99",currency:"USD",priceMicros:999e4,paymentMode:c.PaymentMode.UP_FRONT,recurrenceMode:c.RecurrenceMode.NON_RECURRING}],product:M},O));break;case"PAID_SUBSCRIPTION":M.title="A subscription product",M.description="An auto-renewing paid subscription with a trial period",M.addOffer(new c.Offer({id:"test-paid-subscription-offer1",product:M,pricingPhases:[{price:"$0.00",currency:"USD",priceMicros:0,paymentMode:c.PaymentMode.FREE_TRIAL,recurrenceMode:c.RecurrenceMode.FINITE_RECURRING,billingCycles:3,billingPeriod:"P1W"},{price:"$4.99",currency:"USD",priceMicros:499e4,paymentMode:c.PaymentMode.PAY_AS_YOU_GO,recurrenceMode:c.RecurrenceMode.INFINITE_RECURRING,billingPeriod:"P1M"}]},O));break;case"PAID_SUBSCRIPTION_ACTIVE":M.title="An owned subscription product",M.description="An active paid subscription",M.addOffer(new c.Offer({id:Y.testProducts.PAID_SUBSCRIPTION_ACTIVE.extra.offerId,product:M,pricingPhases:[{price:"$19.99",currency:"USD",priceMicros:1999e4,paymentMode:c.PaymentMode.PAY_AS_YOU_GO,recurrenceMode:c.RecurrenceMode.INFINITE_RECURRING,billingPeriod:"P1Y"}]},O));break;default:throw new Error(`Unhandled enum case: ${N}`)}return M}}(d=c.Test||(c.Test={}))}(C||(C={})),function(c){let d;!function(Y){function W(V,O,N){return c.storeError(V,O,c.Platform.WINDOWS_STORE,N)}Y.Adapter=class U{constructor(){this.id=c.Platform.WINDOWS_STORE,this.name="WindowsStore",this.ready=!1,this.supportsParallelLoading=!1,this.products=[],this.receipts=[]}initialize(){return lt(this,void 0,void 0,function*(){})}get isSupported(){return!1}loadProducts(O){return lt(this,void 0,void 0,function*(){return O.map(N=>W(c.ErrorCode.PRODUCT_NOT_AVAILABLE,"TODO",N.id))})}loadReceipts(){return lt(this,void 0,void 0,function*(){return[]})}order(O){return lt(this,void 0,void 0,function*(){return W(c.ErrorCode.UNKNOWN,"TODO: Not implemented",O.productId)})}finish(O){return lt(this,void 0,void 0,function*(){return W(c.ErrorCode.UNKNOWN,"TODO: Not implemented",null)})}handleReceiptValidationResponse(O,N){return lt(this,void 0,void 0,function*(){})}receiptValidationBody(O){return lt(this,void 0,void 0,function*(){})}requestPayment(O,N){return lt(this,void 0,void 0,function*(){return W(c.ErrorCode.UNKNOWN,"requestPayment not supported",null)})}manageSubscriptions(){return lt(this,void 0,void 0,function*(){return W(c.ErrorCode.UNKNOWN,"manageSubscriptions not supported",null)})}manageBilling(){return lt(this,void 0,void 0,function*(){return W(c.ErrorCode.UNKNOWN,"manageBilling not supported",null)})}checkSupport(O){return!1}restorePurchases(){return lt(this,void 0,void 0,function*(){})}}}(d=c.WindowsStore||(c.WindowsStore={}))}(C||(C={})),function(c){let d;!function(Y){let U;(U=Y.Ajax||(Y.Ajax={})).HTTP_REQUEST_TIMEOUT=408,Y.ajax=function W(O,N){if(typeof window<"u"&&window.cordova&&window.cordova.plugin&&window.cordova.plugin.http)return function V(O,N){let M=function(){};const _={method:(N.method||"get").toLowerCase(),data:N.data,serializer:"json"};N.customHeaders&&(O.debug("ajax[http] -> adding custom headers: "+JSON.stringify(N.customHeaders)),_.headers=N.customHeaders),O.debug("ajax[http] -> send request to "+N.url);const A=S=>{try{200==S.status?Y.callExternal(O,"ajax.success",N.success,JSON.parse(S.data)):(O.warn("ajax[http] -> request to "+N.url+" failed with status "+S.status+" ("+S.error+")"),Y.callExternal(O,"ajax.error",N.error,S.status,S.error))}catch(P){O.warn("ajax[http] -> request to "+N.url+" failed with an exception: "+P.message),N.error&&Y.callExternal(O,"ajax.error",N.error,417,P.message)}Y.callExternal(O,"ajax.done",M)};return window.cordova.plugin.http.sendRequest(N.url,_,A,A),{done:function(S){return M=S,this}}}(O,N);var M=function(){},_=new XMLHttpRequest;N.timeout&&(_.timeout=N.timeout,_.ontimeout=function(){O.warn("ajax -> request to "+N.url+" timeout"),Y.callExternal(O,"ajax.error",N.error,U.HTTP_REQUEST_TIMEOUT,"Timeout")}),_.open(N.method||"POST",N.url,!0),_.onreadystatechange=function(){try{4===_.readyState&&(200===_.status?Y.callExternal(O,"ajax.success",N.success,JSON.parse(_.responseText)):(O.warn("ajax -> request to "+N.url+" failed with status "+_.status+" ("+_.statusText+")"),Y.callExternal(O,"ajax.error",N.error,_.status,_.statusText)))}catch(S){O.warn("ajax -> request to "+N.url+" failed with an exception: "+S.message),N.error&&N.error(417,S.message,null)}4===_.readyState&&Y.callExternal(O,"ajax.done",M)};const A=N.customHeaders;return A&&Object.keys(A).forEach(function(S){O.debug("ajax -> adding custom header: "+S),_.setRequestHeader(S,A[S])}),_.setRequestHeader("Accept","application/json"),O.debug("ajax -> send request to "+N.url),N.data?(_.setRequestHeader("Content-Type","application/json;charset=UTF-8"),_.send(JSON.stringify(N.data))):_.send(),{done:function(S){return M=S,this}}}}(d=c.Utils||(c.Utils={}))}(C||(C={})),function(c){let d;(d=c.Utils||(c.Utils={})).callExternal=function U(W,V,O,...N){try{const M=Array.prototype.slice.call(arguments,3);O&&O.apply(c.store,M)}catch(M){W.logCallbackException(V,M)}}}(C||(C={})),function(c){let d;var Y;(Y=d=c.Utils||(c.Utils={})).delay=function U(O,N){return setTimeout(O,N)},Y.debounce=function W(O,N){let M=null;const _=function(S,P){M=null,O()};return function(){M&&window.clearTimeout(M),M=setTimeout(_,N)}},Y.asyncDelay=function V(O){return new Promise(N=>setTimeout(N,O))}}(C||(C={})),function(c){let d;var Y;(Y=d=c.Utils||(c.Utils={})).formatBillingCycleEN=function U(V){switch(function W(V){var O;const N=null!==(O=V.billingCycles)&&void 0!==O?O:0;if(V.recurrenceMode===c.RecurrenceMode.FINITE_RECURRING){if(1==N)return c.RecurrenceMode.NON_RECURRING;if(N<=0)return c.RecurrenceMode.INFINITE_RECURRING}return V.recurrenceMode}(V)){case c.RecurrenceMode.FINITE_RECURRING:return`${V.billingCycles}x ${Y.formatDurationEN(V.billingPeriod)}`;case c.RecurrenceMode.NON_RECURRING:return"for "+Y.formatDurationEN(V.billingPeriod);default:return"every "+Y.formatDurationEN(V.billingPeriod,{omitOne:!0})}}}(C||(C={})),function(c){let d;(d=c.Utils||(c.Utils={})).formatDurationEN=function U(W,V){if(!W)return"";const O=W.length,N=W.slice(1,O-1);return"1"===N?null!=V&&V.omitOne?{D:"day",W:"week",M:"month",Y:"year"}[W[O-1]]||W[O-1]:{D:"1 day",W:"1 week",M:"1 month",Y:"1 year"}[W[O-1]]||W[O-1]:`${N} ${{D:"days",W:"weeks",M:"months",Y:"years"}[W[O-1]]||W[O-1]}`}}(C||(C={})),function(c){let d;!function(Y){const U="0123456789abcdef".split("");function W(pe){for(var se="",Me=0;Me<4;Me++)se+=U[pe>>8*Me+4&15]+U[pe>>8*Me&15];return se}function V(pe){const se=[];for(var Me=pe.length,we=0;we<Me;we++)se.push(W(pe[we]));return se.join("")}function O(pe,se){return pe+se&4294967295}function N(pe,se,Me,we,ne,ye,Re){return function je(Ee,st,it){return O(Ee<<st|Ee>>>32-st,it)}(function Ae(Ee,st,it,Ue){return O(O(st,Ee),O(it,Ue))}(pe,se,we,ye),ne,Me)}var M=function(pe,se,Me,we,ne,ye,Re,je){return N(Me&we|~Me&ne,se,Me,ye,Re,je)},_=function(pe,se,Me,we,ne,ye,Re,je){return N(Me&ne|we&~ne,se,Me,ye,Re,je)},A=function(pe,se,Me,we,ne,ye,Re,je){return N(Me^we^ne,se,Me,ye,Re,je)},S=function(pe,se,Me,we,ne,ye,Re,je){return N(we^(Me|~ne),se,Me,ye,Re,je)};function P(pe,se,Me){Me||(Me=O);let we=pe[0],ne=pe[1],ye=pe[2],Re=pe[3];var je=M.bind(null,Me);we=je(we,ne,ye,Re,se[0],7,-680876936),Re=je(Re,we,ne,ye,se[1],12,-389564586),ye=je(ye,Re,we,ne,se[2],17,606105819),ne=je(ne,ye,Re,we,se[3],22,-1044525330),we=je(we,ne,ye,Re,se[4],7,-176418897),Re=je(Re,we,ne,ye,se[5],12,1200080426),ye=je(ye,Re,we,ne,se[6],17,-1473231341),ne=je(ne,ye,Re,we,se[7],22,-45705983),we=je(we,ne,ye,Re,se[8],7,1770035416),Re=je(Re,we,ne,ye,se[9],12,-1958414417),ye=je(ye,Re,we,ne,se[10],17,-42063),ne=je(ne,ye,Re,we,se[11],22,-1990404162),we=je(we,ne,ye,Re,se[12],7,1804603682),Re=je(Re,we,ne,ye,se[13],12,-40341101),ye=je(ye,Re,we,ne,se[14],17,-1502002290),ne=je(ne,ye,Re,we,se[15],22,1236535329);var Ae=_.bind(null,Me);we=Ae(we,ne,ye,Re,se[1],5,-165796510),Re=Ae(Re,we,ne,ye,se[6],9,-1069501632),ye=Ae(ye,Re,we,ne,se[11],14,643717713),ne=Ae(ne,ye,Re,we,se[0],20,-373897302),we=Ae(we,ne,ye,Re,se[5],5,-701558691),Re=Ae(Re,we,ne,ye,se[10],9,38016083),ye=Ae(ye,Re,we,ne,se[15],14,-660478335),ne=Ae(ne,ye,Re,we,se[4],20,-405537848),we=Ae(we,ne,ye,Re,se[9],5,568446438),Re=Ae(Re,we,ne,ye,se[14],9,-1019803690),ye=Ae(ye,Re,we,ne,se[3],14,-187363961),ne=Ae(ne,ye,Re,we,se[8],20,1163531501),we=Ae(we,ne,ye,Re,se[13],5,-1444681467),Re=Ae(Re,we,ne,ye,se[2],9,-51403784),ye=Ae(ye,Re,we,ne,se[7],14,1735328473),ne=Ae(ne,ye,Re,we,se[12],20,-1926607734);var Ee=A.bind(null,Me);we=Ee(we,ne,ye,Re,se[5],4,-378558),Re=Ee(Re,we,ne,ye,se[8],11,-2022574463),ye=Ee(ye,Re,we,ne,se[11],16,1839030562),ne=Ee(ne,ye,Re,we,se[14],23,-35309556),we=Ee(we,ne,ye,Re,se[1],4,-1530992060),Re=Ee(Re,we,ne,ye,se[4],11,1272893353),ye=Ee(ye,Re,we,ne,se[7],16,-155497632),ne=Ee(ne,ye,Re,we,se[10],23,-1094730640),we=Ee(we,ne,ye,Re,se[13],4,681279174),Re=Ee(Re,we,ne,ye,se[0],11,-358537222),ye=Ee(ye,Re,we,ne,se[3],16,-722521979),ne=Ee(ne,ye,Re,we,se[6],23,76029189),we=Ee(we,ne,ye,Re,se[9],4,-640364487),Re=Ee(Re,we,ne,ye,se[12],11,-421815835),ye=Ee(ye,Re,we,ne,se[15],16,530742520),ne=Ee(ne,ye,Re,we,se[2],23,-995338651);var st=S.bind(null,Me);we=st(we,ne,ye,Re,se[0],6,-198630844),Re=st(Re,we,ne,ye,se[7],10,1126891415),ye=st(ye,Re,we,ne,se[14],15,-1416354905),ne=st(ne,ye,Re,we,se[5],21,-57434055),we=st(we,ne,ye,Re,se[12],6,1700485571),Re=st(Re,we,ne,ye,se[3],10,-1894986606),ye=st(ye,Re,we,ne,se[10],15,-1051523),ne=st(ne,ye,Re,we,se[1],21,-2054922799),we=st(we,ne,ye,Re,se[8],6,1873313359),Re=st(Re,we,ne,ye,se[15],10,-30611744),ye=st(ye,Re,we,ne,se[6],15,-1560198380),ne=st(ne,ye,Re,we,se[13],21,1309151649),we=st(we,ne,ye,Re,se[4],6,-145523070),Re=st(Re,we,ne,ye,se[11],10,-1120210379),ye=st(ye,Re,we,ne,se[2],15,718787259),ne=st(ne,ye,Re,we,se[9],21,-343485551),pe[0]=Me(we,pe[0]),pe[1]=Me(ne,pe[1]),pe[2]=Me(ye,pe[2]),pe[3]=Me(Re,pe[3])}function H(pe){for(var se=[],Me=0;Me<64;Me+=4)se[Me>>2]=pe.charCodeAt(Me)+(pe.charCodeAt(Me+1)<<8)+(pe.charCodeAt(Me+2)<<16)+(pe.charCodeAt(Me+3)<<24);return se}function X(pe,se){let Me;const we=pe.length,ne=[1732584193,-271733879,-1732584194,271733878];for(Me=64;Me<=we;Me+=64)P(ne,H(pe.substring(Me-64,Me)),se);const ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=(pe=pe.substring(Me-64)).length;let je;for(je=0;je<Re;je++)ye[je>>2]|=pe.charCodeAt(je)<<(je%4<<3);if(ye[je>>2]|=128<<(je%4<<3),je>55)for(P(ne,ye,se),je=16;je--;)ye[je]=0;return ye[14]=8*we,P(ne,ye,se),ne}Y.md5=function be(pe){if(!pe)return"";let se;return"5d41402abc4b2a76b9719d911017c592"!==V(X("hello"))&&(se=function(Me,we){const ne=(65535&Me)+(65535&we);return(Me>>16)+(we>>16)+(ne>>16)<<16|65535&ne}),V(X(pe,se))}}(d=c.Utils||(c.Utils={}))}(C||(C={})),function(c){let d;!function(Y){function W(V,O,N,M,_,A){_||(_=N.name||"#"+Y.md5(N.toString())),setTimeout(()=>{try{V.debug(`Calling callback: type=${O} name=${_} reason=${A}`),N(M)}catch(S){V.error(`Error in callback: type=${O} name=${_} reason=${A}`),V.debug(N.toString());const P=S;"message"in P&&V.error(P.message),"fileName"in S&&V.error("in "+S.fileName+":"+S.lineNumber),"stack"in P&&V.error(P.stack)}},0)}Y.safeCallback=function U(V,O,N,M,_){return function(A){W(V,O,N,A,M,_)}},Y.safeCall=W}(d=c.Utils||(c.Utils={}))}(C||(C={})),function(c){let d;(d=c.Utils||(c.Utils={})).uuidv4=function W(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(V){return(V^function U(){return window.crypto||window.msCrypto}().getRandomValues(new Uint8Array(1))[0]&15>>V/4).toString(16)})}}(C||(C={})),function(c){let d;!function(Y){let U;(U=Y.Internal||(Y.Internal={})).getDeviceInfo=function M(_){const A=function N(_){return"string"==typeof _.validator_privacy_policy?_.validator_privacy_policy.split(","):function V(_){return"[object Array]"===Object.prototype.toString.call(_)}(_.validator_privacy_policy)?_.validator_privacy_policy:["analytics","support","fraud"]}(_);function S(pe){return A.indexOf(pe)>=0}const P={plugin:"cordova-plugin-purchase/"+c.PLUGIN_VERSION},H=window,X=function O(_){return"[object Object]"===Object.prototype.toString.call(_)}(H.device)?H.device:{};if(S("analytics")||S("support")){const pe=H.Ionic||H.ionic;pe&&pe.version&&(P.ionic=pe.version),X.cordova&&(P.cordova=X.cordova),X.model&&(P.model=X.model),X.platform&&(P.platform=X.platform),X.version&&(P.version=X.version),X.manufacturer&&(P.manufacturer=X.manufacturer)}if(S("tracking")&&(X.serial&&(P.serial=X.serial),X.uuid&&(P.uuid=X.uuid)),X.isVirtual&&(P.isVirtual=X.isVirtual),S("fraud")){var be="";X.serial?be="serial:"+X.serial:X.uuid?be="uuid:"+X.uuid:(X.model&&(be+="/"+X.model),X.manufacturer&&(be="/"+X.manufacturer)),be&&(P.fingerprint=c.Utils.md5(be))}return P}}(d=c.Validator||(c.Validator={}))}(C||(C={})),function(c){let d;!function(Y){let U;U=Y.Request||(Y.Request={})}(d=c.Validator||(c.Validator={}))}(C||(C={})),function(c){c.VerifiedReceipt=class d{constructor(U,W,V){var O;this.className="VerifiedReceipt",this.id=W.id,this.sourceReceipt=U,this.collection=null!==(O=W.collection)&&void 0!==O?O:[],this.latestReceipt=W.latest_receipt,this.nativeTransactions=[W.transaction],this.warning=W.warning,Object.defineProperty(this,"raw",{enumerable:!1,get:()=>W}),Object.defineProperty(this,"finish",{enumerable:!1,get(){return()=>V.finish(this)}})}get platform(){return this.sourceReceipt.platform}get raw(){return{}}set(U,W){var V;this.id=W.id,this.sourceReceipt=U,this.collection=null!==(V=W.collection)&&void 0!==V?V:[],this.latestReceipt=W.latest_receipt,this.nativeTransactions=[W.transaction],this.warning=W.warning}finish(){return lt(this,void 0,void 0,function*(){})}}}(C||(C={}))},5619:(lt,rt,C)=>{"use strict";C.d(rt,{X:()=>d});var c=C(8645);class d extends c.x{constructor(U){super(),this._value=U}get value(){return this.getValue()}_subscribe(U){const W=super._subscribe(U);return!W.closed&&U.next(this._value),W}getValue(){const{hasError:U,thrownError:W,_value:V}=this;if(U)throw W;return this._throwIfClosed(),V}next(U){super.next(this._value=U)}}},5592:(lt,rt,C)=>{"use strict";C.d(rt,{y:()=>N});var c=C(1887),d=C(7394),Y=C(4850),U=C(8407),W=C(2653),V=C(4674),O=C(1441);let N=(()=>{class S{constructor(H){H&&(this._subscribe=H)}lift(H){const X=new S;return X.source=this,X.operator=H,X}subscribe(H,X,be){const pe=function A(S){return S&&S instanceof c.Lv||function _(S){return S&&(0,V.m)(S.next)&&(0,V.m)(S.error)&&(0,V.m)(S.complete)}(S)&&(0,d.Nn)(S)}(H)?H:new c.Hp(H,X,be);return(0,O.x)(()=>{const{operator:se,source:Me}=this;pe.add(se?se.call(pe,Me):Me?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(H){try{return this._subscribe(H)}catch(X){H.error(X)}}forEach(H,X){return new(X=M(X))((be,pe)=>{const se=new c.Hp({next:Me=>{try{H(Me)}catch(we){pe(we),se.unsubscribe()}},error:pe,complete:be});this.subscribe(se)})}_subscribe(H){var X;return null===(X=this.source)||void 0===X?void 0:X.subscribe(H)}[Y.L](){return this}pipe(...H){return(0,U.U)(H)(this)}toPromise(H){return new(H=M(H))((X,be)=>{let pe;this.subscribe(se=>pe=se,se=>be(se),()=>X(pe))})}}return S.create=P=>new S(P),S})();function M(S){var P;return null!==(P=null!=S?S:W.config.Promise)&&void 0!==P?P:Promise}},8645:(lt,rt,C)=>{"use strict";C.d(rt,{x:()=>O});var c=C(5592),d=C(7394);const U=(0,C(2306).d)(M=>function(){M(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=C(9039),V=C(1441);let O=(()=>{class M extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(A){const S=new N(this,this);return S.operator=A,S}_throwIfClosed(){if(this.closed)throw new U}next(A){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const S of this.currentObservers)S.next(A)}})}error(A){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=A;const{observers:S}=this;for(;S.length;)S.shift().error(A)}})}complete(){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:A}=this;for(;A.length;)A.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var A;return(null===(A=this.observers)||void 0===A?void 0:A.length)>0}_trySubscribe(A){return this._throwIfClosed(),super._trySubscribe(A)}_subscribe(A){return this._throwIfClosed(),this._checkFinalizedStatuses(A),this._innerSubscribe(A)}_innerSubscribe(A){const{hasError:S,isStopped:P,observers:H}=this;return S||P?d.Lc:(this.currentObservers=null,H.push(A),new d.w0(()=>{this.currentObservers=null,(0,W.P)(H,A)}))}_checkFinalizedStatuses(A){const{hasError:S,thrownError:P,isStopped:H}=this;S?A.error(P):H&&A.complete()}asObservable(){const A=new c.y;return A.source=this,A}}return M.create=(_,A)=>new N(_,A),M})();class N extends O{constructor(_,A){super(),this.destination=_,this.source=A}next(_){var A,S;null===(S=null===(A=this.destination)||void 0===A?void 0:A.next)||void 0===S||S.call(A,_)}error(_){var A,S;null===(S=null===(A=this.destination)||void 0===A?void 0:A.error)||void 0===S||S.call(A,_)}complete(){var _,A;null===(A=null===(_=this.destination)||void 0===_?void 0:_.complete)||void 0===A||A.call(_)}_subscribe(_){var A,S;return null!==(S=null===(A=this.source)||void 0===A?void 0:A.subscribe(_))&&void 0!==S?S:d.Lc}}},1887:(lt,rt,C)=>{"use strict";C.d(rt,{Hp:()=>be,Lv:()=>S});var c=C(4674),d=C(7394),Y=C(2653),U=C(3894);function W(){}const V=M("C",void 0,void 0);function M(ne,ye,Re){return{kind:ne,value:ye,error:Re}}var _=C(7599),A=C(1441);class S extends d.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,d.Nn)(ye)&&ye.add(this)):this.destination=we}static create(ye,Re,je){return new be(ye,Re,je)}next(ye){this.isStopped?Me(function N(ne){return M("N",ne,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Me(function O(ne){return M("E",void 0,ne)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Me(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const P=Function.prototype.bind;function H(ne,ye){return P.call(ne,ye)}class X{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:Re}=this;if(Re.next)try{Re.next(ye)}catch(je){pe(je)}}error(ye){const{partialObserver:Re}=this;if(Re.error)try{Re.error(ye)}catch(je){pe(je)}else pe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(Re){pe(Re)}}}class be extends S{constructor(ye,Re,je){let Ae;if(super(),(0,c.m)(ye)||!ye)Ae={next:null!=ye?ye:void 0,error:null!=Re?Re:void 0,complete:null!=je?je:void 0};else{let Ee;this&&Y.config.useDeprecatedNextContext?(Ee=Object.create(ye),Ee.unsubscribe=()=>this.unsubscribe(),Ae={next:ye.next&&H(ye.next,Ee),error:ye.error&&H(ye.error,Ee),complete:ye.complete&&H(ye.complete,Ee)}):Ae=ye}this.destination=new X(Ae)}}function pe(ne){Y.config.useDeprecatedSynchronousErrorHandling?(0,A.O)(ne):(0,U.h)(ne)}function Me(ne,ye){const{onStoppedNotification:Re}=Y.config;Re&&_.z.setTimeout(()=>Re(ne,ye))}const we={closed:!0,next:W,error:function se(ne){throw ne},complete:W}},7394:(lt,rt,C)=>{"use strict";C.d(rt,{Lc:()=>V,w0:()=>W,Nn:()=>O});var c=C(4674);const Y=(0,C(2306).d)(M=>function(A){M(this),this.message=A?`${A.length} errors occurred during unsubscription:\n${A.map((S,P)=>`${P+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=A});var U=C(9039);class W{constructor(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _;if(!this.closed){this.closed=!0;const{_parentage:A}=this;if(A)if(this._parentage=null,Array.isArray(A))for(const H of A)H.remove(this);else A.remove(this);const{initialTeardown:S}=this;if((0,c.m)(S))try{S()}catch(H){_=H instanceof Y?H.errors:[H]}const{_finalizers:P}=this;if(P){this._finalizers=null;for(const H of P)try{N(H)}catch(X){_=null!=_?_:[],X instanceof Y?_=[..._,...X.errors]:_.push(X)}}if(_)throw new Y(_)}}add(_){var A;if(_&&_!==this)if(this.closed)N(_);else{if(_ instanceof W){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=null!==(A=this._finalizers)&&void 0!==A?A:[]).push(_)}}_hasParent(_){const{_parentage:A}=this;return A===_||Array.isArray(A)&&A.includes(_)}_addParent(_){const{_parentage:A}=this;this._parentage=Array.isArray(A)?(A.push(_),A):A?[A,_]:_}_removeParent(_){const{_parentage:A}=this;A===_?this._parentage=null:Array.isArray(A)&&(0,U.P)(A,_)}remove(_){const{_finalizers:A}=this;A&&(0,U.P)(A,_),_ instanceof W&&_._removeParent(this)}}W.EMPTY=(()=>{const M=new W;return M.closed=!0,M})();const V=W.EMPTY;function O(M){return M instanceof W||M&&"closed"in M&&(0,c.m)(M.remove)&&(0,c.m)(M.add)&&(0,c.m)(M.unsubscribe)}function N(M){(0,c.m)(M)?M():M.unsubscribe()}},2653:(lt,rt,C)=>{"use strict";C.d(rt,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(lt,rt,C)=>{"use strict";C.d(rt,{z:()=>W});var c=C(7537),Y=C(4564),U=C(2459);function W(...V){return function d(){return(0,c.J)(1)}()((0,U.D)(V,(0,Y.yG)(V)))}},6232:(lt,rt,C)=>{"use strict";C.d(rt,{E:()=>d});const d=new(C(5592).y)(W=>W.complete())},2459:(lt,rt,C)=>{"use strict";C.d(rt,{D:()=>ye});var c=C(4829),d=C(3093),Y=C(5137),V=C(5592),N=C(4971),M=C(4674),_=C(7103);function S(Re,je){if(!Re)throw new Error("Iterable cannot be null");return new V.y(Ae=>{(0,_.f)(Ae,je,()=>{const Ee=Re[Symbol.asyncIterator]();(0,_.f)(Ae,je,()=>{Ee.next().then(st=>{st.done?Ae.complete():Ae.next(st.value)})},0,!0)})})}var P=C(8382),H=C(4026),X=C(4266),be=C(3664),pe=C(5726),se=C(9853),Me=C(541);function ye(Re,je){return je?function ne(Re,je){if(null!=Re){if((0,P.c)(Re))return function U(Re,je){return(0,c.Xf)(Re).pipe((0,Y.R)(je),(0,d.Q)(je))}(Re,je);if((0,X.z)(Re))return function O(Re,je){return new V.y(Ae=>{let Ee=0;return je.schedule(function(){Ee===Re.length?Ae.complete():(Ae.next(Re[Ee++]),Ae.closed||this.schedule())})})}(Re,je);if((0,H.t)(Re))return function W(Re,je){return(0,c.Xf)(Re).pipe((0,Y.R)(je),(0,d.Q)(je))}(Re,je);if((0,pe.D)(Re))return S(Re,je);if((0,be.T)(Re))return function A(Re,je){return new V.y(Ae=>{let Ee;return(0,_.f)(Ae,je,()=>{Ee=Re[N.h](),(0,_.f)(Ae,je,()=>{let st,it;try{({value:st,done:it}=Ee.next())}catch(Ue){return void Ae.error(Ue)}it?Ae.complete():Ae.next(st)},0,!0)}),()=>(0,M.m)(null==Ee?void 0:Ee.return)&&Ee.return()})}(Re,je);if((0,Me.L)(Re))return function we(Re,je){return S((0,Me.Q)(Re),je)}(Re,je)}throw(0,se.z)(Re)}(Re,je):(0,c.Xf)(Re)}},4829:(lt,rt,C)=>{"use strict";C.d(rt,{Xf:()=>P});var c=C(7582),d=C(4266),Y=C(4026),U=C(5592),W=C(8382),V=C(5726),O=C(9853),N=C(3664),M=C(541),_=C(4674),A=C(3894),S=C(4850);function P(ne){if(ne instanceof U.y)return ne;if(null!=ne){if((0,W.c)(ne))return function H(ne){return new U.y(ye=>{const Re=ne[S.L]();if((0,_.m)(Re.subscribe))return Re.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,d.z)(ne))return function X(ne){return new U.y(ye=>{for(let Re=0;Re<ne.length&&!ye.closed;Re++)ye.next(ne[Re]);ye.complete()})}(ne);if((0,Y.t)(ne))return function be(ne){return new U.y(ye=>{ne.then(Re=>{ye.closed||(ye.next(Re),ye.complete())},Re=>ye.error(Re)).then(null,A.h)})}(ne);if((0,V.D)(ne))return se(ne);if((0,N.T)(ne))return function pe(ne){return new U.y(ye=>{for(const Re of ne)if(ye.next(Re),ye.closed)return;ye.complete()})}(ne);if((0,M.L)(ne))return function Me(ne){return se((0,M.Q)(ne))}(ne)}throw(0,O.z)(ne)}function se(ne){return new U.y(ye=>{(function we(ne,ye){var Re,je,Ae,Ee;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Re=(0,c.KL)(ne);!(je=yield Re.next()).done;)if(ye.next(je.value),ye.closed)return}catch(st){Ae={error:st}}finally{try{je&&!je.done&&(Ee=Re.return)&&(yield Ee.call(Re))}finally{if(Ae)throw Ae.error}}ye.complete()})})(ne,ye).catch(Re=>ye.error(Re))})}},2096:(lt,rt,C)=>{"use strict";C.d(rt,{of:()=>Y});var c=C(4564),d=C(2459);function Y(...U){const W=(0,c.yG)(U);return(0,d.D)(U,W)}},8251:(lt,rt,C)=>{"use strict";C.d(rt,{Q:()=>Y,x:()=>d});var c=C(1887);function d(U,W,V,O,N){return new Y(U,W,V,O,N)}class Y extends c.Lv{constructor(W,V,O,N,M,_){super(W),this.onFinalize=M,this.shouldUnsubscribe=_,this._next=V?function(A){try{V(A)}catch(S){W.error(S)}}:super._next,this._error=N?function(A){try{N(A)}catch(S){W.error(S)}finally{this.unsubscribe()}}:super._error,this._complete=O?function(){try{O()}catch(A){W.error(A)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:V}=this;super.unsubscribe(),!V&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},6306:(lt,rt,C)=>{"use strict";C.d(rt,{K:()=>U});var c=C(4829),d=C(8251),Y=C(9360);function U(W){return(0,Y.e)((V,O)=>{let _,N=null,M=!1;N=V.subscribe((0,d.x)(O,void 0,void 0,A=>{_=(0,c.Xf)(W(A,U(W)(V))),N?(N.unsubscribe(),N=null,_.subscribe(O)):M=!0})),M&&(N.unsubscribe(),N=null,_.subscribe(O))})}},6328:(lt,rt,C)=>{"use strict";C.d(rt,{b:()=>Y});var c=C(1631),d=C(4674);function Y(U,W){return(0,d.m)(W)?(0,c.z)(U,W,1):(0,c.z)(U,1)}},3997:(lt,rt,C)=>{"use strict";C.d(rt,{x:()=>U});var c=C(2737),d=C(9360),Y=C(8251);function U(V,O=c.y){return V=null!=V?V:W,(0,d.e)((N,M)=>{let _,A=!0;N.subscribe((0,Y.x)(M,S=>{const P=O(S);(A||!V(_,P))&&(A=!1,_=P,M.next(S))}))})}function W(V,O){return V===O}},2181:(lt,rt,C)=>{"use strict";C.d(rt,{h:()=>Y});var c=C(9360),d=C(8251);function Y(U,W){return(0,c.e)((V,O)=>{let N=0;V.subscribe((0,d.x)(O,M=>U.call(W,M,N++)&&O.next(M)))})}},4716:(lt,rt,C)=>{"use strict";C.d(rt,{x:()=>d});var c=C(9360);function d(Y){return(0,c.e)((U,W)=>{try{U.subscribe(W)}finally{W.add(Y)}})}},7398:(lt,rt,C)=>{"use strict";C.d(rt,{U:()=>Y});var c=C(9360),d=C(8251);function Y(U,W){return(0,c.e)((V,O)=>{let N=0;V.subscribe((0,d.x)(O,M=>{O.next(U.call(W,M,N++))}))})}},7537:(lt,rt,C)=>{"use strict";C.d(rt,{J:()=>Y});var c=C(1631),d=C(2737);function Y(U=1/0){return(0,c.z)(d.y,U)}},1631:(lt,rt,C)=>{"use strict";C.d(rt,{z:()=>N});var c=C(7398),d=C(4829),Y=C(9360),U=C(7103),W=C(8251),O=C(4674);function N(M,_,A=1/0){return(0,O.m)(_)?N((S,P)=>(0,c.U)((H,X)=>_(S,H,P,X))((0,d.Xf)(M(S,P))),A):("number"==typeof _&&(A=_),(0,Y.e)((S,P)=>function V(M,_,A,S,P,H,X,be){const pe=[];let se=0,Me=0,we=!1;const ne=()=>{we&&!pe.length&&!se&&_.complete()},ye=je=>se<S?Re(je):pe.push(je),Re=je=>{H&&_.next(je),se++;let Ae=!1;(0,d.Xf)(A(je,Me++)).subscribe((0,W.x)(_,Ee=>{null==P||P(Ee),H?ye(Ee):_.next(Ee)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(se--;pe.length&&se<S;){const Ee=pe.shift();X?(0,U.f)(_,X,()=>Re(Ee)):Re(Ee)}ne()}catch(Ee){_.error(Ee)}}))};return M.subscribe((0,W.x)(_,ye,()=>{we=!0,ne()})),()=>{null==be||be()}}(S,P,M,A)))}},3093:(lt,rt,C)=>{"use strict";C.d(rt,{Q:()=>U});var c=C(7103),d=C(9360),Y=C(8251);function U(W,V=0){return(0,d.e)((O,N)=>{O.subscribe((0,Y.x)(N,M=>(0,c.f)(N,W,()=>N.next(M),V),()=>(0,c.f)(N,W,()=>N.complete(),V),M=>(0,c.f)(N,W,()=>N.error(M),V)))})}},7921:(lt,rt,C)=>{"use strict";C.d(rt,{O:()=>U});var c=C(5211),d=C(4564),Y=C(9360);function U(...W){const V=(0,d.yG)(W);return(0,Y.e)((O,N)=>{(V?(0,c.z)(W,O,V):(0,c.z)(W,O)).subscribe(N)})}},5137:(lt,rt,C)=>{"use strict";C.d(rt,{R:()=>d});var c=C(9360);function d(Y,U=0){return(0,c.e)((W,V)=>{V.add(Y.schedule(()=>W.subscribe(V),U))})}},4664:(lt,rt,C)=>{"use strict";C.d(rt,{w:()=>U});var c=C(4829),d=C(9360),Y=C(8251);function U(W,V){return(0,d.e)((O,N)=>{let M=null,_=0,A=!1;const S=()=>A&&!M&&N.complete();O.subscribe((0,Y.x)(N,P=>{null==M||M.unsubscribe();let H=0;const X=_++;(0,c.Xf)(W(P,X)).subscribe(M=(0,Y.x)(N,be=>N.next(V?V(P,be,X,H++):be),()=>{M=null,S()}))},()=>{A=!0,S()}))})}},8180:(lt,rt,C)=>{"use strict";C.d(rt,{q:()=>U});var c=C(6232),d=C(9360),Y=C(8251);function U(W){return W<=0?()=>c.E:(0,d.e)((V,O)=>{let N=0;V.subscribe((0,Y.x)(O,M=>{++N<=W&&(O.next(M),W<=N&&O.complete())}))})}},9397:(lt,rt,C)=>{"use strict";C.d(rt,{b:()=>W});var c=C(4674),d=C(9360),Y=C(8251),U=C(2737);function W(V,O,N){const M=(0,c.m)(V)||O||N?{next:V,error:O,complete:N}:V;return M?(0,d.e)((_,A)=>{var S;null===(S=M.subscribe)||void 0===S||S.call(M);let P=!0;_.subscribe((0,Y.x)(A,H=>{var X;null===(X=M.next)||void 0===X||X.call(M,H),A.next(H)},()=>{var H;P=!1,null===(H=M.complete)||void 0===H||H.call(M),A.complete()},H=>{var X;P=!1,null===(X=M.error)||void 0===X||X.call(M,H),A.error(H)},()=>{var H,X;P&&(null===(H=M.unsubscribe)||void 0===H||H.call(M)),null===(X=M.finalize)||void 0===X||X.call(M)}))}):U.y}},1954:(lt,rt,C)=>{"use strict";C.d(rt,{o:()=>W});var c=C(7394);class d extends c.w0{constructor(O,N){super()}schedule(O,N=0){return this}}const Y={setInterval(V,O,...N){const{delegate:M}=Y;return null!=M&&M.setInterval?M.setInterval(V,O,...N):setInterval(V,O,...N)},clearInterval(V){const{delegate:O}=Y;return((null==O?void 0:O.clearInterval)||clearInterval)(V)},delegate:void 0};var U=C(9039);class W extends d{constructor(O,N){super(O,N),this.scheduler=O,this.work=N,this.pending=!1}schedule(O,N=0){var M;if(this.closed)return this;this.state=O;const _=this.id,A=this.scheduler;return null!=_&&(this.id=this.recycleAsyncId(A,_,N)),this.pending=!0,this.delay=N,this.id=null!==(M=this.id)&&void 0!==M?M:this.requestAsyncId(A,this.id,N),this}requestAsyncId(O,N,M=0){return Y.setInterval(O.flush.bind(O,this),M)}recycleAsyncId(O,N,M=0){if(null!=M&&this.delay===M&&!1===this.pending)return N;null!=N&&Y.clearInterval(N)}execute(O,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const M=this._execute(O,N);if(M)return M;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(O,N){let _,M=!1;try{this.work(O)}catch(A){M=!0,_=A||new Error("Scheduled action threw falsy error")}if(M)return this.unsubscribe(),_}unsubscribe(){if(!this.closed){const{id:O,scheduler:N}=this,{actions:M}=N;this.work=this.state=this.scheduler=null,this.pending=!1,(0,U.P)(M,this),null!=O&&(this.id=this.recycleAsyncId(N,O,null)),this.delay=null,super.unsubscribe()}}}},9931:(lt,rt,C)=>{"use strict";C.d(rt,{v:()=>Y});const c={now:()=>(c.delegate||Date).now(),delegate:void 0};class d{constructor(W,V=d.now){this.schedulerActionCtor=W,this.now=V}schedule(W,V=0,O){return new this.schedulerActionCtor(this,W).schedule(O,V)}}d.now=c.now;class Y extends d{constructor(W,V=d.now){super(W,V),this.actions=[],this._active=!1}flush(W){const{actions:V}=this;if(this._active)return void V.push(W);let O;this._active=!0;do{if(O=W.execute(W.state,W.delay))break}while(W=V.shift());if(this._active=!1,O){for(;W=V.shift();)W.unsubscribe();throw O}}}},6321:(lt,rt,C)=>{"use strict";C.d(rt,{z:()=>Y});var c=C(1954);const Y=new(C(9931).v)(c.o)},7599:(lt,rt,C)=>{"use strict";C.d(rt,{z:()=>c});const c={setTimeout(d,Y,...U){const{delegate:W}=c;return null!=W&&W.setTimeout?W.setTimeout(d,Y,...U):setTimeout(d,Y,...U)},clearTimeout(d){const{delegate:Y}=c;return((null==Y?void 0:Y.clearTimeout)||clearTimeout)(d)},delegate:void 0}},4971:(lt,rt,C)=>{"use strict";C.d(rt,{h:()=>d});const d=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(lt,rt,C)=>{"use strict";C.d(rt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(lt,rt,C)=>{"use strict";C.d(rt,{K:()=>d});const d=(0,C(2306).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(lt,rt,C)=>{"use strict";C.d(rt,{_6:()=>V,jO:()=>U,yG:()=>W});var c=C(4674);function Y(O){return O[O.length-1]}function U(O){return(0,c.m)(Y(O))?O.pop():void 0}function W(O){return function d(O){return O&&(0,c.m)(O.schedule)}(Y(O))?O.pop():void 0}function V(O,N){return"number"==typeof Y(O)?O.pop():N}},7453:(lt,rt,C)=>{"use strict";C.d(rt,{D:()=>W});const{isArray:c}=Array,{getPrototypeOf:d,prototype:Y,keys:U}=Object;function W(O){if(1===O.length){const N=O[0];if(c(N))return{args:N,keys:null};if(function V(O){return O&&"object"==typeof O&&d(O)===Y}(N)){const M=U(N);return{args:M.map(_=>N[_]),keys:M}}}return{args:O,keys:null}}},9039:(lt,rt,C)=>{"use strict";function c(d,Y){if(d){const U=d.indexOf(Y);0<=U&&d.splice(U,1)}}C.d(rt,{P:()=>c})},2306:(lt,rt,C)=>{"use strict";function c(d){const U=d(W=>{Error.call(W),W.stack=(new Error).stack});return U.prototype=Object.create(Error.prototype),U.prototype.constructor=U,U}C.d(rt,{d:()=>c})},2714:(lt,rt,C)=>{"use strict";function c(d,Y){return d.reduce((U,W,V)=>(U[W]=Y[V],U),{})}C.d(rt,{n:()=>c})},1441:(lt,rt,C)=>{"use strict";C.d(rt,{O:()=>U,x:()=>Y});var c=C(2653);let d=null;function Y(W){if(c.config.useDeprecatedSynchronousErrorHandling){const V=!d;if(V&&(d={errorThrown:!1,error:null}),W(),V){const{errorThrown:O,error:N}=d;if(d=null,O)throw N}}else W()}function U(W){c.config.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=W)}},7103:(lt,rt,C)=>{"use strict";function c(d,Y,U,W=0,V=!1){const O=Y.schedule(function(){U(),V?d.add(this.schedule(null,W)):this.unsubscribe()},W);if(d.add(O),!V)return O}C.d(rt,{f:()=>c})},2737:(lt,rt,C)=>{"use strict";function c(d){return d}C.d(rt,{y:()=>c})},4266:(lt,rt,C)=>{"use strict";C.d(rt,{z:()=>c});const c=d=>d&&"number"==typeof d.length&&"function"!=typeof d},5726:(lt,rt,C)=>{"use strict";C.d(rt,{D:()=>d});var c=C(4674);function d(Y){return Symbol.asyncIterator&&(0,c.m)(null==Y?void 0:Y[Symbol.asyncIterator])}},4674:(lt,rt,C)=>{"use strict";function c(d){return"function"==typeof d}C.d(rt,{m:()=>c})},8382:(lt,rt,C)=>{"use strict";C.d(rt,{c:()=>Y});var c=C(4850),d=C(4674);function Y(U){return(0,d.m)(U[c.L])}},3664:(lt,rt,C)=>{"use strict";C.d(rt,{T:()=>Y});var c=C(4971),d=C(4674);function Y(U){return(0,d.m)(null==U?void 0:U[c.h])}},4026:(lt,rt,C)=>{"use strict";C.d(rt,{t:()=>d});var c=C(4674);function d(Y){return(0,c.m)(null==Y?void 0:Y.then)}},541:(lt,rt,C)=>{"use strict";C.d(rt,{L:()=>U,Q:()=>Y});var c=C(7582),d=C(4674);function Y(W){return(0,c.FC)(this,arguments,function*(){const O=W.getReader();try{for(;;){const{value:N,done:M}=yield(0,c.qq)(O.read());if(M)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(N)}}finally{O.releaseLock()}})}function U(W){return(0,d.m)(null==W?void 0:W.getReader)}},9360:(lt,rt,C)=>{"use strict";C.d(rt,{A:()=>d,e:()=>Y});var c=C(4674);function d(U){return(0,c.m)(null==U?void 0:U.lift)}function Y(U){return W=>{if(d(W))return W.lift(function(V){try{return U(V,this)}catch(O){this.error(O)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(lt,rt,C)=>{"use strict";C.d(rt,{Z:()=>U});var c=C(7398);const{isArray:d}=Array;function U(W){return(0,c.U)(V=>function Y(W,V){return d(V)?W(...V):W(V)}(W,V))}},8407:(lt,rt,C)=>{"use strict";C.d(rt,{U:()=>Y,z:()=>d});var c=C(2737);function d(...U){return Y(U)}function Y(U){return 0===U.length?c.y:1===U.length?U[0]:function(V){return U.reduce((O,N)=>N(O),V)}}},3894:(lt,rt,C)=>{"use strict";C.d(rt,{h:()=>Y});var c=C(2653),d=C(7599);function Y(U){d.z.setTimeout(()=>{const{onUnhandledError:W}=c.config;if(!W)throw U;W(U)})}},9853:(lt,rt,C)=>{"use strict";function c(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(rt,{z:()=>c})},9128:(lt,rt,C)=>{var c=C(9864),d=C(3919),Y=C(3263),U=C(5353),W=C(3358),V=C(3789),O=C(2508);O.alea=c,O.xor128=d,O.xorwow=Y,O.xorshift7=U,O.xor4096=W,O.tychei=V,lt.exports=O},9864:function(lt,rt,C){var c;!function(d,Y,U){function W(M){var _=this,A=function N(){var M=4022871197;return function(A){A=String(A);for(var S=0;S<A.length;S++){var P=.02519603282416938*(M+=A.charCodeAt(S));P-=M=P>>>0,M=(P*=M)>>>0,M+=4294967296*(P-=M)}return 2.3283064365386963e-10*(M>>>0)}}();_.next=function(){var S=2091639*_.s0+2.3283064365386963e-10*_.c;return _.s0=_.s1,_.s1=_.s2,_.s2=S-(_.c=0|S)},_.c=1,_.s0=A(" "),_.s1=A(" "),_.s2=A(" "),_.s0-=A(M),_.s0<0&&(_.s0+=1),_.s1-=A(M),_.s1<0&&(_.s1+=1),_.s2-=A(M),_.s2<0&&(_.s2+=1),A=null}function V(M,_){return _.c=M.c,_.s0=M.s0,_.s1=M.s1,_.s2=M.s2,_}function O(M,_){var A=new W(M),S=_&&_.state,P=A.next;return P.int32=function(){return 4294967296*A.next()|0},P.double=function(){return P()+11102230246251565e-32*(2097152*P()|0)},P.quick=P,S&&("object"==typeof S&&V(S,A),P.state=function(){return V(A,{})}),P}Y&&Y.exports?Y.exports=O:C.amdD&&C.amdO?void 0!==(c=function(){return O}.call(rt,C,rt,Y))&&(Y.exports=c):this.alea=O}(0,lt=C.nmd(lt))},3789:function(lt,rt,C){var c;!function(d,Y,U){function W(N){var M=this,_="";M.next=function(){var S=M.b,P=M.c,H=M.d,X=M.a;return S=S<<25^S>>>7^P,P=P-H|0,H=H<<24^H>>>8^X,X=X-S|0,M.b=S=S<<20^S>>>12^P,M.c=P=P-H|0,M.d=H<<16^P>>>16^X,M.a=X-S|0},M.a=0,M.b=0,M.c=-1640531527,M.d=1367130551,N===Math.floor(N)?(M.a=N/4294967296|0,M.b=0|N):_+=N;for(var A=0;A<_.length+20;A++)M.b^=0|_.charCodeAt(A),M.next()}function V(N,M){return M.a=N.a,M.b=N.b,M.c=N.c,M.d=N.d,M}function O(N,M){var _=new W(N),A=M&&M.state,S=function(){return(_.next()>>>0)/4294967296};return S.double=function(){do{var X=((_.next()>>>11)+(_.next()>>>0)/4294967296)/(1<<21)}while(0===X);return X},S.int32=_.next,S.quick=S,A&&("object"==typeof A&&V(A,_),S.state=function(){return V(_,{})}),S}Y&&Y.exports?Y.exports=O:C.amdD&&C.amdO?void 0!==(c=function(){return O}.call(rt,C,rt,Y))&&(Y.exports=c):this.tychei=O}(0,lt=C.nmd(lt))},3919:function(lt,rt,C){var c;!function(d,Y,U){function W(N){var M=this,_="";M.x=0,M.y=0,M.z=0,M.w=0,M.next=function(){var S=M.x^M.x<<11;return M.x=M.y,M.y=M.z,M.z=M.w,M.w^=M.w>>>19^S^S>>>8},N===(0|N)?M.x=N:_+=N;for(var A=0;A<_.length+64;A++)M.x^=0|_.charCodeAt(A),M.next()}function V(N,M){return M.x=N.x,M.y=N.y,M.z=N.z,M.w=N.w,M}function O(N,M){var _=new W(N),A=M&&M.state,S=function(){return(_.next()>>>0)/4294967296};return S.double=function(){do{var X=((_.next()>>>11)+(_.next()>>>0)/4294967296)/(1<<21)}while(0===X);return X},S.int32=_.next,S.quick=S,A&&("object"==typeof A&&V(A,_),S.state=function(){return V(_,{})}),S}Y&&Y.exports?Y.exports=O:C.amdD&&C.amdO?void 0!==(c=function(){return O}.call(rt,C,rt,Y))&&(Y.exports=c):this.xor128=O}(0,lt=C.nmd(lt))},3358:function(lt,rt,C){var c;!function(d,Y,U){function W(N){var M=this;M.next=function(){var H,X,A=M.w,S=M.X,P=M.i;return M.w=A=A+1640531527|0,X=S[P+34&127],H=S[P=P+1&127],X^=X<<13,H^=H<<17,X=S[P]=(X^=X>>>15)^(H^=H>>>12),M.i=P,X+(A^A>>>16)|0},function _(A,S){var P,H,X,be,pe,se=[],Me=128;for(S===(0|S)?(H=S,S=null):(S+="\0",H=0,Me=Math.max(Me,S.length)),X=0,be=-32;be<Me;++be)S&&(H^=S.charCodeAt((be+32)%S.length)),0===be&&(pe=H),H^=H<<10,H^=H>>>15,H^=H<<4,H^=H>>>13,be>=0&&(X=0==(P=se[127&be]^=H+(pe=pe+1640531527|0))?X+1:0);for(X>=128&&(se[127&(S&&S.length||0)]=-1),X=127,be=512;be>0;--be)H=se[X+34&127],P=se[X=X+1&127],H^=H<<13,P^=P<<17,se[X]=(H^=H>>>15)^(P^=P>>>12);A.w=pe,A.X=se,A.i=X}(M,N)}function V(N,M){return M.i=N.i,M.w=N.w,M.X=N.X.slice(),M}function O(N,M){null==N&&(N=+new Date);var _=new W(N),A=M&&M.state,S=function(){return(_.next()>>>0)/4294967296};return S.double=function(){do{var X=((_.next()>>>11)+(_.next()>>>0)/4294967296)/(1<<21)}while(0===X);return X},S.int32=_.next,S.quick=S,A&&(A.X&&V(A,_),S.state=function(){return V(_,{})}),S}Y&&Y.exports?Y.exports=O:C.amdD&&C.amdO?void 0!==(c=function(){return O}.call(rt,C,rt,Y))&&(Y.exports=c):this.xor4096=O}(0,lt=C.nmd(lt))},5353:function(lt,rt,C){var c;!function(d,Y,U){function W(N){var M=this;M.next=function(){var P,H,A=M.x,S=M.i;return P=A[S],H=(P^=P>>>7)^P<<24,H^=(P=A[S+1&7])^P>>>10,H^=(P=A[S+3&7])^P>>>3,H^=(P=A[S+4&7])^P<<7,P=A[S+7&7],A[S]=H^=(P^=P<<13)^P<<9,M.i=S+1&7,H},function _(A,S){var P,X=[];if(S===(0|S))X[0]=S;else for(S=""+S,P=0;P<S.length;++P)X[7&P]=X[7&P]<<15^S.charCodeAt(P)+X[P+1&7]<<13;for(;X.length<8;)X.push(0);for(P=0;P<8&&0===X[P];++P);for(8==P&&(X[7]=-1),A.x=X,A.i=0,P=256;P>0;--P)A.next()}(M,N)}function V(N,M){return M.x=N.x.slice(),M.i=N.i,M}function O(N,M){null==N&&(N=+new Date);var _=new W(N),A=M&&M.state,S=function(){return(_.next()>>>0)/4294967296};return S.double=function(){do{var X=((_.next()>>>11)+(_.next()>>>0)/4294967296)/(1<<21)}while(0===X);return X},S.int32=_.next,S.quick=S,A&&(A.x&&V(A,_),S.state=function(){return V(_,{})}),S}Y&&Y.exports?Y.exports=O:C.amdD&&C.amdO?void 0!==(c=function(){return O}.call(rt,C,rt,Y))&&(Y.exports=c):this.xorshift7=O}(0,lt=C.nmd(lt))},3263:function(lt,rt,C){var c;!function(d,Y,U){function W(N){var M=this,_="";M.next=function(){var S=M.x^M.x>>>2;return M.x=M.y,M.y=M.z,M.z=M.w,M.w=M.v,(M.d=M.d+362437|0)+(M.v=M.v^M.v<<4^S^S<<1)|0},M.x=0,M.y=0,M.z=0,M.w=0,M.v=0,N===(0|N)?M.x=N:_+=N;for(var A=0;A<_.length+64;A++)M.x^=0|_.charCodeAt(A),A==_.length&&(M.d=M.x<<10^M.x>>>4),M.next()}function V(N,M){return M.x=N.x,M.y=N.y,M.z=N.z,M.w=N.w,M.v=N.v,M.d=N.d,M}function O(N,M){var _=new W(N),A=M&&M.state,S=function(){return(_.next()>>>0)/4294967296};return S.double=function(){do{var X=((_.next()>>>11)+(_.next()>>>0)/4294967296)/(1<<21)}while(0===X);return X},S.int32=_.next,S.quick=S,A&&("object"==typeof A&&V(A,_),S.state=function(){return V(_,{})}),S}Y&&Y.exports?Y.exports=O:C.amdD&&C.amdO?void 0!==(c=function(){return O}.call(rt,C,rt,Y))&&(Y.exports=c):this.xorwow=O}(0,lt=C.nmd(lt))},2508:function(lt,rt,C){var c;!function(d,Y,U){var P,W=256,M=U.pow(W,6),_=U.pow(2,52),A=2*_,S=W-1;function H(ne,ye,Re){var je=[],Ae=se(pe((ye=1==ye?{entropy:!0}:ye||{}).entropy?[ne,we(Y)]:null==ne?function Me(){try{var ne;return P&&(ne=P.randomBytes)?ne=ne(W):(ne=new Uint8Array(W),(d.crypto||d.msCrypto).getRandomValues(ne)),we(ne)}catch{var ye=d.navigator,Re=ye&&ye.plugins;return[+new Date,d,Re,d.screen,we(Y)]}}():ne,3),je),Ee=new X(je),st=function(){for(var it=Ee.g(6),Ue=M,Ie=0;it<_;)it=(it+Ie)*W,Ue*=W,Ie=Ee.g(1);for(;it>=A;)it/=2,Ue/=2,Ie>>>=1;return(it+Ie)/Ue};return st.int32=function(){return 0|Ee.g(4)},st.quick=function(){return Ee.g(4)/4294967296},st.double=st,se(we(Ee.S),Y),(ye.pass||Re||function(it,Ue,Ie,Pe){return Pe&&(Pe.S&&be(Pe,Ee),it.state=function(){return be(Ee,{})}),Ie?(U.random=it,Ue):it})(st,Ae,"global"in ye?ye.global:this==U,ye.state)}function X(ne){var ye,Re=ne.length,je=this,Ae=0,Ee=je.i=je.j=0,st=je.S=[];for(Re||(ne=[Re++]);Ae<W;)st[Ae]=Ae++;for(Ae=0;Ae<W;Ae++)st[Ae]=st[Ee=S&Ee+ne[Ae%Re]+(ye=st[Ae])],st[Ee]=ye;(je.g=function(it){for(var Ue,Ie=0,Pe=je.i,Je=je.j,ut=je.S;it--;)Ue=ut[Pe=S&Pe+1],Ie=Ie*W+ut[S&(ut[Pe]=ut[Je=S&Je+Ue])+(ut[Je]=Ue)];return je.i=Pe,je.j=Je,Ie})(W)}function be(ne,ye){return ye.i=ne.i,ye.j=ne.j,ye.S=ne.S.slice(),ye}function pe(ne,ye){var Ae,Re=[],je=typeof ne;if(ye&&"object"==je)for(Ae in ne)try{Re.push(pe(ne[Ae],ye-1))}catch{}return Re.length?Re:"string"==je?ne:ne+"\0"}function se(ne,ye){for(var je,Re=ne+"",Ae=0;Ae<Re.length;)ye[S&Ae]=S&(je^=19*ye[S&Ae])+Re.charCodeAt(Ae++);return we(ye)}function we(ne){return String.fromCharCode.apply(0,ne)}if(se(U.random(),Y),lt.exports){lt.exports=H;try{P=C(5042)}catch{}}else void 0!==(c=function(){return H}.call(rt,C,rt,lt))&&(lt.exports=c)}(typeof self<"u"?self:this,[],Math)},863:(lt,rt,C)=>{var c={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,3591,433],"./ion-datetime_3.entry.js":[7059,3591,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,3953],"./ion-loading.entry.js":[3483,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function d(Y){if(!C.o(c,Y))return Promise.resolve().then(()=>{var V=new Error("Cannot find module '"+Y+"'");throw V.code="MODULE_NOT_FOUND",V});var U=c[Y],W=U[0];return Promise.all(U.slice(1).map(C.e)).then(()=>C(W))}d.keys=()=>Object.keys(c),d.id=863,lt.exports=d},5e3:(lt,rt,C)=>{var c={"./lottie-player.entry.js":[482,482]};function d(Y){if(!C.o(c,Y))return Promise.resolve().then(()=>{var V=new Error("Cannot find module '"+Y+"'");throw V.code="MODULE_NOT_FOUND",V});var U=c[Y],W=U[0];return C.e(U[1]).then(()=>C(W))}d.keys=()=>Object.keys(c),d.id=5e3,lt.exports=d},5042:()=>{},6825:(lt,rt,C)=>{"use strict";C.d(rt,{LC:()=>d,SB:()=>M,X$:()=>U,ZE:()=>se,ZN:()=>pe,_j:()=>c,eR:()=>A,jt:()=>W,k1:()=>Me,l3:()=>Y,oB:()=>N,vP:()=>O});class c{}class d{}const Y="*";function U(we,ne){return{type:7,name:we,definitions:ne,options:{}}}function W(we,ne=null){return{type:4,styles:ne,timings:we}}function O(we,ne=null){return{type:2,steps:we,options:ne}}function N(we){return{type:6,styles:we,offset:null}}function M(we,ne,ye){return{type:0,name:we,styles:ne,options:ye}}function A(we,ne,ye=null){return{type:1,expr:we,animation:ne,options:ye}}class pe{constructor(ne=0,ye=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ne+ye}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ne=>ne()),this._onDoneFns=[])}onStart(ne){this._originalOnStartFns.push(ne),this._onStartFns.push(ne)}onDone(ne){this._originalOnDoneFns.push(ne),this._onDoneFns.push(ne)}onDestroy(ne){this._onDestroyFns.push(ne)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ne=>ne()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ne=>ne()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ne){this._position=this.totalTime?ne*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ne){const ye="start"==ne?this._onStartFns:this._onDoneFns;ye.forEach(Re=>Re()),ye.length=0}}class se{constructor(ne){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ne;let ye=0,Re=0,je=0;const Ae=this.players.length;0==Ae?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ee=>{Ee.onDone(()=>{++ye==Ae&&this._onFinish()}),Ee.onDestroy(()=>{++Re==Ae&&this._onDestroy()}),Ee.onStart(()=>{++je==Ae&&this._onStart()})}),this.totalTime=this.players.reduce((Ee,st)=>Math.max(Ee,st.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ne=>ne()),this._onDoneFns=[])}init(){this.players.forEach(ne=>ne.init())}onStart(ne){this._onStartFns.push(ne)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ne=>ne()),this._onStartFns=[])}onDone(ne){this._onDoneFns.push(ne)}onDestroy(ne){this._onDestroyFns.push(ne)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ne=>ne.play())}pause(){this.players.forEach(ne=>ne.pause())}restart(){this.players.forEach(ne=>ne.restart())}finish(){this._onFinish(),this.players.forEach(ne=>ne.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ne=>ne.destroy()),this._onDestroyFns.forEach(ne=>ne()),this._onDestroyFns=[])}reset(){this.players.forEach(ne=>ne.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ne){const ye=ne*this.totalTime;this.players.forEach(Re=>{const je=Re.totalTime?Math.min(1,ye/Re.totalTime):1;Re.setPosition(je)})}getPosition(){const ne=this.players.reduce((ye,Re)=>null===ye||Re.totalTime>ye.totalTime?Re:ye,null);return null!=ne?ne.getPosition():0}beforeDestroy(){this.players.forEach(ne=>{ne.beforeDestroy&&ne.beforeDestroy()})}triggerCallback(ne){const ye="start"==ne?this._onStartFns:this._onDoneFns;ye.forEach(Re=>Re()),ye.length=0}}const Me="!"},6814:(lt,rt,C)=>{"use strict";C.d(rt,{Do:()=>be,EM:()=>ss,H9:()=>ki,HT:()=>U,JF:()=>lo,K0:()=>V,Mx:()=>yr,O5:()=>wi,PC:()=>nt,PM:()=>yi,S$:()=>P,V_:()=>N,Ye:()=>pe,b0:()=>X,bD:()=>Ai,ez:()=>oo,mk:()=>Fr,q:()=>Y,sg:()=>mi,tP:()=>vt,uU:()=>ni,w_:()=>W});var c=C(6689);let d=null;function Y(){return d}function U(G){d||(d=G)}class W{}const V=new c.OlP("DocumentToken");let O=(()=>{class G{historyGo(Z){throw new Error("Not implemented")}}return G.\u0275fac=function(Z){return new(Z||G)},G.\u0275prov=c.Yz7({token:G,factory:function(){return(0,c.f3M)(M)},providedIn:"platform"}),G})();const N=new c.OlP("Location Initialized");let M=(()=>{class G extends O{constructor(){super(),this._doc=(0,c.f3M)(V),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(Z){const Se=Y().getGlobalEventTarget(this._doc,"window");return Se.addEventListener("popstate",Z,!1),()=>Se.removeEventListener("popstate",Z)}onHashChange(Z){const Se=Y().getGlobalEventTarget(this._doc,"window");return Se.addEventListener("hashchange",Z,!1),()=>Se.removeEventListener("hashchange",Z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Z){this._location.pathname=Z}pushState(Z,Se,Ze){this._history.pushState(Z,Se,Ze)}replaceState(Z,Se,Ze){this._history.replaceState(Z,Se,Ze)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Z=0){this._history.go(Z)}getState(){return this._history.state}}return G.\u0275fac=function(Z){return new(Z||G)},G.\u0275prov=c.Yz7({token:G,factory:function(){return new G},providedIn:"platform"}),G})();function _(G,ce){if(0==G.length)return ce;if(0==ce.length)return G;let Z=0;return G.endsWith("/")&&Z++,ce.startsWith("/")&&Z++,2==Z?G+ce.substring(1):1==Z?G+ce:G+"/"+ce}function A(G){const ce=G.match(/#|\?|$/),Z=ce&&ce.index||G.length;return G.slice(0,Z-("/"===G[Z-1]?1:0))+G.slice(Z)}function S(G){return G&&"?"!==G[0]?"?"+G:G}let P=(()=>{class G{historyGo(Z){throw new Error("Not implemented")}}return G.\u0275fac=function(Z){return new(Z||G)},G.\u0275prov=c.Yz7({token:G,factory:function(){return(0,c.f3M)(X)},providedIn:"root"}),G})();const H=new c.OlP("appBaseHref");let X=(()=>{class G extends P{constructor(Z,Se){var Ze,Vt,Xt;super(),this._platformLocation=Z,this._removeListenerFns=[],this._baseHref=null!==(Ze=null!==(Vt=null!=Se?Se:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Vt?Vt:null===(Xt=(0,c.f3M)(V).location)||void 0===Xt?void 0:Xt.origin)&&void 0!==Ze?Ze:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}prepareExternalUrl(Z){return _(this._baseHref,Z)}path(Z=!1){const Se=this._platformLocation.pathname+S(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&Z?`${Se}${Ze}`:Se}pushState(Z,Se,Ze,Vt){const Xt=this.prepareExternalUrl(Ze+S(Vt));this._platformLocation.pushState(Z,Se,Xt)}replaceState(Z,Se,Ze,Vt){const Xt=this.prepareExternalUrl(Ze+S(Vt));this._platformLocation.replaceState(Z,Se,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Z=0){var Se,Ze;null===(Se=(Ze=this._platformLocation).historyGo)||void 0===Se||Se.call(Ze,Z)}}return G.\u0275fac=function(Z){return new(Z||G)(c.LFG(O),c.LFG(H,8))},G.\u0275prov=c.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})(),be=(()=>{class G extends P{constructor(Z,Se){super(),this._platformLocation=Z,this._baseHref="",this._removeListenerFns=[],null!=Se&&(this._baseHref=Se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}path(Z=!1){let Se=this._platformLocation.hash;return null==Se&&(Se="#"),Se.length>0?Se.substring(1):Se}prepareExternalUrl(Z){const Se=_(this._baseHref,Z);return Se.length>0?"#"+Se:Se}pushState(Z,Se,Ze,Vt){let Xt=this.prepareExternalUrl(Ze+S(Vt));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.pushState(Z,Se,Xt)}replaceState(Z,Se,Ze,Vt){let Xt=this.prepareExternalUrl(Ze+S(Vt));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.replaceState(Z,Se,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Z=0){var Se,Ze;null===(Se=(Ze=this._platformLocation).historyGo)||void 0===Se||Se.call(Ze,Z)}}return G.\u0275fac=function(Z){return new(Z||G)(c.LFG(O),c.LFG(H,8))},G.\u0275prov=c.Yz7({token:G,factory:G.\u0275fac}),G})(),pe=(()=>{class G{constructor(Z){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Z;const Se=this._locationStrategy.getBaseHref();this._basePath=function ne(G){if(new RegExp("^(https?:)?//").test(G)){const[,Z]=G.split(/\/\/[^\/]+/);return Z}return G}(A(we(Se))),this._locationStrategy.onPopState(Ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ze.state,type:Ze.type})})}ngOnDestroy(){var Z;null===(Z=this._urlChangeSubscription)||void 0===Z||Z.unsubscribe(),this._urlChangeListeners=[]}path(Z=!1){return this.normalize(this._locationStrategy.path(Z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Z,Se=""){return this.path()==this.normalize(Z+S(Se))}normalize(Z){return G.stripTrailingSlash(function Me(G,ce){if(!G||!ce.startsWith(G))return ce;const Z=ce.substring(G.length);return""===Z||["/",";","?","#"].includes(Z[0])?Z:ce}(this._basePath,we(Z)))}prepareExternalUrl(Z){return Z&&"/"!==Z[0]&&(Z="/"+Z),this._locationStrategy.prepareExternalUrl(Z)}go(Z,Se="",Ze=null){this._locationStrategy.pushState(Ze,"",Z,Se),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+S(Se)),Ze)}replaceState(Z,Se="",Ze=null){this._locationStrategy.replaceState(Ze,"",Z,Se),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+S(Se)),Ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Z=0){var Se,Ze;null===(Se=(Ze=this._locationStrategy).historyGo)||void 0===Se||Se.call(Ze,Z)}onUrlChange(Z){return this._urlChangeListeners.push(Z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Se=>{this._notifyUrlChangeListeners(Se.url,Se.state)})),()=>{const Se=this._urlChangeListeners.indexOf(Z);var Ze;this._urlChangeListeners.splice(Se,1),0===this._urlChangeListeners.length&&(null===(Ze=this._urlChangeSubscription)||void 0===Ze||Ze.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Z="",Se){this._urlChangeListeners.forEach(Ze=>Ze(Z,Se))}subscribe(Z,Se,Ze){return this._subject.subscribe({next:Z,error:Se,complete:Ze})}}return G.normalizeQueryParams=S,G.joinWithSlash=_,G.stripTrailingSlash=A,G.\u0275fac=function(Z){return new(Z||G)(c.LFG(P))},G.\u0275prov=c.Yz7({token:G,factory:function(){return function se(){return new pe((0,c.LFG)(P))}()},providedIn:"root"}),G})();function we(G){return G.replace(/\/index.html$/,"")}const ye={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Re=(()=>((Re=Re||{})[Re.Decimal=0]="Decimal",Re[Re.Percent=1]="Percent",Re[Re.Currency=2]="Currency",Re[Re.Scientific=3]="Scientific",Re))(),Ae=(()=>((Ae=Ae||{})[Ae.Format=0]="Format",Ae[Ae.Standalone=1]="Standalone",Ae))(),Ee=(()=>((Ee=Ee||{})[Ee.Narrow=0]="Narrow",Ee[Ee.Abbreviated=1]="Abbreviated",Ee[Ee.Wide=2]="Wide",Ee[Ee.Short=3]="Short",Ee))(),st=(()=>((st=st||{})[st.Short=0]="Short",st[st.Medium=1]="Medium",st[st.Long=2]="Long",st[st.Full=3]="Full",st))(),it=(()=>((it=it||{})[it.Decimal=0]="Decimal",it[it.Group=1]="Group",it[it.List=2]="List",it[it.PercentSign=3]="PercentSign",it[it.PlusSign=4]="PlusSign",it[it.MinusSign=5]="MinusSign",it[it.Exponential=6]="Exponential",it[it.SuperscriptingExponent=7]="SuperscriptingExponent",it[it.PerMille=8]="PerMille",it[it.Infinity=9]="Infinity",it[it.NaN=10]="NaN",it[it.TimeSeparator=11]="TimeSeparator",it[it.CurrencyDecimal=12]="CurrencyDecimal",it[it.CurrencyGroup=13]="CurrencyGroup",it))();function Le(G,ce){return vn((0,c.cg1)(G)[c.wAp.DateFormat],ce)}function He(G,ce){return vn((0,c.cg1)(G)[c.wAp.TimeFormat],ce)}function Xe(G,ce){return vn((0,c.cg1)(G)[c.wAp.DateTimeFormat],ce)}function dt(G,ce){const Z=(0,c.cg1)(G),Se=Z[c.wAp.NumberSymbols][ce];if(typeof Se>"u"){if(ce===it.CurrencyDecimal)return Z[c.wAp.NumberSymbols][it.Decimal];if(ce===it.CurrencyGroup)return Z[c.wAp.NumberSymbols][it.Group]}return Se}function Pt(G){if(!G[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${G[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vn(G,ce){for(let Z=ce;Z>-1;Z--)if(typeof G[Z]<"u")return G[Z];throw new Error("Locale data API: locale data undefined")}function Tt(G){const[ce,Z]=G.split(":");return{hours:+ce,minutes:+Z}}const Sn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vr={},Gn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tr=(()=>((tr=tr||{})[tr.Short=0]="Short",tr[tr.ShortGMT=1]="ShortGMT",tr[tr.Long=2]="Long",tr[tr.Extended=3]="Extended",tr))(),fn=(()=>((fn=fn||{})[fn.FullYear=0]="FullYear",fn[fn.Month=1]="Month",fn[fn.Date=2]="Date",fn[fn.Hours=3]="Hours",fn[fn.Minutes=4]="Minutes",fn[fn.Seconds=5]="Seconds",fn[fn.FractionalSeconds=6]="FractionalSeconds",fn[fn.Day=7]="Day",fn))(),mn=(()=>((mn=mn||{})[mn.DayPeriods=0]="DayPeriods",mn[mn.Days=1]="Days",mn[mn.Months=2]="Months",mn[mn.Eras=3]="Eras",mn))();function _r(G,ce,Z,Se){let Ze=function he(G){if(ve(G))return G;if("number"==typeof G&&!isNaN(G))return new Date(G);if("string"==typeof G){if(G=G.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(G)){const[Ze,Vt=1,Xt=1]=G.split("-").map(_n=>+_n);return pr(Ze,Vt-1,Xt)}const Z=parseFloat(G);if(!isNaN(G-Z))return new Date(Z);let Se;if(Se=G.match(Sn))return function de(G){const ce=new Date(0);let Z=0,Se=0;const Ze=G[8]?ce.setUTCFullYear:ce.setFullYear,Vt=G[8]?ce.setUTCHours:ce.setHours;G[9]&&(Z=Number(G[9]+G[10]),Se=Number(G[9]+G[11])),Ze.call(ce,Number(G[1]),Number(G[2])-1,Number(G[3]));const Xt=Number(G[4]||0)-Z,_n=Number(G[5]||0)-Se,ei=Number(G[6]||0),ti=Math.floor(1e3*parseFloat("0."+(G[7]||0)));return Vt.call(ce,Xt,_n,ei,ti),ce}(Se)}const ce=new Date(G);if(!ve(ce))throw new Error(`Unable to convert "${G}" into a date`);return ce}(G);ce=An(Z,ce)||ce;let _n,Xt=[];for(;ce;){if(_n=Gn.exec(ce),!_n){Xt.push(ce);break}{Xt=Xt.concat(_n.slice(1));const br=Xt.pop();if(!br)break;ce=br}}let ei=Ze.getTimezoneOffset();Se&&(ei=Yt(Se,ei),Ze=function Be(G,ce,Z){const Se=Z?-1:1,Ze=G.getTimezoneOffset();return function nn(G,ce){return(G=new Date(G.getTime())).setMinutes(G.getMinutes()+ce),G}(G,Se*(Yt(ce,Ze)-Ze))}(Ze,Se,!0));let ti="";return Xt.forEach(br=>{const Lr=function Gt(G){if(bt[G])return bt[G];let ce;switch(G){case"G":case"GG":case"GGG":ce=Rn(mn.Eras,Ee.Abbreviated);break;case"GGGG":ce=Rn(mn.Eras,Ee.Wide);break;case"GGGGG":ce=Rn(mn.Eras,Ee.Narrow);break;case"y":ce=on(fn.FullYear,1,0,!1,!0);break;case"yy":ce=on(fn.FullYear,2,0,!0,!0);break;case"yyy":ce=on(fn.FullYear,3,0,!1,!0);break;case"yyyy":ce=on(fn.FullYear,4,0,!1,!0);break;case"Y":ce=Nt(1);break;case"YY":ce=Nt(2,!0);break;case"YYY":ce=Nt(3);break;case"YYYY":ce=Nt(4);break;case"M":case"L":ce=on(fn.Month,1,1);break;case"MM":case"LL":ce=on(fn.Month,2,1);break;case"MMM":ce=Rn(mn.Months,Ee.Abbreviated);break;case"MMMM":ce=Rn(mn.Months,Ee.Wide);break;case"MMMMM":ce=Rn(mn.Months,Ee.Narrow);break;case"LLL":ce=Rn(mn.Months,Ee.Abbreviated,Ae.Standalone);break;case"LLLL":ce=Rn(mn.Months,Ee.Wide,Ae.Standalone);break;case"LLLLL":ce=Rn(mn.Months,Ee.Narrow,Ae.Standalone);break;case"w":ce=et(1);break;case"ww":ce=et(2);break;case"W":ce=et(1,!0);break;case"d":ce=on(fn.Date,1);break;case"dd":ce=on(fn.Date,2);break;case"c":case"cc":ce=on(fn.Day,1);break;case"ccc":ce=Rn(mn.Days,Ee.Abbreviated,Ae.Standalone);break;case"cccc":ce=Rn(mn.Days,Ee.Wide,Ae.Standalone);break;case"ccccc":ce=Rn(mn.Days,Ee.Narrow,Ae.Standalone);break;case"cccccc":ce=Rn(mn.Days,Ee.Short,Ae.Standalone);break;case"E":case"EE":case"EEE":ce=Rn(mn.Days,Ee.Abbreviated);break;case"EEEE":ce=Rn(mn.Days,Ee.Wide);break;case"EEEEE":ce=Rn(mn.Days,Ee.Narrow);break;case"EEEEEE":ce=Rn(mn.Days,Ee.Short);break;case"a":case"aa":case"aaa":ce=Rn(mn.DayPeriods,Ee.Abbreviated);break;case"aaaa":ce=Rn(mn.DayPeriods,Ee.Wide);break;case"aaaaa":ce=Rn(mn.DayPeriods,Ee.Narrow);break;case"b":case"bb":case"bbb":ce=Rn(mn.DayPeriods,Ee.Abbreviated,Ae.Standalone,!0);break;case"bbbb":ce=Rn(mn.DayPeriods,Ee.Wide,Ae.Standalone,!0);break;case"bbbbb":ce=Rn(mn.DayPeriods,Ee.Narrow,Ae.Standalone,!0);break;case"B":case"BB":case"BBB":ce=Rn(mn.DayPeriods,Ee.Abbreviated,Ae.Format,!0);break;case"BBBB":ce=Rn(mn.DayPeriods,Ee.Wide,Ae.Format,!0);break;case"BBBBB":ce=Rn(mn.DayPeriods,Ee.Narrow,Ae.Format,!0);break;case"h":ce=on(fn.Hours,1,-12);break;case"hh":ce=on(fn.Hours,2,-12);break;case"H":ce=on(fn.Hours,1);break;case"HH":ce=on(fn.Hours,2);break;case"m":ce=on(fn.Minutes,1);break;case"mm":ce=on(fn.Minutes,2);break;case"s":ce=on(fn.Seconds,1);break;case"ss":ce=on(fn.Seconds,2);break;case"S":ce=on(fn.FractionalSeconds,1);break;case"SS":ce=on(fn.FractionalSeconds,2);break;case"SSS":ce=on(fn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ce=jn(tr.Short);break;case"ZZZZZ":ce=jn(tr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ce=jn(tr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ce=jn(tr.Long);break;default:return null}return bt[G]=ce,ce}(br);ti+=Lr?Lr(Ze,Z,ei):"''"===br?"'":br.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ti}function pr(G,ce,Z){const Se=new Date(0);return Se.setFullYear(G,ce,Z),Se.setHours(0,0,0),Se}function An(G,ce){const Z=function Ie(G){return(0,c.cg1)(G)[c.wAp.LocaleId]}(G);if(vr[Z]=vr[Z]||{},vr[Z][ce])return vr[Z][ce];let Se="";switch(ce){case"shortDate":Se=Le(G,st.Short);break;case"mediumDate":Se=Le(G,st.Medium);break;case"longDate":Se=Le(G,st.Long);break;case"fullDate":Se=Le(G,st.Full);break;case"shortTime":Se=He(G,st.Short);break;case"mediumTime":Se=He(G,st.Medium);break;case"longTime":Se=He(G,st.Long);break;case"fullTime":Se=He(G,st.Full);break;case"short":const Ze=An(G,"shortTime"),Vt=An(G,"shortDate");Se=Yn(Xe(G,st.Short),[Ze,Vt]);break;case"medium":const Xt=An(G,"mediumTime"),_n=An(G,"mediumDate");Se=Yn(Xe(G,st.Medium),[Xt,_n]);break;case"long":const ei=An(G,"longTime"),ti=An(G,"longDate");Se=Yn(Xe(G,st.Long),[ei,ti]);break;case"full":const br=An(G,"fullTime"),Lr=An(G,"fullDate");Se=Yn(Xe(G,st.Full),[br,Lr])}return Se&&(vr[Z][ce]=Se),Se}function Yn(G,ce){return ce&&(G=G.replace(/\{([^}]+)}/g,function(Z,Se){return null!=ce&&Se in ce?ce[Se]:Z})),G}function Ft(G,ce,Z="-",Se,Ze){let Vt="";(G<0||Ze&&G<=0)&&(Ze?G=1-G:(G=-G,Vt=Z));let Xt=String(G);for(;Xt.length<ce;)Xt="0"+Xt;return Se&&(Xt=Xt.slice(Xt.length-ce)),Vt+Xt}function on(G,ce,Z=0,Se=!1,Ze=!1){return function(Vt,Xt){let _n=function Tr(G,ce){switch(G){case fn.FullYear:return ce.getFullYear();case fn.Month:return ce.getMonth();case fn.Date:return ce.getDate();case fn.Hours:return ce.getHours();case fn.Minutes:return ce.getMinutes();case fn.Seconds:return ce.getSeconds();case fn.FractionalSeconds:return ce.getMilliseconds();case fn.Day:return ce.getDay();default:throw new Error(`Unknown DateType value "${G}".`)}}(G,Vt);if((Z>0||_n>-Z)&&(_n+=Z),G===fn.Hours)0===_n&&-12===Z&&(_n=12);else if(G===fn.FractionalSeconds)return function sr(G,ce){return Ft(G,3).substring(0,ce)}(_n,ce);const ei=dt(Xt,it.MinusSign);return Ft(_n,ce,ei,Se,Ze)}}function Rn(G,ce,Z=Ae.Format,Se=!1){return function(Ze,Vt){return function Mn(G,ce,Z,Se,Ze,Vt){switch(Z){case mn.Months:return function ut(G,ce,Z){const Se=(0,c.cg1)(G),Vt=vn([Se[c.wAp.MonthsFormat],Se[c.wAp.MonthsStandalone]],ce);return vn(Vt,Z)}(ce,Ze,Se)[G.getMonth()];case mn.Days:return function Je(G,ce,Z){const Se=(0,c.cg1)(G),Vt=vn([Se[c.wAp.DaysFormat],Se[c.wAp.DaysStandalone]],ce);return vn(Vt,Z)}(ce,Ze,Se)[G.getDay()];case mn.DayPeriods:const Xt=G.getHours(),_n=G.getMinutes();if(Vt){const ti=function Wt(G){const ce=(0,c.cg1)(G);return Pt(ce),(ce[c.wAp.ExtraData][2]||[]).map(Se=>"string"==typeof Se?Tt(Se):[Tt(Se[0]),Tt(Se[1])])}(ce),br=function an(G,ce,Z){const Se=(0,c.cg1)(G);Pt(Se);const Vt=vn([Se[c.wAp.ExtraData][0],Se[c.wAp.ExtraData][1]],ce)||[];return vn(Vt,Z)||[]}(ce,Ze,Se),Lr=ti.findIndex(Nr=>{if(Array.isArray(Nr)){const[Yr,$r]=Nr,qo=Xt>=Yr.hours&&_n>=Yr.minutes,js=Xt<$r.hours||Xt===$r.hours&&_n<$r.minutes;if(Yr.hours<$r.hours){if(qo&&js)return!0}else if(qo||js)return!0}else if(Nr.hours===Xt&&Nr.minutes===_n)return!0;return!1});if(-1!==Lr)return br[Lr]}return function Pe(G,ce,Z){const Se=(0,c.cg1)(G),Vt=vn([Se[c.wAp.DayPeriodsFormat],Se[c.wAp.DayPeriodsStandalone]],ce);return vn(Vt,Z)}(ce,Ze,Se)[Xt<12?0:1];case mn.Eras:return function $t(G,ce){return vn((0,c.cg1)(G)[c.wAp.Eras],ce)}(ce,Se)[G.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Z}`)}}(Ze,Vt,G,ce,Z,Se)}}function jn(G){return function(ce,Z,Se){const Ze=-1*Se,Vt=dt(Z,it.MinusSign),Xt=Ze>0?Math.floor(Ze/60):Math.ceil(Ze/60);switch(G){case tr.Short:return(Ze>=0?"+":"")+Ft(Xt,2,Vt)+Ft(Math.abs(Ze%60),2,Vt);case tr.ShortGMT:return"GMT"+(Ze>=0?"+":"")+Ft(Xt,1,Vt);case tr.Long:return"GMT"+(Ze>=0?"+":"")+Ft(Xt,2,Vt)+":"+Ft(Math.abs(Ze%60),2,Vt);case tr.Extended:return 0===Se?"Z":(Ze>=0?"+":"")+Ft(Xt,2,Vt)+":"+Ft(Math.abs(Ze%60),2,Vt);default:throw new Error(`Unknown zone width "${G}"`)}}}const zr=0,Wn=4;function We(G){return pr(G.getFullYear(),G.getMonth(),G.getDate()+(Wn-G.getDay()))}function et(G,ce=!1){return function(Z,Se){let Ze;if(ce){const Vt=new Date(Z.getFullYear(),Z.getMonth(),1).getDay()-1,Xt=Z.getDate();Ze=1+Math.floor((Xt+Vt)/7)}else{const Vt=We(Z),Xt=function Tn(G){const ce=pr(G,zr,1).getDay();return pr(G,0,1+(ce<=Wn?Wn:Wn+7)-ce)}(Vt.getFullYear()),_n=Vt.getTime()-Xt.getTime();Ze=1+Math.round(_n/6048e5)}return Ft(Ze,G,dt(Se,it.MinusSign))}}function Nt(G,ce=!1){return function(Z,Se){return Ft(We(Z).getFullYear(),G,dt(Se,it.MinusSign),ce)}}const bt={};function Yt(G,ce){G=G.replace(/:/g,"");const Z=Date.parse("Jan 01, 1970 00:00:00 "+G)/6e4;return isNaN(Z)?ce:Z}function ve(G){return G instanceof Date&&!isNaN(G.valueOf())}const Ce=/^(\d+)?\.((\d+)(-(\d+))?)?$/,pt=22,Ot=".",tt="0",_t=";",kt=",",Jt="#";function Ge(G,ce,Z,Se,Ze){const Xt=function Ye(G,ce="-"){const Z={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Se=G.split(_t),Ze=Se[0],Vt=Se[1],Xt=-1!==Ze.indexOf(Ot)?Ze.split(Ot):[Ze.substring(0,Ze.lastIndexOf(tt)+1),Ze.substring(Ze.lastIndexOf(tt)+1)],_n=Xt[0],ei=Xt[1]||"";Z.posPre=_n.substring(0,_n.indexOf(Jt));for(let br=0;br<ei.length;br++){const Lr=ei.charAt(br);Lr===tt?Z.minFrac=Z.maxFrac=br+1:Lr===Jt?Z.maxFrac=br+1:Z.posSuf+=Lr}const ti=_n.split(kt);if(Z.gSize=ti[1]?ti[1].length:0,Z.lgSize=ti[2]||ti[1]?(ti[2]||ti[1]).length:0,Vt){const br=Ze.length-Z.posPre.length-Z.posSuf.length,Lr=Vt.indexOf(Jt);Z.negPre=Vt.substring(0,Lr).replace(/'/g,""),Z.negSuf=Vt.slice(Lr+br).replace(/'/g,"")}else Z.negPre=ce+Z.posPre,Z.negSuf=Z.posSuf;return Z}(function St(G,ce){return(0,c.cg1)(G)[c.wAp.NumberFormats][ce]}(ce,Re.Currency),dt(ce,it.MinusSign));return Xt.minFrac=function Ln(G){let ce;const Z=ye[G];return Z&&(ce=Z[2]),"number"==typeof ce?ce:2}(Se),Xt.maxFrac=Xt.minFrac,function gt(G,ce,Z,Se,Ze,Vt,Xt=!1){let _n="",ei=!1;if(isFinite(G)){let ti=function Et(G){let Se,Ze,Vt,Xt,_n,ce=Math.abs(G)+"",Z=0;for((Ze=ce.indexOf(Ot))>-1&&(ce=ce.replace(Ot,"")),(Vt=ce.search(/e/i))>0?(Ze<0&&(Ze=Vt),Ze+=+ce.slice(Vt+1),ce=ce.substring(0,Vt)):Ze<0&&(Ze=ce.length),Vt=0;ce.charAt(Vt)===tt;Vt++);if(Vt===(_n=ce.length))Se=[0],Ze=1;else{for(_n--;ce.charAt(_n)===tt;)_n--;for(Ze-=Vt,Se=[],Xt=0;Vt<=_n;Vt++,Xt++)Se[Xt]=Number(ce.charAt(Vt))}return Ze>pt&&(Se=Se.splice(0,pt-1),Z=Ze-1,Ze=1),{digits:Se,exponent:Z,integerLen:Ze}}(G);Xt&&(ti=function ft(G){if(0===G.digits[0])return G;const ce=G.digits.length-G.integerLen;return G.exponent?G.exponent+=2:(0===ce?G.digits.push(0,0):1===ce&&G.digits.push(0),G.integerLen+=2),G}(ti));let br=ce.minInt,Lr=ce.minFrac,Nr=ce.maxFrac;if(Vt){const qr=Vt.match(Ce);if(null===qr)throw new Error(`${Vt} is not a valid digit info`);const fo=qr[1],Hs=qr[3],Nn=qr[5];null!=fo&&(br=hn(fo)),null!=Hs&&(Lr=hn(Hs)),null!=Nn?Nr=hn(Nn):null!=Hs&&Lr>Nr&&(Nr=Lr)}!function ln(G,ce,Z){if(ce>Z)throw new Error(`The minimum number of digits after fraction (${ce}) is higher than the maximum (${Z}).`);let Se=G.digits,Ze=Se.length-G.integerLen;const Vt=Math.min(Math.max(ce,Ze),Z);let Xt=Vt+G.integerLen,_n=Se[Xt];if(Xt>0){Se.splice(Math.max(G.integerLen,Xt));for(let Lr=Xt;Lr<Se.length;Lr++)Se[Lr]=0}else{Ze=Math.max(0,Ze),G.integerLen=1,Se.length=Math.max(1,Xt=Vt+1),Se[0]=0;for(let Lr=1;Lr<Xt;Lr++)Se[Lr]=0}if(_n>=5)if(Xt-1<0){for(let Lr=0;Lr>Xt;Lr--)Se.unshift(0),G.integerLen++;Se.unshift(1),G.integerLen++}else Se[Xt-1]++;for(;Ze<Math.max(0,Vt);Ze++)Se.push(0);let ei=0!==Vt;const ti=ce+G.integerLen,br=Se.reduceRight(function(Lr,Nr,Yr,$r){return $r[Yr]=(Nr+=Lr)<10?Nr:Nr-10,ei&&(0===$r[Yr]&&Yr>=ti?$r.pop():ei=!1),Nr>=10?1:0},0);br&&(Se.unshift(br),G.integerLen++)}(ti,Lr,Nr);let Yr=ti.digits,$r=ti.integerLen;const qo=ti.exponent;let js=[];for(ei=Yr.every(qr=>!qr);$r<br;$r++)Yr.unshift(0);for(;$r<0;$r++)Yr.unshift(0);$r>0?js=Yr.splice($r,Yr.length):(js=Yr,Yr=[0]);const un=[];for(Yr.length>=ce.lgSize&&un.unshift(Yr.splice(-ce.lgSize,Yr.length).join(""));Yr.length>ce.gSize;)un.unshift(Yr.splice(-ce.gSize,Yr.length).join(""));Yr.length&&un.unshift(Yr.join("")),_n=un.join(dt(Z,Se)),js.length&&(_n+=dt(Z,Ze)+js.join("")),qo&&(_n+=dt(Z,it.Exponential)+"+"+qo)}else _n=dt(Z,it.Infinity);return _n=G<0&&!ei?ce.negPre+_n+ce.negSuf:ce.posPre+_n+ce.posSuf,_n}(G,Xt,ce,it.CurrencyGroup,it.CurrencyDecimal,Ze).replace("\xa4",Z).replace("\xa4","").trim()}function hn(G){const ce=parseInt(G);if(isNaN(ce))throw new Error("Invalid integer literal when parsing "+G);return ce}function yr(G,ce){ce=encodeURIComponent(ce);for(const Z of G.split(";")){const Se=Z.indexOf("="),[Ze,Vt]=-1==Se?[Z,""]:[Z.slice(0,Se),Z.slice(Se+1)];if(Ze.trim()===ce)return decodeURIComponent(Vt)}return null}const Kn=/\s+/,dr=[];let Fr=(()=>{class G{constructor(Z,Se,Ze,Vt){this._iterableDiffers=Z,this._keyValueDiffers=Se,this._ngEl=Ze,this._renderer=Vt,this.initialClasses=dr,this.stateMap=new Map}set klass(Z){this.initialClasses=null!=Z?Z.trim().split(Kn):dr}set ngClass(Z){this.rawClass="string"==typeof Z?Z.trim().split(Kn):Z}ngDoCheck(){for(const Se of this.initialClasses)this._updateState(Se,!0);const Z=this.rawClass;if(Array.isArray(Z)||Z instanceof Set)for(const Se of Z)this._updateState(Se,!0);else if(null!=Z)for(const Se of Object.keys(Z))this._updateState(Se,!!Z[Se]);this._applyStateDiff()}_updateState(Z,Se){const Ze=this.stateMap.get(Z);void 0!==Ze?(Ze.enabled!==Se&&(Ze.changed=!0,Ze.enabled=Se),Ze.touched=!0):this.stateMap.set(Z,{enabled:Se,changed:!0,touched:!0})}_applyStateDiff(){for(const Z of this.stateMap){const Se=Z[0],Ze=Z[1];Ze.changed?(this._toggleClass(Se,Ze.enabled),Ze.changed=!1):Ze.touched||(Ze.enabled&&this._toggleClass(Se,!1),this.stateMap.delete(Se)),Ze.touched=!1}}_toggleClass(Z,Se){(Z=Z.trim()).length>0&&Z.split(Kn).forEach(Ze=>{Se?this._renderer.addClass(this._ngEl.nativeElement,Ze):this._renderer.removeClass(this._ngEl.nativeElement,Ze)})}}return G.\u0275fac=function(Z){return new(Z||G)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},G.\u0275dir=c.lG2({type:G,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),G})();class Qr{constructor(ce,Z,Se,Ze){this.$implicit=ce,this.ngForOf=Z,this.index=Se,this.count=Ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mi=(()=>{class G{set ngForOf(Z){this._ngForOf=Z,this._ngForOfDirty=!0}set ngForTrackBy(Z){this._trackByFn=Z}get ngForTrackBy(){return this._trackByFn}constructor(Z,Se,Ze){this._viewContainer=Z,this._template=Se,this._differs=Ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Z){Z&&(this._template=Z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Z=this._ngForOf;!this._differ&&Z&&(this._differ=this._differs.find(Z).create(this.ngForTrackBy))}if(this._differ){const Z=this._differ.diff(this._ngForOf);Z&&this._applyChanges(Z)}}_applyChanges(Z){const Se=this._viewContainer;Z.forEachOperation((Ze,Vt,Xt)=>{if(null==Ze.previousIndex)Se.createEmbeddedView(this._template,new Qr(Ze.item,this._ngForOf,-1,-1),null===Xt?void 0:Xt);else if(null==Xt)Se.remove(null===Vt?void 0:Vt);else if(null!==Vt){const _n=Se.get(Vt);Se.move(_n,Xt),Wr(_n,Ze)}});for(let Ze=0,Vt=Se.length;Ze<Vt;Ze++){const _n=Se.get(Ze).context;_n.index=Ze,_n.count=Vt,_n.ngForOf=this._ngForOf}Z.forEachIdentityChange(Ze=>{Wr(Se.get(Ze.currentIndex),Ze)})}static ngTemplateContextGuard(Z,Se){return!0}}return G.\u0275fac=function(Z){return new(Z||G)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},G.\u0275dir=c.lG2({type:G,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),G})();function Wr(G,ce){G.context.$implicit=ce.item}let wi=(()=>{class G{constructor(Z,Se){this._viewContainer=Z,this._context=new Ci,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Se}set ngIf(Z){this._context.$implicit=this._context.ngIf=Z,this._updateView()}set ngIfThen(Z){ci("ngIfThen",Z),this._thenTemplateRef=Z,this._thenViewRef=null,this._updateView()}set ngIfElse(Z){ci("ngIfElse",Z),this._elseTemplateRef=Z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Z,Se){return!0}}return G.\u0275fac=function(Z){return new(Z||G)(c.Y36(c.s_b),c.Y36(c.Rgc))},G.\u0275dir=c.lG2({type:G,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),G})();class Ci{constructor(){this.$implicit=null,this.ngIf=null}}function ci(G,ce){if(ce&&!ce.createEmbeddedView)throw new Error(`${G} must be a TemplateRef, but received '${(0,c.AaK)(ce)}'.`)}let nt=(()=>{class G{constructor(Z,Se,Ze){this._ngEl=Z,this._differs=Se,this._renderer=Ze,this._ngStyle=null,this._differ=null}set ngStyle(Z){this._ngStyle=Z,!this._differ&&Z&&(this._differ=this._differs.find(Z).create())}ngDoCheck(){if(this._differ){const Z=this._differ.diff(this._ngStyle);Z&&this._applyChanges(Z)}}_setStyle(Z,Se){const[Ze,Vt]=Z.split("."),Xt=-1===Ze.indexOf("-")?void 0:c.JOm.DashCase;null!=Se?this._renderer.setStyle(this._ngEl.nativeElement,Ze,Vt?`${Se}${Vt}`:Se,Xt):this._renderer.removeStyle(this._ngEl.nativeElement,Ze,Xt)}_applyChanges(Z){Z.forEachRemovedItem(Se=>this._setStyle(Se.key,null)),Z.forEachAddedItem(Se=>this._setStyle(Se.key,Se.currentValue)),Z.forEachChangedItem(Se=>this._setStyle(Se.key,Se.currentValue))}}return G.\u0275fac=function(Z){return new(Z||G)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},G.\u0275dir=c.lG2({type:G,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),G})(),vt=(()=>{class G{constructor(Z){this._viewContainerRef=Z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Z){if(Z.ngTemplateOutlet||Z.ngTemplateOutletInjector){const Se=this._viewContainerRef;if(this._viewRef&&Se.remove(Se.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ze,ngTemplateOutletContext:Vt,ngTemplateOutletInjector:Xt}=this;this._viewRef=Se.createEmbeddedView(Ze,Vt,Xt?{injector:Xt}:void 0)}else this._viewRef=null}else this._viewRef&&Z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return G.\u0275fac=function(Z){return new(Z||G)(c.Y36(c.s_b))},G.\u0275dir=c.lG2({type:G,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),G})();function Lt(G,ce){return new c.vHH(2100,!1)}const Ni=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Uo=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ni=(()=>{class G{constructor(Z,Se,Ze){this.locale=Z,this.defaultTimezone=Se,this.defaultOptions=Ze}transform(Z,Se,Ze,Vt){if(null==Z||""===Z||Z!=Z)return null;try{var Xt,_n,ei,ti,br;const Lr=null!==(Xt=null!=Se?Se:null===(_n=this.defaultOptions)||void 0===_n?void 0:_n.dateFormat)&&void 0!==Xt?Xt:"mediumDate",Nr=null!==(ei=null!==(ti=null!=Ze?Ze:null===(br=this.defaultOptions)||void 0===br?void 0:br.timezone)&&void 0!==ti?ti:this.defaultTimezone)&&void 0!==ei?ei:void 0;return _r(Z,Lr,Vt||this.locale,Nr)}catch(Lr){throw Lt()}}}return G.\u0275fac=function(Z){return new(Z||G)(c.Y36(c.soG,16),c.Y36(Ni,24),c.Y36(Uo,24))},G.\u0275pipe=c.Yjl({name:"date",type:G,pure:!0,standalone:!0}),G})(),ki=(()=>{class G{constructor(Z,Se="USD"){this._locale=Z,this._defaultCurrencyCode=Se}transform(Z,Se=this._defaultCurrencyCode,Ze="symbol",Vt,Xt){if(!function Do(G){return!(null==G||""===G||G!=G)}(Z))return null;Xt=Xt||this._locale,"boolean"==typeof Ze&&(Ze=Ze?"symbol":"code");let _n=Se||this._defaultCurrencyCode;"code"!==Ze&&(_n="symbol"===Ze||"symbol-narrow"===Ze?function gn(G,ce,Z="en"){const Se=function Rt(G){return(0,c.cg1)(G)[c.wAp.Currencies]}(Z)[G]||ye[G]||[],Ze=Se[1];return"narrow"===ce&&"string"==typeof Ze?Ze:Se[0]||G}(_n,"symbol"===Ze?"wide":"narrow",Xt):Ze);try{return Ge(function hi(G){if("string"==typeof G&&!isNaN(Number(G)-parseFloat(G)))return Number(G);if("number"!=typeof G)throw new Error(`${G} is not a number`);return G}(Z),Xt,_n,Se,Vt)}catch(ei){throw Lt()}}}return G.\u0275fac=function(Z){return new(Z||G)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},G.\u0275pipe=c.Yjl({name:"currency",type:G,pure:!0,standalone:!0}),G})();let oo=(()=>{class G{}return G.\u0275fac=function(Z){return new(Z||G)},G.\u0275mod=c.oAB({type:G}),G.\u0275inj=c.cJS({}),G})();const Ai="browser",er="server";function yi(G){return G===er}let ss=(()=>{class G{}return G.\u0275prov=(0,c.Yz7)({token:G,providedIn:"root",factory:()=>new ao((0,c.LFG)(V),window)}),G})();class ao{constructor(ce,Z){this.document=ce,this.window=Z,this.offset=()=>[0,0]}setOffset(ce){this.offset=Array.isArray(ce)?()=>ce:ce}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ce){this.supportsScrolling()&&this.window.scrollTo(ce[0],ce[1])}scrollToAnchor(ce){if(!this.supportsScrolling())return;const Z=function ro(G,ce){const Z=G.getElementById(ce)||G.getElementsByName(ce)[0];if(Z)return Z;if("function"==typeof G.createTreeWalker&&G.body&&"function"==typeof G.body.attachShadow){const Se=G.createTreeWalker(G.body,NodeFilter.SHOW_ELEMENT);let Ze=Se.currentNode;for(;Ze;){const Vt=Ze.shadowRoot;if(Vt){const Xt=Vt.getElementById(ce)||Vt.querySelector(`[name="${ce}"]`);if(Xt)return Xt}Ze=Se.nextNode()}}return null}(this.document,ce);Z&&(this.scrollToElement(Z),Z.focus())}setHistoryScrollRestoration(ce){if(this.supportScrollRestoration()){const Z=this.window.history;Z&&Z.scrollRestoration&&(Z.scrollRestoration=ce)}}scrollToElement(ce){const Z=ce.getBoundingClientRect(),Se=Z.left+this.window.pageXOffset,Ze=Z.top+this.window.pageYOffset,Vt=this.offset();this.window.scrollTo(Se-Vt[0],Ze-Vt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ce=mo(this.window.history)||mo(Object.getPrototypeOf(this.window.history));return!(!ce||!ce.writable&&!ce.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mo(G){return Object.getOwnPropertyDescriptor(G,"scrollRestoration")}class lo{}},9862:(lt,rt,C)=>{"use strict";C.d(rt,{JF:()=>Ce,eN:()=>De});var c=C(6689),d=C(2096),Y=C(2459),U=C(5592),W=C(6328),V=C(2181),O=C(7398),N=C(4716),M=C(4664),_=C(6814);class A{}class S{}class P{constructor(Ge){this.normalizedNames=new Map,this.lazyUpdate=null,Ge?"string"==typeof Ge?this.lazyInit=()=>{this.headers=new Map,Ge.split("\n").forEach(qe=>{const Ve=qe.indexOf(":");if(Ve>0){const Ye=qe.slice(0,Ve),ft=Ye.toLowerCase(),Et=qe.slice(Ve+1).trim();this.maybeSetNormalizedName(Ye,ft),this.headers.has(ft)?this.headers.get(ft).push(Et):this.headers.set(ft,[Et])}})}:typeof Headers<"u"&&Ge instanceof Headers?(this.headers=new Map,Ge.forEach((qe,Ve)=>{this.setHeaderEntries(Ve,qe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ge).forEach(([qe,Ve])=>{this.setHeaderEntries(qe,Ve)})}:this.headers=new Map}has(Ge){return this.init(),this.headers.has(Ge.toLowerCase())}get(Ge){this.init();const qe=this.headers.get(Ge.toLowerCase());return qe&&qe.length>0?qe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ge){return this.init(),this.headers.get(Ge.toLowerCase())||null}append(Ge,qe){return this.clone({name:Ge,value:qe,op:"a"})}set(Ge,qe){return this.clone({name:Ge,value:qe,op:"s"})}delete(Ge,qe){return this.clone({name:Ge,value:qe,op:"d"})}maybeSetNormalizedName(Ge,qe){this.normalizedNames.has(qe)||this.normalizedNames.set(qe,Ge)}init(){this.lazyInit&&(this.lazyInit instanceof P?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ge=>this.applyUpdate(Ge)),this.lazyUpdate=null))}copyFrom(Ge){Ge.init(),Array.from(Ge.headers.keys()).forEach(qe=>{this.headers.set(qe,Ge.headers.get(qe)),this.normalizedNames.set(qe,Ge.normalizedNames.get(qe))})}clone(Ge){const qe=new P;return qe.lazyInit=this.lazyInit&&this.lazyInit instanceof P?this.lazyInit:this,qe.lazyUpdate=(this.lazyUpdate||[]).concat([Ge]),qe}applyUpdate(Ge){const qe=Ge.name.toLowerCase();switch(Ge.op){case"a":case"s":let Ve=Ge.value;if("string"==typeof Ve&&(Ve=[Ve]),0===Ve.length)return;this.maybeSetNormalizedName(Ge.name,qe);const Ye=("a"===Ge.op?this.headers.get(qe):void 0)||[];Ye.push(...Ve),this.headers.set(qe,Ye);break;case"d":const ft=Ge.value;if(ft){let Et=this.headers.get(qe);if(!Et)return;Et=Et.filter(ln=>-1===ft.indexOf(ln)),0===Et.length?(this.headers.delete(qe),this.normalizedNames.delete(qe)):this.headers.set(qe,Et)}else this.headers.delete(qe),this.normalizedNames.delete(qe)}}setHeaderEntries(Ge,qe){const Ve=(Array.isArray(qe)?qe:[qe]).map(ft=>ft.toString()),Ye=Ge.toLowerCase();this.headers.set(Ye,Ve),this.maybeSetNormalizedName(Ge,Ye)}forEach(Ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(qe=>Ge(this.normalizedNames.get(qe),this.headers.get(qe)))}}class X{encodeKey(Ge){return Me(Ge)}encodeValue(Ge){return Me(Ge)}decodeKey(Ge){return decodeURIComponent(Ge)}decodeValue(Ge){return decodeURIComponent(Ge)}}const pe=/%(\d[a-f0-9])/gi,se={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Me(gt){return encodeURIComponent(gt).replace(pe,(Ge,qe)=>{var Ve;return null!==(Ve=se[qe])&&void 0!==Ve?Ve:Ge})}function we(gt){return`${gt}`}class ne{constructor(Ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ge.encoder||new X,Ge.fromString){if(Ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function be(gt,Ge){const qe=new Map;return gt.length>0&&gt.replace(/^\?/,"").split("&").forEach(Ye=>{const ft=Ye.indexOf("="),[Et,ln]=-1==ft?[Ge.decodeKey(Ye),""]:[Ge.decodeKey(Ye.slice(0,ft)),Ge.decodeValue(Ye.slice(ft+1))],hn=qe.get(Et)||[];hn.push(ln),qe.set(Et,hn)}),qe}(Ge.fromString,this.encoder)}else Ge.fromObject?(this.map=new Map,Object.keys(Ge.fromObject).forEach(qe=>{const Ve=Ge.fromObject[qe],Ye=Array.isArray(Ve)?Ve.map(we):[we(Ve)];this.map.set(qe,Ye)})):this.map=null}has(Ge){return this.init(),this.map.has(Ge)}get(Ge){this.init();const qe=this.map.get(Ge);return qe?qe[0]:null}getAll(Ge){return this.init(),this.map.get(Ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ge,qe){return this.clone({param:Ge,value:qe,op:"a"})}appendAll(Ge){const qe=[];return Object.keys(Ge).forEach(Ve=>{const Ye=Ge[Ve];Array.isArray(Ye)?Ye.forEach(ft=>{qe.push({param:Ve,value:ft,op:"a"})}):qe.push({param:Ve,value:Ye,op:"a"})}),this.clone(qe)}set(Ge,qe){return this.clone({param:Ge,value:qe,op:"s"})}delete(Ge,qe){return this.clone({param:Ge,value:qe,op:"d"})}toString(){return this.init(),this.keys().map(Ge=>{const qe=this.encoder.encodeKey(Ge);return this.map.get(Ge).map(Ve=>qe+"="+this.encoder.encodeValue(Ve)).join("&")}).filter(Ge=>""!==Ge).join("&")}clone(Ge){const qe=new ne({encoder:this.encoder});return qe.cloneFrom=this.cloneFrom||this,qe.updates=(this.updates||[]).concat(Ge),qe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ge=>this.map.set(Ge,this.cloneFrom.map.get(Ge))),this.updates.forEach(Ge=>{switch(Ge.op){case"a":case"s":const qe=("a"===Ge.op?this.map.get(Ge.param):void 0)||[];qe.push(we(Ge.value)),this.map.set(Ge.param,qe);break;case"d":if(void 0===Ge.value){this.map.delete(Ge.param);break}{let Ve=this.map.get(Ge.param)||[];const Ye=Ve.indexOf(we(Ge.value));-1!==Ye&&Ve.splice(Ye,1),Ve.length>0?this.map.set(Ge.param,Ve):this.map.delete(Ge.param)}}}),this.cloneFrom=this.updates=null)}}class Re{constructor(){this.map=new Map}set(Ge,qe){return this.map.set(Ge,qe),this}get(Ge){return this.map.has(Ge)||this.map.set(Ge,Ge.defaultValue()),this.map.get(Ge)}delete(Ge){return this.map.delete(Ge),this}has(Ge){return this.map.has(Ge)}keys(){return this.map.keys()}}function Ae(gt){return typeof ArrayBuffer<"u"&&gt instanceof ArrayBuffer}function Ee(gt){return typeof Blob<"u"&&gt instanceof Blob}function st(gt){return typeof FormData<"u"&&gt instanceof FormData}class Ue{constructor(Ge,qe,Ve,Ye){let ft;if(this.url=qe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ge.toUpperCase(),function je(gt){switch(gt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ye?(this.body=void 0!==Ve?Ve:null,ft=Ye):ft=Ve,ft&&(this.reportProgress=!!ft.reportProgress,this.withCredentials=!!ft.withCredentials,ft.responseType&&(this.responseType=ft.responseType),ft.headers&&(this.headers=ft.headers),ft.context&&(this.context=ft.context),ft.params&&(this.params=ft.params)),this.headers||(this.headers=new P),this.context||(this.context=new Re),this.params){const Et=this.params.toString();if(0===Et.length)this.urlWithParams=qe;else{const ln=qe.indexOf("?");this.urlWithParams=qe+(-1===ln?"?":ln<qe.length-1?"&":"")+Et}}else this.params=new ne,this.urlWithParams=qe}serializeBody(){return null===this.body?null:Ae(this.body)||Ee(this.body)||st(this.body)||function it(gt){return typeof URLSearchParams<"u"&&gt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||st(this.body)?null:Ee(this.body)?this.body.type||null:Ae(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ge={}){var qe;const Ve=Ge.method||this.method,Ye=Ge.url||this.url,ft=Ge.responseType||this.responseType,Et=void 0!==Ge.body?Ge.body:this.body,ln=void 0!==Ge.withCredentials?Ge.withCredentials:this.withCredentials,hn=void 0!==Ge.reportProgress?Ge.reportProgress:this.reportProgress;let On=Ge.headers||this.headers,Dr=Ge.params||this.params;const Zn=null!==(qe=Ge.context)&&void 0!==qe?qe:this.context;return void 0!==Ge.setHeaders&&(On=Object.keys(Ge.setHeaders).reduce((nr,yr)=>nr.set(yr,Ge.setHeaders[yr]),On)),Ge.setParams&&(Dr=Object.keys(Ge.setParams).reduce((nr,yr)=>nr.set(yr,Ge.setParams[yr]),Dr)),new Ue(Ve,Ye,Et,{params:Dr,headers:On,context:Zn,reportProgress:hn,responseType:ft,withCredentials:ln})}}var Ie=(()=>((Ie=Ie||{})[Ie.Sent=0]="Sent",Ie[Ie.UploadProgress=1]="UploadProgress",Ie[Ie.ResponseHeader=2]="ResponseHeader",Ie[Ie.DownloadProgress=3]="DownloadProgress",Ie[Ie.Response=4]="Response",Ie[Ie.User=5]="User",Ie))();class Pe{constructor(Ge,qe=200,Ve="OK"){this.headers=Ge.headers||new P,this.status=void 0!==Ge.status?Ge.status:qe,this.statusText=Ge.statusText||Ve,this.url=Ge.url||null,this.ok=this.status>=200&&this.status<300}}class Je extends Pe{constructor(Ge={}){super(Ge),this.type=Ie.ResponseHeader}clone(Ge={}){return new Je({headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class ut extends Pe{constructor(Ge={}){super(Ge),this.type=Ie.Response,this.body=void 0!==Ge.body?Ge.body:null}clone(Ge={}){return new ut({body:void 0!==Ge.body?Ge.body:this.body,headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class $t extends Pe{constructor(Ge){super(Ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ge.url||"(unknown url)"}`:`Http failure response for ${Ge.url||"(unknown url)"}: ${Ge.status} ${Ge.statusText}`,this.error=Ge.error||null}}function mt(gt,Ge){return{body:Ge,headers:gt.headers,context:gt.context,observe:gt.observe,params:gt.params,reportProgress:gt.reportProgress,responseType:gt.responseType,withCredentials:gt.withCredentials}}let De=(()=>{class gt{constructor(qe){this.handler=qe}request(qe,Ve,Ye={}){let ft;if(qe instanceof Ue)ft=qe;else{let hn,On;hn=Ye.headers instanceof P?Ye.headers:new P(Ye.headers),Ye.params&&(On=Ye.params instanceof ne?Ye.params:new ne({fromObject:Ye.params})),ft=new Ue(qe,Ve,void 0!==Ye.body?Ye.body:null,{headers:hn,context:Ye.context,params:On,reportProgress:Ye.reportProgress,responseType:Ye.responseType||"json",withCredentials:Ye.withCredentials})}const Et=(0,d.of)(ft).pipe((0,W.b)(hn=>this.handler.handle(hn)));if(qe instanceof Ue||"events"===Ye.observe)return Et;const ln=Et.pipe((0,V.h)(hn=>hn instanceof ut));switch(Ye.observe||"body"){case"body":switch(ft.responseType){case"arraybuffer":return ln.pipe((0,O.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return hn.body}));case"blob":return ln.pipe((0,O.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof Blob))throw new Error("Response is not a Blob.");return hn.body}));case"text":return ln.pipe((0,O.U)(hn=>{if(null!==hn.body&&"string"!=typeof hn.body)throw new Error("Response is not a string.");return hn.body}));default:return ln.pipe((0,O.U)(hn=>hn.body))}case"response":return ln;default:throw new Error(`Unreachable: unhandled observe type ${Ye.observe}}`)}}delete(qe,Ve={}){return this.request("DELETE",qe,Ve)}get(qe,Ve={}){return this.request("GET",qe,Ve)}head(qe,Ve={}){return this.request("HEAD",qe,Ve)}jsonp(qe,Ve){return this.request("JSONP",qe,{params:(new ne).append(Ve,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(qe,Ve={}){return this.request("OPTIONS",qe,Ve)}patch(qe,Ve,Ye={}){return this.request("PATCH",qe,mt(Ye,Ve))}post(qe,Ve,Ye={}){return this.request("POST",qe,mt(Ye,Ve))}put(qe,Ve,Ye={}){return this.request("PUT",qe,mt(Ye,Ve))}}return gt.\u0275fac=function(qe){return new(qe||gt)(c.LFG(A))},gt.\u0275prov=c.Yz7({token:gt,factory:gt.\u0275fac}),gt})();function ht(gt,Ge){return Ge(gt)}function Rt(gt,Ge){return(qe,Ve)=>Ge.intercept(qe,{handle:Ye=>gt(Ye,Ve)})}const Pt=new c.OlP(""),Wt=new c.OlP(""),an=new c.OlP("");function In(){let gt=null;return(Ge,qe)=>{var Ve;null===gt&&(gt=(null!==(Ve=(0,c.f3M)(Pt,{optional:!0}))&&void 0!==Ve?Ve:[]).reduceRight(Rt,ht));const Ye=(0,c.f3M)(c.HDt),ft=Ye.add();return gt(Ge,qe).pipe((0,N.x)(()=>Ye.remove(ft)))}}let vn=(()=>{class gt extends A{constructor(qe,Ve){super(),this.backend=qe,this.injector=Ve,this.chain=null,this.pendingTasks=(0,c.f3M)(c.HDt)}handle(qe){if(null===this.chain){const Ye=Array.from(new Set([...this.injector.get(Wt),...this.injector.get(an,[])]));this.chain=Ye.reduceRight((ft,Et)=>function Ct(gt,Ge,qe){return(Ve,Ye)=>qe.runInContext(()=>Ge(Ve,ft=>gt(ft,Ye)))}(ft,Et,this.injector),ht)}const Ve=this.pendingTasks.add();return this.chain(qe,Ye=>this.backend.handle(Ye)).pipe((0,N.x)(()=>this.pendingTasks.remove(Ve)))}}return gt.\u0275fac=function(qe){return new(qe||gt)(c.LFG(S),c.LFG(c.lqb))},gt.\u0275prov=c.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const pr=/^\)\]\}',?\n/;let Yn=(()=>{class gt{constructor(qe){this.xhrFactory=qe}handle(qe){if("JSONP"===qe.method)throw new c.vHH(-2800,!1);const Ve=this.xhrFactory;return(Ve.\u0275loadImpl?(0,Y.D)(Ve.\u0275loadImpl()):(0,d.of)(null)).pipe((0,M.w)(()=>new U.y(ft=>{const Et=Ve.build();if(Et.open(qe.method,qe.urlWithParams),qe.withCredentials&&(Et.withCredentials=!0),qe.headers.forEach((dr,Fr)=>Et.setRequestHeader(dr,Fr.join(","))),qe.headers.has("Accept")||Et.setRequestHeader("Accept","application/json, text/plain, */*"),!qe.headers.has("Content-Type")){const dr=qe.detectContentTypeHeader();null!==dr&&Et.setRequestHeader("Content-Type",dr)}if(qe.responseType){const dr=qe.responseType.toLowerCase();Et.responseType="json"!==dr?dr:"text"}const ln=qe.serializeBody();let hn=null;const On=()=>{if(null!==hn)return hn;const dr=Et.statusText||"OK",Fr=new P(Et.getAllResponseHeaders()),Ur=function An(gt){return"responseURL"in gt&&gt.responseURL?gt.responseURL:/^X-Request-URL:/m.test(gt.getAllResponseHeaders())?gt.getResponseHeader("X-Request-URL"):null}(Et)||qe.url;return hn=new Je({headers:Fr,status:Et.status,statusText:dr,url:Ur}),hn},Dr=()=>{let{headers:dr,status:Fr,statusText:Ur,url:bi}=On(),Qr=null;204!==Fr&&(Qr=typeof Et.response>"u"?Et.responseText:Et.response),0===Fr&&(Fr=Qr?200:0);let mi=Fr>=200&&Fr<300;if("json"===qe.responseType&&"string"==typeof Qr){const Wr=Qr;Qr=Qr.replace(pr,"");try{Qr=""!==Qr?JSON.parse(Qr):null}catch(li){Qr=Wr,mi&&(mi=!1,Qr={error:li,text:Qr})}}mi?(ft.next(new ut({body:Qr,headers:dr,status:Fr,statusText:Ur,url:bi||void 0})),ft.complete()):ft.error(new $t({error:Qr,headers:dr,status:Fr,statusText:Ur,url:bi||void 0}))},Zn=dr=>{const{url:Fr}=On(),Ur=new $t({error:dr,status:Et.status||0,statusText:Et.statusText||"Unknown Error",url:Fr||void 0});ft.error(Ur)};let nr=!1;const yr=dr=>{nr||(ft.next(On()),nr=!0);let Fr={type:Ie.DownloadProgress,loaded:dr.loaded};dr.lengthComputable&&(Fr.total=dr.total),"text"===qe.responseType&&Et.responseText&&(Fr.partialText=Et.responseText),ft.next(Fr)},Kn=dr=>{let Fr={type:Ie.UploadProgress,loaded:dr.loaded};dr.lengthComputable&&(Fr.total=dr.total),ft.next(Fr)};return Et.addEventListener("load",Dr),Et.addEventListener("error",Zn),Et.addEventListener("timeout",Zn),Et.addEventListener("abort",Zn),qe.reportProgress&&(Et.addEventListener("progress",yr),null!==ln&&Et.upload&&Et.upload.addEventListener("progress",Kn)),Et.send(ln),ft.next({type:Ie.Sent}),()=>{Et.removeEventListener("error",Zn),Et.removeEventListener("abort",Zn),Et.removeEventListener("load",Dr),Et.removeEventListener("timeout",Zn),qe.reportProgress&&(Et.removeEventListener("progress",yr),null!==ln&&Et.upload&&Et.upload.removeEventListener("progress",Kn)),Et.readyState!==Et.DONE&&Et.abort()}})))}}return gt.\u0275fac=function(qe){return new(qe||gt)(c.LFG(_.JF))},gt.\u0275prov=c.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const Ft=new c.OlP("XSRF_ENABLED"),on=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Rn=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Mn{}let jn=(()=>{class gt{constructor(qe,Ve,Ye){this.doc=qe,this.platform=Ve,this.cookieName=Ye,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const qe=this.doc.cookie||"";return qe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(qe,this.cookieName),this.lastCookieString=qe),this.lastToken}}return gt.\u0275fac=function(qe){return new(qe||gt)(c.LFG(_.K0),c.LFG(c.Lbi),c.LFG(on))},gt.\u0275prov=c.Yz7({token:gt,factory:gt.\u0275fac}),gt})();function zr(gt,Ge){const qe=gt.url.toLowerCase();if(!(0,c.f3M)(Ft)||"GET"===gt.method||"HEAD"===gt.method||qe.startsWith("http://")||qe.startsWith("https://"))return Ge(gt);const Ve=(0,c.f3M)(Mn).getToken(),Ye=(0,c.f3M)(Rn);return null!=Ve&&!gt.headers.has(Ye)&&(gt=gt.clone({headers:gt.headers.set(Ye,Ve)})),Ge(gt)}var Tn=(()=>((Tn=Tn||{})[Tn.Interceptors=0]="Interceptors",Tn[Tn.LegacyInterceptors=1]="LegacyInterceptors",Tn[Tn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Tn[Tn.NoXsrfProtection=3]="NoXsrfProtection",Tn[Tn.JsonpSupport=4]="JsonpSupport",Tn[Tn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Tn[Tn.Fetch=6]="Fetch",Tn))();function We(gt,Ge){return{\u0275kind:gt,\u0275providers:Ge}}function et(...gt){const Ge=[De,Yn,vn,{provide:A,useExisting:vn},{provide:S,useExisting:Yn},{provide:Wt,useValue:zr,multi:!0},{provide:Ft,useValue:!0},{provide:Mn,useClass:jn}];for(const qe of gt)Ge.push(...qe.\u0275providers);return(0,c.MR2)(Ge)}const bt=new c.OlP("LEGACY_INTERCEPTOR_FN");let Ce=(()=>{class gt{}return gt.\u0275fac=function(qe){return new(qe||gt)},gt.\u0275mod=c.oAB({type:gt}),gt.\u0275inj=c.cJS({providers:[et(We(Tn.LegacyInterceptors,[{provide:bt,useFactory:In},{provide:Wt,useExisting:bt,multi:!0}]))]}),gt})()},6689:(lt,rt,C)=>{"use strict";C.d(rt,{QbO:()=>uv,tb:()=>G_,AFp:()=>Cp,ip1:()=>wI,hGG:()=>RS,z2F:()=>$f,Ojb:()=>Cm,sBO:()=>fS,Sil:()=>WD,_Vd:()=>od,EJc:()=>zD,Xts:()=>ed,SBq:()=>Ic,lqb:()=>ll,qLn:()=>vu,vpe:()=>ec,XFs:()=>on,OlP:()=>Li,zs3:()=>Zl,ZZ4:()=>X_,aQg:()=>Q_,soG:()=>jy,YKP:()=>DE,h0i:()=>kf,PXZ:()=>iS,R0b:()=>Ca,FiY:()=>aa,Lbi:()=>Ap,g9A:()=>Ch,Qsj:()=>Fh,FYo:()=>kh,JOm:()=>Wa,tp0:()=>il,Rgc:()=>Bg,dDg:()=>eS,eoX:()=>kI,q4F:()=>Lh,GfV:()=>Fp,s_b:()=>Uy,ifc:()=>Ye,VuI:()=>$S,LMc:()=>US,MMx:()=>TE,Lck:()=>Pw,eFA:()=>BI,G48:()=>hS,Gpc:()=>je,f3M:()=>_t,$WT:()=>Uo,MR2:()=>Ih,_c5:()=>AS,qFp:()=>VS,rg0:()=>us,c2e:()=>DI,zSh:()=>vp,HDt:()=>SI,wAp:()=>Hr,vHH:()=>Ie,lri:()=>xI,rWj:()=>NI,cg1:()=>m_,kL8:()=>q0,dqk:()=>Wn,Z0I:()=>fn,eJc:()=>k_,QGY:()=>Cg,F4k:()=>Xv,RDi:()=>hc,AaK:()=>ne,qOj:()=>hf,Xq5:()=>hy,TTD:()=>Vs,_Bn:()=>wE,jDz:()=>CE,xp6:()=>Hh,uIk:()=>mf,ekj:()=>t,Suo:()=>nI,Xpm:()=>Lt,lG2:()=>Qi,Yz7:()=>Sn,cJS:()=>Gn,oAB:()=>Or,Yjl:()=>Ui,Y36:()=>Cc,_UZ:()=>Ey,GkF:()=>Tg,qZA:()=>Dg,TgZ:()=>kc,EpF:()=>Zv,n5z:()=>Ss,LFG:()=>Ot,$8M:()=>wa,$Z:()=>Hm,NdJ:()=>Dy,CRH:()=>rI,O4$:()=>L,oxw:()=>Qv,ALo:()=>VE,lcZ:()=>jE,xi3:()=>HE,Hsn:()=>e_,F$t:()=>Ml,Q6J:()=>Pu,MGl:()=>Pf,DdM:()=>NE,VKq:()=>kE,iGM:()=>eI,MAs:()=>qv,KtG:()=>Os,CHM:()=>zs,LSH:()=>fp,P3R:()=>pp,YNc:()=>Yv,_uU:()=>R0,Oqu:()=>p_,hij:()=>Ny,AsE:()=>g_,Gf:()=>tI});var c=C(8645),d=C(7394),Y=C(5619),U=C(5592),W=C(7537),V=C(4829),O=C(6232),N=C(4564),M=C(2459),A=C(2096),S=C(1887),P=C(9360);function H(n={}){const{connector:r=(()=>new c.x),resetOnError:o=!0,resetOnComplete:a=!0,resetOnRefCountZero:u=!0}=n;return g=>{let I,k,z,te=0,_e=!1,$e=!1;const at=()=>{null==k||k.unsubscribe(),k=void 0},At=()=>{at(),I=z=void 0,_e=$e=!1},en=()=>{const yn=I;At(),null==yn||yn.unsubscribe()};return(0,P.e)((yn,Vn)=>{te++,!$e&&!_e&&at();const lr=z=null!=z?z:r();Vn.add(()=>{te--,0===te&&!$e&&!_e&&(k=X(en,u))}),lr.subscribe(Vn),!I&&te>0&&(I=new S.Hp({next:sn=>lr.next(sn),error:sn=>{$e=!0,at(),k=X(At,o,sn),lr.error(sn)},complete:()=>{_e=!0,at(),k=X(At,a),lr.complete()}}),(0,V.Xf)(yn).subscribe(I))})(g)}}function X(n,r,...o){if(!0===r)return void n();if(!1===r)return;const a=new S.Hp({next:()=>{a.unsubscribe(),n()}});return(0,V.Xf)(r(...o)).subscribe(a)}var se,be=C(4664),pe=C(3997);function Me(n){for(let r in n)if(n[r]===Me)return r;throw Error("Could not find renamed property on target object.")}function we(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ye(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Re=Me({__forward_ref__:Me});function je(n){return n.__forward_ref__=je,n.toString=function(){return ne(this())},n}function Ae(n){return Ee(n)?n():n}function Ee(n){return"function"==typeof n&&n.hasOwnProperty(Re)&&n.__forward_ref__===je}function st(n){return n&&!!n.\u0275providers}const Ue="https://g.co/ng/security#xss";class Ie extends Error{constructor(r,o){super(function Pe(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Je(n){return"string"==typeof n?n:null==n?"":String(n)}function Le(n,r){throw new Ie(-201,!1)}function vn(n,r){null==n&&function Tt(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Sn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function tr(n){return mn(n,An)||mn(n,Ft)}function fn(n){return null!==tr(n)}function mn(n,r){return n.hasOwnProperty(r)?n[r]:null}function pr(n){return n&&(n.hasOwnProperty(Yn)||n.hasOwnProperty(sr))?n[Yn]:null}const An=Me({\u0275prov:Me}),Yn=Me({\u0275inj:Me}),Ft=Me({ngInjectableDef:Me}),sr=Me({ngInjectorDef:Me});var on=(()=>((on=on||{})[on.Default=0]="Default",on[on.Host=1]="Host",on[on.Self=2]="Self",on[on.SkipSelf=4]="SkipSelf",on[on.Optional=8]="Optional",on))();let Tr;function Mn(n){const r=Tr;return Tr=n,r}function jn(n,r,o){const a=tr(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&on.Optional?null:void 0!==r?r:void Le(ne(n))}const Wn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nt={},bt="__NG_DI_FLAG__",Gt="ngTempTokenPath",nn=/\n/gm,he="__source";let de;function Ce(n){const r=de;return de=n,r}function pt(n,r=on.Default){if(void 0===de)throw new Ie(-203,!1);return null===de?jn(n,void 0,r):de.get(n,r&on.Optional?null:void 0,r)}function Ot(n,r=on.Default){return(function Rn(){return Tr}()||pt)(Ae(n),r)}function _t(n,r=on.Default){return Ot(n,kt(r))}function kt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Jt(n){const r=[];for(let o=0;o<n.length;o++){const a=Ae(n[o]);if(Array.isArray(a)){if(0===a.length)throw new Ie(900,!1);let u,g=on.Default;for(let I=0;I<a.length;I++){const k=a[I],z=bn(k);"number"==typeof z?-1===z?u=k.token:g|=z:u=k}r.push(Ot(u,g))}else r.push(Ot(a))}return r}function Zt(n,r){return n[bt]=r,n.prototype[bt]=r,n}function bn(n){return n[bt]}function qe(n){return{toString:n}.toString()}var Ve=(()=>((Ve=Ve||{})[Ve.OnPush=0]="OnPush",Ve[Ve.Default=1]="Default",Ve))(),Ye=(()=>{return(n=Ye||(Ye={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ye;var n})();const ft={},Et=[],ln=Me({\u0275cmp:Me}),hn=Me({\u0275dir:Me}),On=Me({\u0275pipe:Me}),Dr=Me({\u0275mod:Me}),Zn=Me({\u0275fac:Me}),nr=Me({__NG_ELEMENT_ID__:Me}),yr=Me({__NG_ENV_ID__:Me});function Kn(n,r,o){let a=n.length;for(;;){const u=n.indexOf(r,o);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const g=r.length;if(u+g===a||n.charCodeAt(u+g)<=32)return u}o=u+1}}function dr(n,r,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const g=o[a++],I=o[a++],k=o[a++];n.setAttribute(r,I,k,g)}else{const g=u,I=o[++a];Ur(g)?n.setProperty(r,g,I):n.setAttribute(r,g,I),a++}}return a}function Fr(n){return 3===n||4===n||6===n}function Ur(n){return 64===n.charCodeAt(0)}function bi(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?o=u:0===o||Qr(n,o,u,null,-1===o||2===o?r[++a]:null)}}return n}function Qr(n,r,o,a,u){let g=0,I=n.length;if(-1===r)I=-1;else for(;g<n.length;){const k=n[g++];if("number"==typeof k){if(k===r){I=-1;break}if(k>r){I=g-1;break}}}for(;g<n.length;){const k=n[g];if("number"==typeof k)break;if(k===o){if(null===a)return void(null!==u&&(n[g+1]=u));if(a===n[g+1])return void(n[g+2]=u)}g++,null!==a&&g++,null!==u&&g++}-1!==I&&(n.splice(I,0,r),g=I+1),n.splice(g++,0,o),null!==a&&n.splice(g++,0,a),null!==u&&n.splice(g++,0,u)}const mi="ng-template";function Wr(n,r,o){let a=0,u=!0;for(;a<n.length;){let g=n[a++];if("string"==typeof g&&u){const I=n[a++];if(o&&"class"===g&&-1!==Kn(I.toLowerCase(),r,0))return!0}else{if(1===g){for(;a<n.length&&"string"==typeof(g=n[a++]);)if(g.toLowerCase()===r)return!0;return!1}"number"==typeof g&&(u=!1)}}return!1}function li(n){return 4===n.type&&n.value!==mi}function wi(n,r,o){return r===(4!==n.type||o?n.value:mi)}function Ci(n,r,o){let a=4;const u=n.attrs||[],g=function ae(n){for(let r=0;r<n.length;r++)if(Fr(n[r]))return r;return n.length}(u);let I=!1;for(let k=0;k<r.length;k++){const z=r[k];if("number"!=typeof z){if(!I)if(4&a){if(a=2|1&a,""!==z&&!wi(n,z,o)||""===z&&1===r.length){if(ci(a))return!1;I=!0}}else{const te=8&a?z:r[++k];if(8&a&&null!==n.attrs){if(!Wr(n.attrs,te,o)){if(ci(a))return!1;I=!0}continue}const $e=yt(8&a?"class":z,u,li(n),o);if(-1===$e){if(ci(a))return!1;I=!0;continue}if(""!==te){let at;at=$e>g?"":u[$e+1].toLowerCase();const At=8&a?at:null;if(At&&-1!==Kn(At,te,0)||2&a&&te!==at){if(ci(a))return!1;I=!0}}}}else{if(!I&&!ci(a)&&!ci(z))return!1;if(I&&ci(z))continue;I=!1,a=z|1&a}}return ci(a)||I}function ci(n){return 0==(1&n)}function yt(n,r,o,a){if(null===r)return-1;let u=0;if(a||!o){let g=!1;for(;u<r.length;){const I=r[u];if(I===n)return u;if(3===I||6===I)g=!0;else{if(1===I||2===I){let k=r[++u];for(;"string"==typeof k;)k=r[++u];continue}if(4===I)break;if(0===I){u+=4;continue}}u+=g?1:2}return-1}return function q(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function Q(n,r,o=!1){for(let a=0;a<r.length;a++)if(Ci(n,r[a],o))return!0;return!1}function ge(n,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(n.length===a.length){for(let u=0;u<n.length;u++)if(n[u]!==a[u])continue e;return!0}}return!1}function Oe(n,r){return n?":not("+r.trim()+")":r}function nt(n){let r=n[0],o=1,a=2,u="",g=!1;for(;o<n.length;){let I=n[o];if("string"==typeof I)if(2&a){const k=n[++o];u+="["+I+(k.length>0?'="'+k+'"':"")+"]"}else 8&a?u+="."+I:4&a&&(u+=" "+I);else""!==u&&!ci(I)&&(r+=Oe(g,u),u=""),a=I,g=g||!ci(a);o++}return""!==u&&(r+=Oe(g,u)),r}function Lt(n){return qe(()=>{var r;const o=to(n),a={...o,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ve.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:null!==(r=n.signals)&&void 0!==r&&r,data:n.data||{},encapsulation:n.encapsulation||Ye.Emulated,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null,id:""};wo(a);const u=n.dependencies;return a.directiveDefs=no(u,!1),a.pipeDefs=no(u,!0),a.id=function Pr(n){let r=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const u of o)r=Math.imul(31,r)+u.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function Pn(n){return Mr(n)||di(n)}function Jn(n){return null!==n}function Or(n){return qe(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ui(n,r){if(null==n)return ft;const o={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],g=u;Array.isArray(u)&&(g=u[1],u=u[0]),o[u]=a,r&&(r[u]=g)}return o}function Qi(n){return qe(()=>{const r=to(n);return wo(r),r})}function Ui(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Mr(n){return n[ln]||null}function di(n){return n[hn]||null}function Ni(n){return n[On]||null}function Uo(n){const r=Mr(n)||di(n)||Ni(n);return null!==r&&r.standalone}function ni(n,r){const o=n[Dr]||null;if(!o&&!0===r)throw new Error(`Type ${ne(n)} does not have '\u0275mod' property.`);return o}function to(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||ft,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ui(n.inputs,r),outputs:ui(n.outputs)}}function wo(n){var r;null===(r=n.features)||void 0===r||r.forEach(o=>o(n))}function no(n,r){if(!n)return null;const o=r?Ni:Pn;return()=>("function"==typeof n?n():n).map(a=>o(a)).filter(Jn)}const Xr=0,wn=1,cr=2,Kr=3,ki=4,Do=5,hi=6,$o=7,_i=8,oo=9,Ai=10,er=11,qi=12,Vo=13,Zi=14,yi=15,os=16,so=17,Gi=18,ss=19,ao=20,mo=21,ro=22,Yo=23,lo=24,hr=25,vs=1,Bs=2,Wi=7,oi=9,ji=11;function Jr(n){return Array.isArray(n)&&"object"==typeof n[vs]}function fi(n){return Array.isArray(n)&&!0===n[vs]}function si(n){return 0!=(4&n.flags)}function Ji(n){return n.componentOffset>-1}function as(n){return 1==(1&n.flags)}function uo(n){return!!n.template}function _s(n){return 0!=(512&n[cr])}function ur(n,r){return n.hasOwnProperty(Zn)?n[Zn]:null}let bs=null!==(se=Wn.WeakRef)&&void 0!==se?se:class vo{constructor(r){this.ref=r}deref(){return this.ref}},Us=0,Ri=null,Hi=!1;function Ei(n){const r=Ri;return Ri=n,r}class Xa{constructor(){this.id=Us++,this.ref=function Ms(n){return new bs(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,o]of this.producers){const a=o.producerNode.deref();if(void 0!==a&&o.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(r),null==a||a.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=Hi;Hi=!0;try{for(const[o,a]of this.consumers){const u=a.consumerNode.deref();void 0!==u&&u.trackingVersion===a.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),null==u||u.producers.delete(this.id))}}finally{Hi=r}}producerAccessed(){if(Hi)throw new Error("");if(null===Ri)return;let r=Ri.producers.get(this.id);void 0===r?(r={consumerNode:Ri.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ri.trackingVersion},Ri.producers.set(this.id,r),this.consumers.set(Ri.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Ri.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=Ri)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let _a=null;function us(n){const r=Ei(null);try{return n()}finally{Ei(r)}}const zo=()=>{};class _o extends Xa{constructor(r,o,a){super(),this.watch=r,this.schedule=o,this.dirty=!1,this.cleanupFn=zo,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=Ei(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=zo,this.watch(this.registerOnCleanup)}finally{Ei(r)}}cleanup(){this.cleanupFn()}}class ha{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Vs(){return ds}function ds(n){return n.type.prototype.ngOnChanges&&(n.setInput=fl),Ma}function Ma(){const n=G(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===ft)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function fl(n,r,o,a){const u=this.declaredInputs[o],g=G(n)||function ce(n,r){return n[hs]=r}(n,{previous:ft,current:null}),I=g.current||(g.current={}),k=g.previous,z=k[u];I[u]=new ha(z&&z.currentValue,r,k===ft),n[a]=r}Vs.ngInherit=!0;const hs="__ngSimpleChanges__";function G(n){return n[hs]||null}const Ze=function(n,r,o){},Vt="svg";function _n(n){for(;Array.isArray(n);)n=n[Xr];return n}function ti(n,r){return _n(r[n])}function br(n,r){return _n(r[n.index])}function Nr(n,r){return n.data[r]}function Yr(n,r){return n[r]}function $r(n,r){const o=r[n];return Jr(o)?o:o[Xr]}function qr(n,r){return null==r?null:n[r]}function fo(n){n[so]=0}function Hs(n){1024&n[cr]||(n[cr]|=1024,Hn(n,1))}function Nn(n){1024&n[cr]&&(n[cr]&=-1025,Hn(n,-1))}function Hn(n,r){let o=n[Kr];if(null===o)return;o[Do]+=r;let a=o;for(o=o[Kr];null!==o&&(1===r&&1===a[Do]||-1===r&&0===a[Do]);)o[Do]+=r,a=o,o=o[Kr]}const It={lFrame:Ia(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pl(){return It.bindingsEnabled}function Oa(){return null!==It.skipHydrationRootTNode}function tn(){return It.lFrame.lView}function Bn(){return It.lFrame.tView}function zs(n){return It.lFrame.contextLView=n,n[_i]}function Os(n){return It.lFrame.contextLView=null,n}function Zr(){let n=gr();for(;null!==n&&64===n.type;)n=n.parent;return n}function gr(){return It.lFrame.currentTNode}function kr(n,r){const o=It.lFrame;o.currentTNode=n,o.isParent=r}function Ba(){return It.lFrame.isParent}function $i(){It.lFrame.isParent=!1}function So(){const n=It.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function xa(){return It.lFrame.bindingIndex++}function xs(n){const r=It.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Zo(n,r){const o=It.lFrame;o.bindingIndex=o.bindingRootIndex=n,_l(r)}function _l(n){It.lFrame.currentDirectiveIndex=n}function ia(){return It.lFrame.currentQueryIndex}function Va(n){It.lFrame.currentQueryIndex=n}function Ut(n){const r=n[wn];return 2===r.type?r.declTNode:1===r.type?n[hi]:null}function ja(n,r,o){if(o&on.SkipSelf){let u=r,g=n;for(;!(u=u.parent,null!==u||o&on.Host||(u=Ut(g),null===u||(g=g[Zi],10&u.type))););if(null===u)return!1;r=u,n=g}const a=It.lFrame=Ha();return a.currentTNode=r,a.lView=n,!0}function Go(n){const r=Ha(),o=n[wn];It.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Ha(){const n=It.lFrame,r=null===n?null:n.child;return null===r?Ia(n):r}function Ia(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function fs(){const n=It.lFrame;return It.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const xl=fs;function Ws(){const n=fs();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Xo(){return It.lFrame.selectedIndex}function pa(n){It.lFrame.selectedIndex=n}function R(){const n=It.lFrame;return Nr(n.tView,n.selectedIndex)}function L(){It.lFrame.currentNamespace=Vt}let xe=!0;function ct(){return xe}function qt(n){xe=n}function mr(n,r){for(let te=r.directiveStart,_e=r.directiveEnd;te<_e;te++){const at=n.data[te].type.prototype,{ngAfterContentInit:At,ngAfterContentChecked:en,ngAfterViewInit:yn,ngAfterViewChecked:Vn,ngOnDestroy:lr}=at;var o,a,u,g,I,k,z;At&&(null!==(o=n.contentHooks)&&void 0!==o?o:n.contentHooks=[]).push(-te,At),en&&((null!==(a=n.contentHooks)&&void 0!==a?a:n.contentHooks=[]).push(te,en),(null!==(u=n.contentCheckHooks)&&void 0!==u?u:n.contentCheckHooks=[]).push(te,en)),yn&&(null!==(g=n.viewHooks)&&void 0!==g?g:n.viewHooks=[]).push(-te,yn),Vn&&((null!==(I=n.viewHooks)&&void 0!==I?I:n.viewHooks=[]).push(te,Vn),(null!==(k=n.viewCheckHooks)&&void 0!==k?k:n.viewCheckHooks=[]).push(te,Vn)),null!=lr&&(null!==(z=n.destroyHooks)&&void 0!==z?z:n.destroyHooks=[]).push(te,lr)}}function rr(n,r,o){Ks(n,r,3,o)}function Ii(n,r,o,a){(3&n[cr])===o&&Ks(n,r,o,a)}function Oo(n,r){let o=n[cr];(3&o)===r&&(o&=8191,o+=1,n[cr]=o)}function Ks(n,r,o,a){const g=null!=a?a:-1,I=r.length-1;let k=0;for(let z=void 0!==a?65535&n[so]:0;z<I;z++)if("number"==typeof r[z+1]){if(k=r[z],null!=a&&k>=a)break}else r[z]<0&&(n[so]+=65536),(k<g||-1==g)&&(za(n,o,r,z),n[so]=(4294901760&n[so])+z+2),z++}function Ns(n,r){Ze(4,n,r);const o=Ei(null);try{r.call(n)}finally{Ei(o),Ze(5,n,r)}}function za(n,r,o,a){const u=o[a]<0,g=o[a+1],k=n[u?-o[a]:o[a]];u?n[cr]>>13<n[so]>>16&&(3&n[cr])===r&&(n[cr]+=8192,Ns(k,g)):Ns(k,g)}const Qo=-1;class oa{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function $d(n){return n!==Qo}function Ga(n){return 32767&n}function tl(n,r){let o=function Hc(n){return n>>16}(n),a=r;for(;o>0;)a=a[Zi],o--;return a}let ka=!0;function J(n){const r=ka;return ka=n,r}const T=255,K=5;let oe=0;const Te={};function Qe(n,r){const o=Ht(n,r);if(-1!==o)return o;const a=r[wn];a.firstCreatePass&&(n.injectorIndex=r.length,Mt(a.data,n),Mt(r,null),Mt(a.blueprint,null));const u=pn(n,r),g=n.injectorIndex;if($d(u)){const I=Ga(u),k=tl(u,r),z=k[wn].data;for(let te=0;te<8;te++)r[g+te]=k[I+te]|z[I+te]}return r[g+8]=u,g}function Mt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ht(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function pn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,u=r;for(;null!==u;){if(a=Ts(u),null===a)return Qo;if(o++,u=u[Zi],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Qo}function $n(n,r,o){!function Ke(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(nr)&&(a=o[nr]),null==a&&(a=o[nr]=oe++);const u=a&T;r.data[n+(u>>K)]|=1<<u}(n,r,o)}function Fn(n,r,o){if(o&on.Optional||void 0!==n)return n;Le()}function ir(n,r,o,a){if(o&on.Optional&&void 0===a&&(a=null),!(o&(on.Self|on.Host))){const u=n[oo],g=Mn(void 0);try{return u?u.get(r,a,o&on.Optional):jn(r,a,o&on.Optional)}finally{Mn(g)}}return Fn(a,0,o)}function ar(n,r,o,a=on.Default,u){if(null!==n){if(2048&r[cr]&&!(a&on.Self)){const I=function ba(n,r,o,a,u){let g=n,I=r;for(;null!==g&&null!==I&&2048&I[cr]&&!(512&I[cr]);){const k=wr(g,I,o,a|on.Self,Te);if(k!==Te)return k;let z=g.parent;if(!z){const te=I[ao];if(te){const _e=te.get(o,Te,a);if(_e!==Te)return _e}z=Ts(I),I=I[Zi]}g=z}return u}(n,r,o,a,Te);if(I!==Te)return I}const g=wr(n,r,o,a,Te);if(g!==Te)return g}return ir(r,o,a,u)}function wr(n,r,o,a,u){const g=function To(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(nr)?n[nr]:void 0;return"number"==typeof r?r>=0?r&T:es:r}(o);if("function"==typeof g){if(!ja(r,n,a))return a&on.Host?Fn(u,0,a):ir(r,o,a,u);try{const I=g(a);if(null!=I||a&on.Optional)return I;Le()}finally{xl()}}else if("number"==typeof g){let I=null,k=Ht(n,r),z=Qo,te=a&on.Host?r[yi][hi]:null;for((-1===k||a&on.SkipSelf)&&(z=-1===k?pn(n,r):r[k+8],z!==Qo&&Jo(a,!1)?(I=r[wn],k=Ga(z),r=tl(z,r)):k=-1);-1!==k;){const _e=r[wn];if(ga(g,k,_e.data)){const $e=Di(k,r,o,I,a,te);if($e!==Te)return $e}z=r[k+8],z!==Qo&&Jo(a,r[wn].data[k+8]===te)&&ga(g,k,r)?(I=_e,k=Ga(z),r=tl(z,r)):k=-1}}return u}function Di(n,r,o,a,u,g){const I=r[wn],k=I.data[n+8],_e=Fi(k,I,o,null==a?Ji(k)&&ka:a!=I&&0!=(3&k.type),u&on.Host&&g===k);return null!==_e?Xi(r,I,_e,k):Te}function Fi(n,r,o,a,u){const g=n.providerIndexes,I=r.data,k=1048575&g,z=n.directiveStart,_e=g>>20,at=u?k+_e:n.directiveEnd;for(let At=a?k:k+_e;At<at;At++){const en=I[At];if(At<z&&o===en||At>=z&&en.type===o)return At}if(u){const At=I[z];if(At&&uo(At)&&At.type===o)return z}return null}function Xi(n,r,o,a){let u=n[o];const g=r.data;if(function El(n){return n instanceof oa}(u)){const I=u;I.resolving&&function $t(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Je(n)}(g[o]));const k=J(I.canSeeViewProviders);I.resolving=!0;const z=I.injectImpl?Mn(I.injectImpl):null;ja(n,a,on.Default);try{u=n[o]=I.factory(void 0,g,n,a),r.firstCreatePass&&o>=a.directiveStart&&function xn(n,r,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:g}=r.type.prototype;if(a){var I,k;const $e=ds(r);(null!==(I=o.preOrderHooks)&&void 0!==I?I:o.preOrderHooks=[]).push(n,$e),(null!==(k=o.preOrderCheckHooks)&&void 0!==k?k:o.preOrderCheckHooks=[]).push(n,$e)}var z,te,_e;u&&(null!==(z=o.preOrderHooks)&&void 0!==z?z:o.preOrderHooks=[]).push(0-n,u),g&&((null!==(te=o.preOrderHooks)&&void 0!==te?te:o.preOrderHooks=[]).push(n,g),(null!==(_e=o.preOrderCheckHooks)&&void 0!==_e?_e:o.preOrderCheckHooks=[]).push(n,g))}(o,g[o],r)}finally{null!==z&&Mn(z),J(k),I.resolving=!1,xl()}}return u}function ga(n,r,o){return!!(o[r+(n>>K)]&1<<n)}function Jo(n,r){return!(n&on.Self||n&on.Host&&r)}class zi{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return ar(this._tNode,this._lView,r,kt(a),o)}}function es(){return new zi(Zr(),tn())}function Ss(n){return qe(()=>{const r=n.prototype.constructor,o=r[Zn]||Io(r),a=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==a;){const g=u[Zn]||Io(u);if(g&&g!==o)return g;u=Object.getPrototypeOf(u)}return g=>new g})}function Io(n){return Ee(n)?()=>{const r=Io(Ae(n));return r&&r()}:ur(n)}function Ts(n){const r=n[wn],o=r.type;return 2===o?r.declTNode:1===o?n[hi]:null}function wa(n){return function Rr(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const g=o[u];if(Fr(g))break;if(0===g)u+=2;else if("number"==typeof g)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(g===r)return o[u+1];u+=2}}}return null}(Zr(),n)}const Da="__parameters__";function jr(n,r,o){return qe(()=>{const a=function Ar(n){return function(...o){if(n){const a=n(...o);for(const u in a)this[u]=a[u]}}}(r);function u(...g){if(this instanceof u)return a.apply(this,g),this;const I=new u(...g);return k.annotation=I,k;function k(z,te,_e){const $e=z.hasOwnProperty(Da)?z[Da]:Object.defineProperty(z,Da,{value:[]})[Da];for(;$e.length<=_e;)$e.push(null);return($e[_e]=$e[_e]||[]).push(I),z}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}function rc(n,r){n.forEach(o=>Array.isArray(o)?rc(o,r):r(o))}function Nu(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function ai(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Pi(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}function ks(n,r,o){let a=rl(n,r);return a>=0?n[1|a]=o:(a=~a,function ku(n,r,o,a){let u=n.length;if(u==r)n.push(o,a);else if(1===u)n.push(a,n[0]),n[0]=o;else{for(u--,n.push(n[u-1],n[u]);u>r;)n[u]=n[u-2],u--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function Gc(n,r){const o=rl(n,r);if(o>=0)return n[1|o]}function rl(n,r){return function Vd(n,r,o){let a=0,u=n.length>>o;for(;u!==a;){const g=a+(u-a>>1),I=n[g<<o];if(r===I)return g<<o;I>r?u=g:a=g+1}return~(u<<o)}(n,r,1)}const aa=Zt(jr("Optional"),8),il=Zt(jr("SkipSelf"),4);function Hu(n){return 128==(128&n.flags)}var Wa=(()=>((Wa=Wa||{})[Wa.Important=1]="Important",Wa[Wa.DashCase=2]="DashCase",Wa))();const Zc=/^>|^->|<!--|-->|--!>|<!-$/g,Wg=/(<|>)/,Kg="\u200b$1\u200b";const zf=new Map;let Ky=0;const jl="__ngContext__";function No(n,r){Jr(r)?(n[jl]=r[ss],function Zd(n){zf.set(n[ss],n)}(r)):n[jl]=r}let Si;function Jd(n,r){return Si(n,r)}function lc(n){const r=n[Kr];return fi(r)?r[Kr]:r}function Qg(n){return Qf(n[qi])}function Xf(n){return Qf(n[ki])}function Qf(n){for(;null!==n&&!fi(n);)n=n[ki];return n}function Hl(n,r,o,a,u){if(null!=a){let g,I=!1;fi(a)?g=a:Jr(a)&&(I=!0,a=a[Xr]);const k=_n(a);0===n&&null!==o?null==u?nh(r,o,k):go(r,o,k,u||null,!0):1===n&&null!==o?go(r,o,k,u||null,!0):2===n?function Wu(n,r,o){const a=nu(n,r);a&&function Gu(n,r,o,a){n.removeChild(r,o,a)}(n,a,r,o)}(r,k,I):3===n&&r.destroyNode(k),null!=g&&function Xy(n,r,o,a,u){const g=o[Wi];g!==_n(o)&&Hl(r,n,a,g,u);for(let k=ji;k<o.length;k++){const z=o[k];Ku(z[wn],z,n,r,a,g)}}(r,n,g,o,u)}}function cc(n,r){return n.createComment(function Xc(n){return n.replace(Zc,r=>r.replace(Wg,Kg))}(r))}function uc(n,r,o){return n.createElement(r,o)}function im(n,r){const o=n[oi],a=o.indexOf(r);Nn(r),o.splice(a,1)}function Jf(n,r){if(n.length<=ji)return;const o=ji+r,a=n[o];if(a){const u=a[os];null!==u&&u!==n&&im(u,a),r>0&&(n[o-1][ki]=a[ki]);const g=ai(n,ji+r);!function Jg(n,r){Ku(n,r,r[er],2,null,null),r[Xr]=null,r[hi]=null}(a[wn],a);const I=g[Gi];null!==I&&I.detachView(g[wn]),a[Kr]=null,a[ki]=null,a[cr]&=-129}return a}function om(n,r){if(!(256&r[cr])){var o,a;const u=r[er];null===(o=r[Yo])||void 0===o||o.destroy(),null===(a=r[lo])||void 0===a||a.destroy(),u.destroyNode&&Ku(n,r,u,3,null,null),function Zy(n){let r=n[qi];if(!r)return ep(n[wn],n);for(;r;){let o=null;if(Jr(r))o=r[qi];else{const a=r[ji];a&&(o=a)}if(!o){for(;r&&!r[ki]&&r!==n;)Jr(r)&&ep(r[wn],r),r=r[Kr];null===r&&(r=n),Jr(r)&&ep(r[wn],r),o=r&&r[ki]}r=o}}(r)}}function ep(n,r){if(!(256&r[cr])){r[cr]&=-129,r[cr]|=256,function tu(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const u=r[o[a]];if(!(u instanceof oa)){const g=o[a+1];if(Array.isArray(g))for(let I=0;I<g.length;I+=2){const k=u[g[I]],z=g[I+1];Ze(4,k,z);try{z.call(k)}finally{Ze(5,k,z)}}else{Ze(4,u,g);try{g.call(u)}finally{Ze(5,u,g)}}}}}(n,r),function tp(n,r){const o=n.cleanup,a=r[$o];if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const I=o[g+3];I>=0?a[I]():a[-I].unsubscribe(),g+=2}else o[g].call(a[o[g+1]]);null!==a&&(r[$o]=null);const u=r[mo];if(null!==u){r[mo]=null;for(let g=0;g<u.length;g++)(0,u[g])()}}(n,r),1===r[wn].type&&r[er].destroy();const o=r[os];if(null!==o&&fi(r[Kr])){o!==r[Kr]&&im(o,r);const a=r[Gi];null!==a&&a.detachView(n)}!function Yg(n){zf.delete(n[ss])}(r)}}function th(n,r,o){return function sm(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Xr];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:g}=n.data[a.directiveStart+u];if(g===Ye.None||g===Ye.Emulated)return null}return br(a,o)}}(n,r.parent,o)}function go(n,r,o,a,u){n.insertBefore(r,o,a,u)}function nh(n,r,o){n.appendChild(r,o)}function np(n,r,o,a,u){null!==a?go(n,r,o,a,u):nh(n,r,o)}function nu(n,r){return n.parentNode(r)}function ru(n,r,o){return ip(n,r,o)}let rh,Sl,Wl,ip=function rp(n,r,o){return 40&n.type?br(n,o):null};function ih(n,r,o,a){const u=th(n,a,r),g=r[er],k=ru(a.parent||r[hi],a,r);if(null!=u)if(Array.isArray(o))for(let z=0;z<o.length;z++)np(g,u,o[z],k,!1);else np(g,u,o,k,!1);void 0!==rh&&rh(g,a,r,o,u)}function Dl(n,r){if(null!==r){const o=r.type;if(3&o)return br(r,n);if(4&o)return op(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return Dl(n,a);{const u=n[r.index];return fi(u)?op(-1,u):_n(u)}}if(32&o)return Jd(r,n)()||_n(n[r.index]);{const a=oh(n,r);return null!==a?Array.isArray(a)?a[0]:Dl(lc(n[yi]),a):Dl(n,r.next)}}return null}function oh(n,r){return null!==r?n[yi][hi].projection[r.projection]:null}function op(n,r){const o=ji+n+1;if(o<r.length){const a=r[o],u=a[wn].firstChild;if(null!==u)return Dl(a,u)}return r[Wi]}function ah(n,r,o,a,u,g,I){for(;null!=o;){const k=a[o.index],z=o.type;if(I&&0===r&&(k&&No(_n(k),a),o.flags|=2),32!=(32&o.flags))if(8&z)ah(n,r,o.child,a,u,g,!1),Hl(r,n,u,k,g);else if(32&z){const te=Jd(o,a);let _e;for(;_e=te();)Hl(r,n,u,_e,g);Hl(r,n,u,k,g)}else 16&z?um(n,r,a,o,u,g):Hl(r,n,u,k,g);o=I?o.projectionNext:o.next}}function Ku(n,r,o,a,u,g){ah(o,a,n.firstChild,r,u,g,!1)}function um(n,r,o,a,u,g){const I=o[yi],z=I[hi].projection[a.projection];if(Array.isArray(z))for(let te=0;te<z.length;te++)Hl(r,n,u,z[te],g);else{let te=z;const _e=I[Kr];Hu(a)&&(te.flags|=128),ah(n,r,te,_e,u,g,!0)}}function dc(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function sp(n,r,o){const{mergedAttrs:a,classes:u,styles:g}=o;null!==a&&dr(n,r,a),null!==u&&dc(n,r,u),null!==g&&function Gl(n,r,o){n.setAttribute(r,"style",o)}(n,r,g)}function hc(n){Sl=n}function ap(n){var r;return(null===(r=function dh(){if(void 0===Wl&&(Wl=null,Wn.trustedTypes))try{Wl=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wl}())||void 0===r?void 0:r.createScriptURL(n))||n}class lp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ue})`}}function va(n){return n instanceof lp?n.changingThisBreaksApplicationSecurity:n}function qu(n,r){const o=function pm(n){return n instanceof lp&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Ue})`)}return o===r}const rv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Co=(()=>((Co=Co||{})[Co.NONE=0]="NONE",Co[Co.HTML=1]="HTML",Co[Co.STYLE=2]="STYLE",Co[Co.SCRIPT=3]="SCRIPT",Co[Co.URL=4]="URL",Co[Co.RESOURCE_URL=5]="RESOURCE_URL",Co))();function fp(n){const r=Ju();return r?r.sanitize(Co.URL,n)||"":qu(n,"URL")?va(n):function Zu(n){return(n=String(n)).match(rv)?n:"unsafe:"+n}(Je(n))}function gc(n){const r=Ju();if(r)return ap(r.sanitize(Co.RESOURCE_URL,n)||"");if(qu(n,"ResourceURL"))return ap(va(n));throw new Ie(904,!1)}function pp(n,r,o){return function ov(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?gc:fp}(r,o)(n)}function Ju(){const n=tn();return n&&n[Ai].sanitizer}class Li{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Sn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ed=new Li("ENVIRONMENT_INITIALIZER"),wm=new Li("INJECTOR",-1),gp=new Li("INJECTOR_DEF_TYPES");class Dm{get(r,o=Nt){if(o===Nt){const a=new Error(`NullInjectorError: No provider for ${ne(r)}!`);throw a.name="NullInjectorError",a}return o}}function Ih(n){return{\u0275providers:n}}function mc(...n){return{\u0275providers:au(0,n),\u0275fromNgModule:!0}}function au(n,...r){const o=[],a=new Set;let u;return rc(r,g=>{const I=g;bh(I,o,[],a)&&(u||(u=[]),u.push(I))}),void 0!==u&&mp(u,o),o}function mp(n,r){for(let o=0;o<n.length;o++){const{providers:u}=n[o];wh(u,g=>{r.push(g)})}}function bh(n,r,o,a){if(!(n=Ae(n)))return!1;let u=null,g=pr(n);const I=!g&&Mr(n);if(g||I){if(I&&!I.standalone)return!1;u=n}else{const z=n.ngModule;if(g=pr(z),!g)return!1;u=z}const k=a.has(u);if(I){if(k)return!1;if(a.add(u),I.dependencies){const z="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const te of z)bh(te,r,o,a)}}else{if(!g)return!1;{if(null!=g.imports&&!k){let te;a.add(u);try{rc(g.imports,_e=>{bh(_e,r,o,a)&&(te||(te=[]),te.push(_e))})}finally{}void 0!==te&&mp(te,r)}if(!k){const te=ur(u)||(()=>new u);r.push({provide:u,useFactory:te,deps:Et},{provide:gp,useValue:u,multi:!0},{provide:ed,useValue:()=>Ot(u),multi:!0})}const z=g.providers;null==z||k||wh(z,_e=>{r.push(_e)})}}return u!==n&&void 0!==n.providers}function wh(n,r){for(let o of n)st(o)&&(o=o.\u0275providers),Array.isArray(o)?wh(o,r):r(o)}const av=Me({provide:String,useValue:Me});function yp(n){return null!==n&&"object"==typeof n&&av in n}function yc(n){return"function"==typeof n}const vp=new Li("Set Injector scope."),Sh={},_p={};let Ep;function vc(){return void 0===Ep&&(Ep=new Dm),Ep}class ll{}class Ip extends ll{get destroyed(){return this._destroyed}constructor(r,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tp(r,I=>this.processProvider(I)),this.records.set(wm,Cl(void 0,this)),u.has("environment")&&this.records.set(ll,Cl(void 0,this));const g=this.records.get(vp);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(gp.multi,Et,on.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Ce(this),a=Mn(void 0);try{return r()}finally{Ce(o),Mn(a)}}get(r,o=Nt,a=on.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(yr))return r[yr](this);a=kt(a);const u=Ce(this),g=Mn(void 0);try{if(!(a&on.SkipSelf)){let k=this.records.get(r);if(void 0===k){const z=function Sm(n){return"function"==typeof n||"object"==typeof n&&n instanceof Li}(r)&&tr(r);k=z&&this.injectableDefInScope(z)?Cl(Th(r),Sh):null,this.records.set(r,k)}if(null!=k)return this.hydrate(r,k)}return(a&on.Self?vc():this.parent).get(r,o=a&on.Optional&&o===Nt?null:o)}catch(I){if("NullInjectorError"===I.name){if((I[Gt]=I[Gt]||[]).unshift(ne(r)),u)throw I;return function gt(n,r,o,a){const u=n[Gt];throw r[he]&&u.unshift(r[he]),n.message=function Ge(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let u=ne(r);if(Array.isArray(r))u=r.map(ne).join(" -> ");else if("object"==typeof r){let g=[];for(let I in r)if(r.hasOwnProperty(I)){let k=r[I];g.push(I+":"+("string"==typeof k?JSON.stringify(k):ne(k)))}u=`{${g.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${n.replace(nn,"\n  ")}`}("\n"+n.message,u,o,a),n.ngTokenPath=u,n[Gt]=null,n}(I,r,"R3InjectorError",this.source)}throw I}finally{Mn(g),Ce(u)}}resolveInjectorInitializers(){const r=Ce(this),o=Mn(void 0);try{const a=this.get(ed.multi,Et,on.Self);for(const u of a)u()}finally{Ce(r),Mn(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(ne(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(r){let o=yc(r=Ae(r))?r:Ae(r&&r.provide);const a=function wp(n){return yp(n)?Cl(void 0,n.useValue):Cl(lu(n),Sh)}(r);if(yc(r)||!0!==r.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Cl(void 0,Sh,!0),u.factory=()=>Jt(u.multi),this.records.set(o,u)),o=r,u.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===Sh&&(o.value=_p,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Sp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Ae(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Th(n){const r=tr(n),o=null!==r?r.factory:ur(n);if(null!==o)return o;if(n instanceof Li)throw new Ie(204,!1);if(n instanceof Function)return function bp(n){const r=n.length;if(r>0)throw Pi(r,"?"),new Ie(204,!1);const o=function _r(n){return n&&(n[An]||n[Ft])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ie(204,!1)}function lu(n,r,o){let a;if(yc(n)){const u=Ae(n);return ur(u)||Th(u)}if(yp(n))a=()=>Ae(n.useValue);else if(function ms(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Jt(n.deps||[]));else if(function Dh(n){return!(!n||!n.useExisting)}(n))a=()=>Ot(Ae(n.useExisting));else{const u=Ae(n&&(n.useClass||n.provide));if(!function Dp(n){return!!n.deps}(n))return ur(u)||Th(u);a=()=>new u(...Jt(n.deps))}return a}function Cl(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Tp(n,r){for(const o of n)Array.isArray(o)?Tp(o,r):o&&st(o)?Tp(o.\u0275providers,r):r(o)}const Cp=new Li("AppId",{providedIn:"root",factory:()=>Tm}),Tm="ng",Ch=new Li("Platform Initializer"),Ap=new Li("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uv=new Li("AnimationModuleType"),Cm=new Li("CSP nonce",{providedIn:"root",factory:()=>{var n;return(null===(n=function Ka(){if(void 0!==Sl)return Sl;if(typeof document<"u")return document;throw new Ie(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}});let xh=(n,r)=>null;function Rm(n,r){return xh(n,r)}class Pm{}class Om{}class Np{resolveComponentFactory(r){throw function fv(n){const r=Error(`No component factory found for ${ne(n)}.`);return r.ngComponent=n,r}(r)}}let od=(()=>{class n{}return n.NULL=new Np,n})();function pv(){return cl(Zr(),tn())}function cl(n,r){return new Ic(br(n,r))}let Ic=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=pv,n})();function yu(n){return n instanceof Ic?n.nativeElement:n}class kh{}let Fh=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function sd(){const n=tn(),o=$r(Zr().index,n);return(Jr(o)?o:n)[er]}(),n})(),kp=(()=>{class n{}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:()=>null}),n})();class Fp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Lh=new Fp("16.1.3"),ad={};function Fa(n){for(;n;){n[cr]|=64;const r=lc(n);if(_s(n)&&!r)return n;n=r}return null}function ld(n){return n.ngOriginalError}class vu{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&ld(r);for(;o&&ld(o);)o=ld(o);return o||null}}const $h=new Li("",{providedIn:"root",factory:()=>!1});function ul(n){return n instanceof Function?n():n}class Up extends Xa{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Fa(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,o,a){const u=Ei(this);this.trackingVersion++;try{r(o,a)}finally{Ei(u)}}destroy(){this.trackingVersion++}}let wc=null;function Vh(){var n;return null!==(n=wc)&&void 0!==n||(wc=new Up),wc}function jh(n,r){var o;return null!==(o=n[r])&&void 0!==o?o:Vh()}function Dc(n,r){const o=Vh();o.hasReadASignal&&(n[r]=wc,o.lView=n,wc=new Up)}const Vr={};function Hh(n){Sc(Bn(),tn(),Xo()+n,!1)}function Sc(n,r,o,a){if(!a)if(3==(3&r[cr])){const g=n.preOrderCheckHooks;null!==g&&rr(r,g,o)}else{const g=n.preOrderHooks;null!==g&&Ii(r,g,0,o)}pa(o)}function Wh(n,r=null,o=null,a){const u=Kh(n,r,o,a);return u.resolveInjectorInitializers(),u}function Kh(n,r=null,o=null,a,u=new Set){const g=[o||Et,mc(n)];return a=a||("object"==typeof n?void 0:ne(n)),new Ip(g,r||vc(),a||null,u)}let Zl=(()=>{class n{static create(o,a){if(Array.isArray(o))return Wh({name:""},a,o,"");{var u;const g=null!==(u=o.name)&&void 0!==u?u:"";return Wh({name:g},o.parent,o.providers,g)}}}return n.THROW_IF_NOT_FOUND=Nt,n.NULL=new Dm,n.\u0275prov=Sn({token:n,providedIn:"any",factory:()=>Ot(wm)}),n.__NG_ELEMENT_ID__=-1,n})();function Cc(n,r=on.Default){const o=tn();return null===o?Ot(n,r):ar(Zr(),o,Ae(n),r)}function Hm(){throw new Error("invalid")}function ud(n,r,o,a,u,g,I,k,z,te,_e){const $e=r.blueprint.slice();return $e[Xr]=u,$e[cr]=140|a,(null!==te||n&&2048&n[cr])&&($e[cr]|=2048),fo($e),$e[Kr]=$e[Zi]=n,$e[_i]=o,$e[Ai]=I||n&&n[Ai],$e[er]=k||n&&n[er],$e[oo]=z||n&&n[oo]||null,$e[hi]=g,$e[ss]=function xo(){return Ky++}(),$e[ro]=_e,$e[ao]=te,$e[yi]=2==r.type?n[yi]:$e,$e}function Ac(n,r,o,a,u){let g=n.data[r];if(null===g)g=function Yh(n,r,o,a,u){const g=gr(),I=Ba(),z=n.data[r]=function bv(n,r,o,a,u,g){let I=r?r.injectorIndex:-1,k=0;return Oa()&&(k|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:k,providerIndexes:0,value:u,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?g:g&&g.parent,o,r,a,u);return null===n.firstChild&&(n.firstChild=z),null!==g&&(I?null==g.child&&null!==z.parent&&(g.child=z):null===g.next&&(g.next=z,z.prev=g)),z}(n,r,o,a,u),function yl(){return It.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=o,g.value=a,g.attrs=u;const I=function Gs(){const n=It.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();g.injectorIndex=null===I?-1:I.injectorIndex}return kr(g,!0),g}function dd(n,r,o,a){if(0===o)return-1;const u=r.length;for(let g=0;g<o;g++)r.push(a),n.blueprint.push(a),n.data.push(null);return u}function Gm(n,r,o,a,u){const g=jh(r,Yo),I=Xo(),k=2&a;try{if(pa(-1),k&&r.length>hr&&Sc(n,r,hr,!1),Ze(k?2:0,u),k)g.runInContext(o,a,u);else{const te=Ei(null);try{o(a,u)}finally{Ei(te)}}}finally{k&&null===r[Yo]&&Dc(r,Yo),pa(I),Ze(k?3:1,u)}}function Hp(n,r,o){if(si(r)){const a=Ei(null);try{const g=r.directiveEnd;for(let I=r.directiveStart;I<g;I++){const k=n.data[I];k.contentQueries&&k.contentQueries(1,o[I],I)}}finally{Ei(a)}}}function zp(n,r,o){pl()&&(function Sv(n,r,o,a){const u=o.directiveStart,g=o.directiveEnd;Ji(o)&&function Av(n,r,o){const a=br(r,n),u=qh(o);let I=16;o.signals?I=4096:o.onPush&&(I=64);const k=gd(n,ud(n,u,null,I,a,r,null,n[Ai].rendererFactory.createRenderer(a,o),null,null,null));n[r.index]=k}(r,o,n.data[u+o.componentOffset]),n.firstCreatePass||Qe(o,r),No(a,r);const I=o.initialInputs;for(let k=u;k<g;k++){const z=n.data[k],te=Xi(r,n,k,o);No(te,r),null!==I&&tg(0,k-u,te,z,0,I),uo(z)&&($r(o.index,r)[_i]=Xi(r,n,k,o))}}(n,r,o,br(o,r)),64==(64&o.flags)&&Qh(n,r,o))}function hd(n,r,o=br){const a=r.localNames;if(null!==a){let u=r.index+1;for(let g=0;g<a.length;g+=2){const I=a[g+1],k=-1===I?o(r,n):n[I];n[u++]=k}}}function qh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=fd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function fd(n,r,o,a,u,g,I,k,z,te,_e){const $e=hr+a,at=$e+u,At=function Ev(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:Vr);return o}($e,at),en="function"==typeof te?te():te;return At[wn]={type:n,blueprint:At,template:o,queries:null,viewQuery:k,declTNode:r,data:At.slice().fill(null,$e),bindingStartIndex:$e,expandoStartIndex:at,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:z,consts:en,incompleteFirstPass:!1,ssrId:_e}}let Zh=n=>null;function Xh(n,r,o,a){for(let u in n)if(n.hasOwnProperty(u)){o=null===o?{}:o;const g=n[u];null===a?Ym(o,r,u,g):a.hasOwnProperty(u)&&Ym(o,r,a[u],g)}return o}function Ym(n,r,o,a){n.hasOwnProperty(o)?n[o].push(r,a):n[o]=[r,a]}function la(n,r,o,a,u,g,I,k){const z=br(r,o);let _e,te=r.inputs;!k&&null!=te&&(_e=te[a])?(md(n,o,_e,a,u),Ji(r)&&function Dv(n,r){const o=$r(r,n);16&o[cr]||(o[cr]|=64)}(o,r.index)):3&r.type&&(a=function wv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=I?I(u,r.value||"",a):u,g.setProperty(z,a,u))}function pd(n,r,o,a){if(pl()){const u=null===a?null:{"":-1},g=function Zp(n,r){const o=n.directiveRegistry;let a=null,u=null;if(o)for(let I=0;I<o.length;I++){const k=o[I];if(Q(r,k.selectors,!1))if(a||(a=[]),uo(k))if(null!==k.findHostDirectiveDefs){const z=[];u=u||new Map,k.findHostDirectiveDefs(k,z,u),a.unshift(...z,k),Xp(n,r,z.length)}else a.unshift(k),Xp(n,r,0);else{var g;u=u||new Map,null===(g=k.findHostDirectiveDefs)||void 0===g||g.call(k,k,a,u),a.push(k)}}return null===a?null:[a,u]}(n,o);let I,k;null===g?I=k=null:[I,k]=g,null!==I&&Rc(n,r,o,I,u,k),u&&function Qp(n,r,o){if(r){const a=n.localNames=[];for(let u=0;u<r.length;u+=2){const g=o[r[u+1]];if(null==g)throw new Ie(-301,!1);a.push(r[u],g)}}}(o,a,u)}o.mergedAttrs=bi(o.mergedAttrs,o.attrs)}function Rc(n,r,o,a,u,g){for(let $e=0;$e<a.length;$e++)$n(Qe(o,r),n,a[$e].type);!function Cv(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,a.length);for(let $e=0;$e<a.length;$e++){const at=a[$e];at.providersResolver&&at.providersResolver(at)}let I=!1,k=!1,z=dd(n,r,a.length,null);for(let $e=0;$e<a.length;$e++){const at=a[$e];o.mergedAttrs=bi(o.mergedAttrs,at.hostAttrs),Jp(n,o,r,z,at),Tv(z,at,u),null!==at.contentQueries&&(o.flags|=4),(null!==at.hostBindings||null!==at.hostAttrs||0!==at.hostVars)&&(o.flags|=64);const At=at.type.prototype;var te,_e;!I&&(At.ngOnChanges||At.ngOnInit||At.ngDoCheck)&&((null!==(te=n.preOrderHooks)&&void 0!==te?te:n.preOrderHooks=[]).push(o.index),I=!0),k||!At.ngOnChanges&&!At.ngDoCheck||((null!==(_e=n.preOrderCheckHooks)&&void 0!==_e?_e:n.preOrderCheckHooks=[]).push(o.index),k=!0),z++}!function Kp(n,r,o){const u=r.directiveEnd,g=n.data,I=r.attrs,k=[];let z=null,te=null;for(let _e=r.directiveStart;_e<u;_e++){const $e=g[_e],at=o?o.get($e):null,en=at?at.outputs:null;z=Xh($e.inputs,_e,z,at?at.inputs:null),te=Xh($e.outputs,_e,te,en);const yn=null===z||null===I||li(r)?null:ng(z,_e,I);k.push(yn)}null!==z&&(z.hasOwnProperty("class")&&(r.flags|=8),z.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=k,r.inputs=z,r.outputs=te}(n,o,g)}function Qh(n,r,o){const a=o.directiveStart,u=o.directiveEnd,g=o.index,I=function Ja(){return It.lFrame.currentDirectiveIndex}();try{pa(g);for(let k=a;k<u;k++){const z=n.data[k],te=r[k];_l(k),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Al(z,te)}}finally{pa(-1),_l(I)}}function Al(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Xp(n,r,o){var a;r.componentOffset=o,(null!==(a=n.components)&&void 0!==a?a:n.components=[]).push(r.index)}function Tv(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;uo(r)&&(o[""]=n)}}function Jp(n,r,o,a,u){n.data[a]=u;const g=u.factory||(u.factory=ur(u.type)),I=new oa(g,uo(u),Cc);n.blueprint[a]=I,o[a]=I,function Zm(n,r,o,a,u){const g=u.hostBindings;if(g){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const k=~r.index;(function qp(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(I)!=k&&I.push(k),I.push(o,a,g)}}(n,r,a,dd(n,o,u.hostVars,Vr),u)}function La(n,r,o,a,u,g){const I=br(n,r);!function eg(n,r,o,a,u,g,I){if(null==g)n.removeAttribute(r,u,o);else{const k=null==I?Je(g):I(g,a||"",u);n.setAttribute(r,u,k,o)}}(r[er],I,g,n.value,o,a,u)}function tg(n,r,o,a,u,g){const I=g[r];if(null!==I)for(let k=0;k<I.length;)Xm(a,o,I[k++],I[k++],I[k++])}function Xm(n,r,o,a,u){const g=Ei(null);try{const I=n.inputTransforms;null!==I&&I.hasOwnProperty(a)&&(u=I[a].call(r,u)),null!==n.setInput?n.setInput(r,u,o,a):r[a]=u}finally{Ei(g)}}function ng(n,r,o){let a=null,u=0;for(;u<o.length;){const g=o[u];if(0!==g)if(5!==g){if("number"==typeof g)break;if(n.hasOwnProperty(g)){null===a&&(a=[]);const I=n[g];for(let k=0;k<I.length;k+=2)if(I[k]===r){a.push(g,I[k+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function rg(n,r,o,a){return[n,!0,!1,r,null,0,a,o,null,null,null]}function Jh(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const g=o[a+1];if(-1!==g){const I=n.data[g];Va(o[a]),I.contentQueries(2,r[g],g)}}}function gd(n,r){return n[qi]?n[Vo][ki]=r:n[qi]=r,n[Vo]=r,r}function ig(n,r,o){Va(0);const a=Ei(null);try{r(n,o)}finally{Ei(a)}}function ef(n){return n[$o]||(n[$o]=[])}function Qm(n){return n.cleanup||(n.cleanup=[])}function nf(n,r){const o=n[oo],a=o?o.get(vu,null):null;a&&a.handleError(r)}function md(n,r,o,a,u){for(let g=0;g<o.length;){const I=o[g++],k=o[g++];Xm(n.data[I],r[I],a,k,u)}}function Rl(n,r,o){const a=ti(r,n);!function eu(n,r,o){n.setValue(r,o)}(n[er],a,o)}function rf(n,r){const o=$r(r,n),a=o[wn];!function Rv(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])}(a,o);const u=o[Xr];null!==u&&null===o[ro]&&(o[ro]=Rm(u,o[oo])),sf(a,o,o[_i])}function sf(n,r,o){Go(r);try{const a=n.viewQuery;null!==a&&ig(1,a,o);const u=n.template;null!==u&&Gm(n,r,u,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Jh(n,r),n.staticViewQueries&&ig(2,n.viewQuery,o);const g=n.components;null!==g&&function Jm(n,r){for(let o=0;o<r.length;o++)rf(n,r[o])}(r,g)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[cr]&=-5,Ws()}}let ty=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const g=typeof Zone>"u"?null:Zone.current,I=new _o(o,te=>{this.all.has(te)&&this.queue.set(te,g)},u);let k;this.all.add(I),I.notify();const z=()=>{var te;I.cleanup(),null===(te=k)||void 0===te||te(),this.all.delete(I),this.queue.delete(I)};return k=null==a?void 0:a.onDestroy(z),{destroy:z}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:()=>new n}),n})();function af(n,r,o){let a=o?n.styles:null,u=o?n.classes:null,g=0;if(null!==r)for(let I=0;I<r.length;I++){const k=r[I];"number"==typeof k?g=k:1==g?u=ye(u,k):2==g&&(a=ye(a,k+": "+r[++I]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=u:n.classesWithoutHost=u}function yd(n,r,o,a,u=!1){for(;null!==o;){const g=r[o.index];if(null!==g&&a.push(_n(g)),fi(g)){for(let k=ji;k<g.length;k++){const z=g[k],te=z[wn].firstChild;null!==te&&yd(z[wn],z,te,a)}g[Wi]!==g[Xr]&&a.push(g[Wi])}const I=o.type;if(8&I)yd(n,r,o.child,a);else if(32&I){const k=Jd(o,r);let z;for(;z=k();)a.push(z)}else if(16&I){const k=oh(r,o);if(Array.isArray(k))a.push(...k);else{const z=lc(r[yi]);yd(z[wn],z,k,a,!0)}}o=u?o.projectionNext:o.next}return a}function Mc(n,r,o,a=!0){const u=r[Ai].rendererFactory;u.begin&&u.begin();try{lf(n,r,n.template,o)}catch(k){throw a&&nf(r,k),k}finally{var I;u.end&&u.end(),null===(I=r[Ai].effectManager)||void 0===I||I.flush()}}function lf(n,r,o,a){var u;const g=r[cr];if(256!=(256&g)){null===(u=r[Ai].effectManager)||void 0===u||u.flush(),Go(r);try{fo(r),function Ua(n){return It.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Gm(n,r,o,2,a);const k=3==(3&g);if(k){const _e=n.preOrderCheckHooks;null!==_e&&rr(r,_e,null)}else{const _e=n.preOrderHooks;null!==_e&&Ii(r,_e,0,null),Oo(r,0)}if(function lg(n){for(let r=Qg(n);null!==r;r=Xf(r)){if(!r[Bs])continue;const o=r[oi];for(let a=0;a<o.length;a++){Hs(o[a])}}}(r),ag(r,2),null!==n.contentQueries&&Jh(n,r),k){const _e=n.contentCheckHooks;null!==_e&&rr(r,_e)}else{const _e=n.contentHooks;null!==_e&&Ii(r,_e,1),Oo(r,1)}!function zm(n,r){const o=n.hostBindingOpCodes;if(null===o)return;const a=jh(r,lo);try{for(let u=0;u<o.length;u++){const g=o[u];if(g<0)pa(~g);else{const I=g,k=o[++u],z=o[++u];Zo(k,I),a.runInContext(z,2,r[I])}}}finally{null===r[lo]&&Dc(r,lo),pa(-1)}}(n,r);const z=n.components;null!==z&&cf(r,z,0);const te=n.viewQuery;if(null!==te&&ig(2,te,a),k){const _e=n.viewCheckHooks;null!==_e&&rr(r,_e)}else{const _e=n.viewHooks;null!==_e&&Ii(r,_e,2),Oo(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[cr]&=-73,Nn(r)}finally{Ws()}}}function ag(n,r){for(let o=Qg(n);null!==o;o=Xf(o))for(let a=ji;a<o.length;a++)vd(o[a],r)}function cg(n,r,o){vd($r(r,n),o)}function vd(n,r){if(!function js(n){return 128==(128&n[cr])}(n))return;const o=n[wn];if(80&n[cr]&&0===r||1024&n[cr]||2===r)lf(o,n,o.template,n[_i]);else if(n[Do]>0){ag(n,1);const u=n[wn].components;null!==u&&cf(n,u,1)}}function cf(n,r,o){for(let a=0;a<r.length;a++)cg(n,r[a],o)}class bu{get rootNodes(){const r=this._lView,o=r[wn];return yd(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_i]}set context(r){this._lView[_i]=r}get destroyed(){return 256==(256&this._lView[cr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Kr];if(fi(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Jf(r,a),ai(o,a))}this._attachedToViewContainer=!1}om(this._lView[wn],this._lView)}onDestroy(r){!function ra(n,r){if(256==(256&n[cr]))throw new Ie(911,!1);null===n[mo]&&(n[mo]=[]),n[mo].push(r)}(this._lView,r)}markForCheck(){Fa(this._cdRefInjectingView||this._lView)}detach(){this._lView[cr]&=-129}reattach(){this._lView[cr]|=128}detectChanges(){Mc(this._lView[wn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tm(n,r){Ku(n,r,r[er],2,null,null)}(this._lView[wn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=r}}class uf extends bu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Mc(r[wn],r,r[_i],!1)}checkNoChanges(){}get context(){return null}}class ug extends od{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Mr(r);return new Pc(o,this.ngModule)}}function df(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class wu{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=kt(a);const u=this.injector.get(r,ad,a);return u!==ad||o===ad?u:this.parentInjector.get(r,o,a)}}class Pc extends Om{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=df(r.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return df(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function vt(n){return n.map(nt).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,u){var g;let I=(u=u||this.ngModule)instanceof ll?u:null===(g=u)||void 0===g?void 0:g.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const k=I?new wu(r,I):r,z=k.get(kh,null);if(null===z)throw new Ie(407,!1);const $e={rendererFactory:z,sanitizer:k.get(kp,null),effectManager:k.get(ty,null)},at=z.createRenderer(null,this.componentDef),At=this.componentDef.selectors[0][0]||"div",en=a?function Gp(n,r,o,a){const g=a.get($h,!1)||o===Ye.ShadowDom,I=n.selectRootElement(r,g);return function Iv(n){Zh(n)}(I),I}(at,a,this.componentDef.encapsulation,k):uc(at,At,function ry(n){const r=n.toLowerCase();return"svg"===r?Vt:"math"===r?"math":null}(At)),lr=this.componentDef.signals?4608:this.componentDef.onPush?576:528,sn=fd(0,null,null,1,0,null,null,null,null,null,null),Br=ud(null,sn,null,lr,null,null,$e,at,k,null,null);let Ti,eo;Go(Br);try{const Js=this.componentDef;let Fd,t0=null;Js.findHostDirectiveDefs?(Fd=[],t0=new Map,Js.findHostDirectiveDefs(Js,Fd,t0),Fd.push(Js)):Fd=[Js];const jS=function Ov(n,r){const o=n[wn],a=hr;return n[a]=r,Ac(o,a,2,"#host",null)}(Br,en),HS=function iy(n,r,o,a,u,g,I){const k=u[wn];!function xv(n,r,o,a){for(const u of n)r.mergedAttrs=bi(r.mergedAttrs,u.hostAttrs);null!==r.mergedAttrs&&(af(r,r.mergedAttrs,!0),null!==o&&sp(a,o,r))}(a,n,r,I);let z=null;null!==r&&(z=Rm(r,u[oo]));const te=g.rendererFactory.createRenderer(r,o);let _e=16;o.signals?_e=4096:o.onPush&&(_e=64);const $e=ud(u,qh(o),null,_e,u[n.index],n,g,te,null,null,z);return k.firstCreatePass&&Xp(k,n,a.length-1),gd(u,$e),u[n.index]=$e}(jS,en,Js,Fd,Br,$e,at);eo=Nr(sn,hr),en&&function Nv(n,r,o,a){if(a)dr(n,o,["ng-version",Lh.full]);else{const{attrs:u,classes:g}=function xt(n){const r=[],o=[];let a=1,u=2;for(;a<n.length;){let g=n[a];if("string"==typeof g)2===u?""!==g&&r.push(g,n[++a]):8===u&&o.push(g);else{if(!ci(u))break;u=g}a++}return{attrs:r,classes:o}}(r.selectors[0]);u&&dr(n,o,u),g&&g.length>0&&dc(n,o,g.join(" "))}}(at,Js,en,a),void 0!==o&&function kv(n,r,o){const a=n.projection=[];for(let u=0;u<r.length;u++){const g=o[u];a.push(null!=g?Array.from(g):null)}}(eo,this.ngContentSelectors,o),Ti=function oy(n,r,o,a,u,g){const I=Zr(),k=u[wn],z=br(I,u);Rc(k,u,I,o,null,a);for(let _e=0;_e<o.length;_e++)No(Xi(u,k,I.directiveStart+_e,I),u);Qh(k,u,I),z&&No(z,u);const te=Xi(u,k,I.directiveStart+I.componentOffset,I);if(n[_i]=u[_i]=te,null!==g)for(const _e of g)_e(te,r);return Hp(k,I,n),te}(HS,Js,Fd,t0,Br,[Fv]),sf(sn,Br,null)}finally{Ws()}return new Pv(this.componentType,Ti,cl(eo,Br),Br,eo)}}class Pv extends Pm{constructor(r,o,a,u,g){super(),this.location=a,this._rootLView=u,this._tNode=g,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new uf(u),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[r])){var g;if(null!==(g=this.previousInputValues)&&void 0!==g||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const I=this._rootLView;md(I[wn],I,u,r,o),this.previousInputValues.set(r,o),Fa($r(this._tNode.index,I))}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Fv(){const n=Zr();mr(tn()[wn],n)}function hf(n){let r=function sy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let u;if(uo(n))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ie(903,!1);u=r.\u0275dir}if(u){if(o){a.push(u);const I=n;I.inputs=Du(n.inputs),I.inputTransforms=Du(n.inputTransforms),I.declaredInputs=Du(n.declaredInputs),I.outputs=Du(n.outputs);const k=u.hostBindings;k&&cy(n,k);const z=u.viewQuery,te=u.contentQueries;if(z&&Lv(n,z),te&&ly(n,te),we(n.inputs,u.inputs),we(n.declaredInputs,u.declaredInputs),we(n.outputs,u.outputs),null!==u.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),we(I.inputTransforms,u.inputTransforms)),uo(u)&&u.data.animation){const _e=n.data;_e.animation=(_e.animation||[]).concat(u.data.animation)}}const g=u.features;if(g)for(let I=0;I<g.length;I++){const k=g[I];k&&k.ngInherit&&k(n),k===hf&&(o=!1)}}r=Object.getPrototypeOf(r)}!function ay(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const u=n[a];u.hostVars=r+=u.hostVars,u.hostAttrs=bi(u.hostAttrs,o=bi(o,u.hostAttrs))}}(a)}function Du(n){return n===ft?{}:n===Et?[]:n}function Lv(n,r){const o=n.viewQuery;n.viewQuery=o?(a,u)=>{r(a,u),o(a,u)}:r}function ly(n,r){const o=n.contentQueries;n.contentQueries=o?(a,u,g)=>{r(a,u,g),o(a,u,g)}:r}function cy(n,r){const o=n.hostBindings;n.hostBindings=o?(a,u)=>{r(a,u),o(a,u)}:r}function hy(n){const r=n.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const u=r[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}n.inputTransforms=o}function _d(n){return!!hg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function hg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function dl(n,r,o){return n[r]=o}function gi(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Tu(n,r,o,a){const u=gi(n,r,o);return gi(n,r+1,a)||u}function mf(n,r,o,a){const u=tn();return gi(u,xa(),r)&&(Bn(),La(R(),u,n,r,o,a)),mf}function Id(n,r,o,a){return gi(n,xa(),o)?r+Je(o)+a:Vr}function Oc(n,r,o,a,u,g){const k=Tu(n,function Ds(){return It.lFrame.bindingIndex}(),o,u);return xs(2),k?r+Je(o)+a+Je(u)+g:Vr}function Yv(n,r,o,a,u,g,I,k){const z=tn(),te=Bn(),_e=n+hr,$e=te.firstCreatePass?function Mu(n,r,o,a,u,g,I,k,z){const te=r.consts,_e=Ac(r,n,4,I||null,qr(te,k));pd(r,o,_e,qr(te,z)),mr(r,_e);const $e=_e.tView=fd(2,_e,a,u,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,te,null);return null!==r.queries&&(r.queries.template(r,_e),$e.queries=r.queries.embeddedTView(_e)),_e}(_e,te,z,r,o,a,u,g,I):te.data[_e];kr($e,!1);const at=vy(te,z,$e,n);ct()&&ih(te,z,at,$e),No(at,z),gd(z,z[_e]=rg(at,z,at,$e)),as($e)&&zp(te,z,$e),null!=I&&hd(z,$e,k)}let vy=function Tf(n,r,o,a){return qt(!0),r[er].createComment("")};function qv(n){return Yr(function kn(){return It.lFrame.contextLView}(),hr+n)}function Pu(n,r,o){const a=tn();return gi(a,xa(),r)&&la(Bn(),R(),a,n,r,a[er],o,!1),Pu}function _y(n,r,o,a,u){const I=u?"class":"style";md(n,o,r.inputs[I],I,a)}function kc(n,r,o,a){const u=tn(),g=Bn(),I=hr+n,k=u[er],z=g.firstCreatePass?function E0(n,r,o,a,u,g){const I=r.consts,z=Ac(r,n,2,a,qr(I,u));return pd(r,o,z,qr(I,g)),null!==z.attrs&&af(z,z.attrs,!1),null!==z.mergedAttrs&&af(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(I,g,u,r,o,a):g.data[I],te=Sg(g,u,z,k,r,n);u[I]=te;const _e=as(z);return kr(z,!0),sp(k,te,z),32!=(32&z.flags)&&ct()&&ih(g,u,te,z),0===function Eo(){return It.lFrame.elementDepthCount}()&&No(te,u),function Po(){It.lFrame.elementDepthCount++}(),_e&&(zp(g,u,z),Hp(g,z,u)),null!==a&&hd(u,z),kc}function Dg(){let n=Zr();Ba()?$i():(n=n.parent,kr(n,!1));const r=n;(function gl(n){return It.skipHydrationRootTNode===n})(r)&&function $a(){It.skipHydrationRootTNode=null}(),function Pa(){It.lFrame.elementDepthCount--}();const o=Bn();return o.firstCreatePass&&(mr(o,n),si(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ld(n){return 0!=(8&n.flags)}(r)&&_y(o,r,tn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Bf(n){return 0!=(16&n.flags)}(r)&&_y(o,r,tn(),r.stylesWithoutHost,!1),Dg}function Ey(n,r,o,a){return kc(n,r,o,a),Dg(),Ey}let Sg=(n,r,o,a,u,g)=>(qt(!0),uc(a,u,function Fe(){return It.lFrame.currentNamespace}()));function Af(n,r,o){const a=tn(),u=Bn(),g=n+hr,I=u.firstCreatePass?function wy(n,r,o,a,u){const g=r.consts,I=qr(g,a),k=Ac(r,n,8,"ng-container",I);return null!==I&&af(k,I,!0),pd(r,o,k,qr(g,u)),null!==r.queries&&r.queries.elementStart(r,k),k}(g,u,a,r,o):u.data[g];kr(I,!0);const k=Mf(u,a,I,n);return a[g]=k,ct()&&ih(u,a,k,I),No(k,a),as(I)&&(zp(u,a,I),Hp(u,I,a)),null!=o&&hd(a,I),Af}function Rf(){let n=Zr();const r=Bn();return Ba()?$i():(n=n.parent,kr(n,!1)),r.firstCreatePass&&(mr(r,n),si(n)&&r.queries.elementEnd(n)),Rf}function Tg(n,r,o){return Af(n,r,o),Rf(),Tg}let Mf=(n,r,o,a)=>(qt(!0),cc(r[er],""));function Zv(){return tn()}function Cg(n){return!!n&&"function"==typeof n.then}function Xv(n){return!!n&&"function"==typeof n.subscribe}function Dy(n,r,o,a){const u=tn(),g=Bn(),I=Zr();return function Od(n,r,o,a,u,g,I){const k=as(a),te=n.firstCreatePass&&Qm(n),_e=r[_i],$e=ef(r);let at=!0;if(3&a.type||I){const yn=br(a,r),Vn=I?I(yn):yn,lr=$e.length,sn=I?Ti=>I(_n(Ti[a.index])):a.index;let Br=null;if(!I&&k&&(Br=function Ou(n,r,o,a){const u=n.cleanup;if(null!=u)for(let g=0;g<u.length-1;g+=2){const I=u[g];if(I===o&&u[g+1]===a){const k=r[$o],z=u[g+2];return k.length>z?k[z]:null}"string"==typeof I&&(g+=2)}return null}(n,r,u,a.index)),null!==Br)(Br.__ngLastListenerFn__||Br).__ngNextListenerFn__=g,Br.__ngLastListenerFn__=g,at=!1;else{g=Sy(a,r,_e,g,!1);const Ti=o.listen(Vn,u,g);$e.push(g,Ti),te&&te.push(u,sn,lr,lr+1)}}else g=Sy(a,r,_e,g,!1);const At=a.outputs;let en;if(at&&null!==At&&(en=At[u])){const yn=en.length;if(yn)for(let Vn=0;Vn<yn;Vn+=2){const eo=r[en[Vn]][en[Vn+1]].subscribe(g),Js=$e.length;$e.push(g,eo),te&&te.push(u,a.index,Js,-(Js+1))}}}(g,u,u[er],I,n,r,a),Dy}function Fc(n,r,o,a){try{return Ze(6,r,o),!1!==o(a)}catch(u){return nf(n,u),!1}finally{Ze(7,r,o)}}function Sy(n,r,o,a,u){return function g(I){if(I===Function)return a;Fa(n.componentOffset>-1?$r(n.index,r):r);let z=Fc(r,o,a,I),te=g.__ngNextListenerFn__;for(;te;)z=Fc(r,o,te,I)&&z,te=te.__ngNextListenerFn__;return u&&!1===z&&I.preventDefault(),z}}function Qv(n=1){return function nc(n){return(It.lFrame.contextLView=function Nl(n,r){for(;n>0;)r=r[Zi],n--;return r}(n,It.lFrame.contextLView))[_i]}(n)}function Jv(n,r){let o=null;const a=function ue(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let u=0;u<r.length;u++){const g=r[u];if("*"!==g){if(null===a?Q(n,g,!0):ge(a,g))return u}else o=u}return o}function Ml(n){const r=tn()[yi][hi];if(!r.projection){const a=r.projection=Pi(n?n.length:1,null),u=a.slice();let g=r.child;for(;null!==g;){const I=n?Jv(g,n):0;null!==I&&(u[I]?u[I].projectionNext=g:a[I]=g,u[I]=g),g=g.next}}}function e_(n,r=0,o){const a=tn(),u=Bn(),g=Ac(u,hr+n,16,null,o||null);null===g.projection&&(g.projection=r),$i(),(!a[ro]||Oa())&&32!=(32&g.flags)&&function cm(n,r,o){um(r[er],0,r,o,th(n,o,r),ru(o.parent||r[hi],o,r))}(u,a,g)}function Pf(n,r,o,a,u){const g=tn(),I=Id(g,r,o,a);return I!==Vr&&la(Bn(),R(),g,n,I,g[er],u,!1),Pf}function Jl(n,r){return n<<17|r<<2}function hl(n){return n>>17&32767}function Ag(n){return 2|n}function Lc(n){return(131068&n)>>2}function Rg(n,r){return-131069&n|r<<2}function My(n){return 1|n}function Py(n,r,o,a,u){const g=n[o+1],I=null===r;let k=a?hl(g):Lc(g),z=!1;for(;0!==k&&(!1===z||I);){const _e=n[k+1];c_(n[k],r)&&(z=!0,n[k+1]=a?My(_e):Ag(_e)),k=a?hl(_e):Lc(_e)}z&&(n[o+1]=a?Ag(g):My(g))}function c_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&rl(n,r)>=0}function t(n,r){return function $(n,r,o,a){const u=tn(),g=Bn(),I=xs(2);g.firstUpdatePass&&function Ne(n,r,o,a){const u=n.data;if(null===u[o+1]){const g=u[Xo()],I=function le(n,r){return r>=n.expandoStartIndex}(n,o);(function Pg(n,r){return 0!=(n.flags&(r?8:16))})(g,a)&&null===r&&!I&&(r=!1),r=function ot(n,r,o,a){const u=function el(n){const r=It.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let g=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(o=Qn(o=qn(null,n,r,o,a),r.attrs,a),g=null);else{const I=r.directiveStylingLast;if(-1===I||n[I]!==u)if(o=qn(u,n,r,o,a),null===g){let z=function Bt(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Lc(a))return n[hl(a)]}(n,r,a);void 0!==z&&Array.isArray(z)&&(z=qn(null,n,r,z[1],a),z=Qn(z,r.attrs,a),function rn(n,r,o,a){n[hl(o?r.classBindings:r.styleBindings)]=a}(n,r,a,z))}else g=function Dn(n,r,o){let a;const u=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<u;g++)a=Qn(a,n[g].hostAttrs,o);return Qn(a,r.attrs,o)}(n,r,a)}return void 0!==g&&(a?r.residualClasses=g:r.residualStyles=g),o}(u,g,r,a),function D0(n,r,o,a,u,g){let I=g?r.classBindings:r.styleBindings,k=hl(I),z=Lc(I);n[a]=o;let _e,te=!1;if(Array.isArray(o)?(_e=o[1],(null===_e||rl(o,_e)>0)&&(te=!0)):_e=o,u)if(0!==z){const at=hl(n[k+1]);n[a+1]=Jl(at,k),0!==at&&(n[at+1]=Rg(n[at+1],a)),n[k+1]=function s_(n,r){return 131071&n|r<<17}(n[k+1],a)}else n[a+1]=Jl(k,0),0!==k&&(n[k+1]=Rg(n[k+1],a)),k=a;else n[a+1]=Jl(z,0),0===k?k=a:n[z+1]=Rg(n[z+1],a),z=a;te&&(n[a+1]=Ag(n[a+1])),Py(n,_e,a,!0),Py(n,_e,a,!1),function l_(n,r,o,a,u){const g=u?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&rl(g,r)>=0&&(o[a+1]=My(o[a+1]))}(r,_e,n,a,g),I=Jl(k,z),g?r.classBindings=I:r.styleBindings=I}(u,g,r,o,I,a)}}(g,n,I,a),r!==Vr&&gi(u,I,r)&&function Ko(n,r,o,a,u,g,I,k){if(!(3&r.type))return;const z=n.data,te=z[k+1],_e=function a_(n){return 1==(1&n)}(te)?bo(z,r,o,u,Lc(te),I):void 0;$s(_e)||($s(g)||function w0(n){return 2==(2&n)}(te)&&(g=bo(z,null,o,u,k,I)),function Qy(n,r,o,a,u){if(r)u?n.addClass(o,a):n.removeClass(o,a);else{let g=-1===a.indexOf("-")?void 0:Wa.DashCase;null==u?n.removeStyle(o,a,g):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),g|=Wa.Important),n.setStyle(o,a,u,g))}}(a,I,ti(Xo(),o),u,g))}(g,g.data[Xo()],u,u[er],n,u[I+1]=function $c(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ne(va(n)))),n}(r,o),a,I)}(n,r,null,!0),t}function qn(n,r,o,a,u){let g=null;const I=o.directiveEnd;let k=o.directiveStylingLast;for(-1===k?k=o.directiveStart:k++;k<I&&(g=r[k],a=Qn(a,g.hostAttrs,u),g!==n);)k++;return null!==n&&(o.directiveStylingLast=k),a}function Qn(n,r,o){const a=o?1:2;let u=-1;if(null!==r)for(let g=0;g<r.length;g++){const I=r[g];"number"==typeof I?u=I:u===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ks(n,I,!!o||r[++g]))}return void 0===n?null:n}function bo(n,r,o,a,u,g){const I=null===r;let k;for(;u>0;){const z=n[u],te=Array.isArray(z),_e=te?z[1]:z,$e=null===_e;let at=o[u+1];at===Vr&&(at=$e?Et:void 0);let At=$e?Gc(at,a):_e===a?at:void 0;if(te&&!$s(At)&&(At=Gc(z,a)),$s(At)&&(k=At,I))return k;const en=n[u+1];u=I?hl(en):Lc(en)}if(null!==r){let z=g?r.residualClasses:r.residualStyles;null!=z&&(k=Gc(z,a))}return k}function $s(n){return void 0!==n}function R0(n,r=""){const o=tn(),a=Bn(),u=n+hr,g=a.firstCreatePass?Ac(a,u,1,r,null):a.data[u],I=M0(a,o,g,r,n);o[u]=I,ct()&&ih(a,o,I,g),kr(g,!1)}let M0=(n,r,o,a,u)=>(qt(!0),function zl(n,r){return n.createText(r)}(r[er],a));function p_(n){return Ny("",n,""),p_}function Ny(n,r,o){const a=tn(),u=Id(a,n,r,o);return u!==Vr&&Rl(a,Xo(),u),Ny}function g_(n,r,o,a,u){const g=tn(),I=Oc(g,n,r,o,a,u);return I!==Vr&&Rl(g,Xo(),I),g_}const Nd=void 0;var Ob=["en",[["a","p"],["AM","PM"],Nd],[["AM","PM"],Nd,Nd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nd,"{1} 'at' {0}",Nd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pb(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let xf={};function m_(n){const r=function xb(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Z0(r);if(o)return o;const a=r.split("-")[0];if(o=Z0(a),o)return o;if("en"===a)return Ob;throw new Ie(701,!1)}function q0(n){return m_(n)[Hr.PluralCase]}function Z0(n){return n in xf||(xf[n]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[n]),xf[n]}var Hr=(()=>((Hr=Hr||{})[Hr.LocaleId=0]="LocaleId",Hr[Hr.DayPeriodsFormat=1]="DayPeriodsFormat",Hr[Hr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Hr[Hr.DaysFormat=3]="DaysFormat",Hr[Hr.DaysStandalone=4]="DaysStandalone",Hr[Hr.MonthsFormat=5]="MonthsFormat",Hr[Hr.MonthsStandalone=6]="MonthsStandalone",Hr[Hr.Eras=7]="Eras",Hr[Hr.FirstDayOfWeek=8]="FirstDayOfWeek",Hr[Hr.WeekendRange=9]="WeekendRange",Hr[Hr.DateFormat=10]="DateFormat",Hr[Hr.TimeFormat=11]="TimeFormat",Hr[Hr.DateTimeFormat=12]="DateTimeFormat",Hr[Hr.NumberSymbols=13]="NumberSymbols",Hr[Hr.NumberFormats=14]="NumberFormats",Hr[Hr.CurrencyCode=15]="CurrencyCode",Hr[Hr.CurrencySymbol=16]="CurrencySymbol",Hr[Hr.CurrencyName=17]="CurrencyName",Hr[Hr.Currencies=18]="Currencies",Hr[Hr.Directionality=19]="Directionality",Hr[Hr.PluralCase=20]="PluralCase",Hr[Hr.ExtraData=21]="ExtraData",Hr))();const Nf="en-US";let X0=Nf;function __(n,r,o,a,u){if(n=Ae(n),Array.isArray(n))for(let g=0;g<n.length;g++)__(n[g],r,o,a,u);else{const g=Bn(),I=tn();let k=yc(n)?n:Ae(n.provide),z=lu(n);const te=Zr(),_e=1048575&te.providerIndexes,$e=te.directiveStart,at=te.providerIndexes>>20;if(yc(n)||!n.multi){const At=new oa(z,u,Cc),en=I_(k,r,u?_e:_e+at,$e);-1===en?($n(Qe(te,I),g,k),E_(g,n,r.length),r.push(k),te.directiveStart++,te.directiveEnd++,u&&(te.providerIndexes+=1048576),o.push(At),I.push(At)):(o[en]=At,I[en]=At)}else{const At=I_(k,r,_e+at,$e),en=I_(k,r,_e,_e+at),Vn=en>=0&&o[en];if(u&&!Vn||!u&&!(At>=0&&o[At])){$n(Qe(te,I),g,k);const lr=function Mw(n,r,o,a,u){const g=new oa(n,o,Cc);return g.multi=[],g.index=r,g.componentProviders=0,bE(g,u,a&&!o),g}(u?Rw:Aw,o.length,u,a,z);!u&&Vn&&(o[en].providerFactory=lr),E_(g,n,r.length,0),r.push(k),te.directiveStart++,te.directiveEnd++,u&&(te.providerIndexes+=1048576),o.push(lr),I.push(lr)}else E_(g,n,At>-1?At:en,bE(o[u?en:At],z,!u&&a));!u&&a&&Vn&&o[en].componentProviders++}}}function E_(n,r,o,a){const u=yc(r),g=function lv(n){return!!n.useClass}(r);if(u||g){const z=(g?Ae(r.useClass):r).prototype.ngOnDestroy;if(z){const te=n.destroyHooks||(n.destroyHooks=[]);if(!u&&r.multi){const _e=te.indexOf(o);-1===_e?te.push(o,[a,z]):te[_e+1].push(a,z)}else te.push(o,z)}}}function bE(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function I_(n,r,o,a){for(let u=o;u<a;u++)if(r[u]===n)return u;return-1}function Aw(n,r,o,a){return b_(this.multi,[])}function Rw(n,r,o,a){const u=this.multi;let g;if(this.providerFactory){const I=this.providerFactory.componentProviders,k=Xi(o,o[wn],this.providerFactory.index,a);g=k.slice(0,I),b_(u,g);for(let z=I;z<k.length;z++)g.push(k[z])}else g=[],b_(u,g);return g}function b_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function wE(n,r=[]){return o=>{o.providersResolver=(a,u)=>function Cw(n,r,o){const a=Bn();if(a.firstCreatePass){const u=uo(n);__(o,a.data,a.blueprint,u,!0),__(r,a.data,a.blueprint,u,!1)}}(a,u?u(n):n,r)}}class kf{}class DE{}function Pw(n,r){return new w_(n,null!=r?r:null,[])}class w_ extends kf{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ug(this);const u=ni(r);this._bootstrapComponents=ul(u.bootstrap),this._r3Injector=Kh(r,o,[{provide:kf,useValue:this},{provide:od,useValue:this.componentFactoryResolver},...a],ne(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class D_ extends DE{constructor(r){super(),this.moduleType=r}create(r){return new w_(this.moduleType,r,[])}}class SE extends kf{constructor(r){super(),this.componentFactoryResolver=new ug(this),this.instance=null;const o=new Ip([...r.providers,{provide:kf,useValue:this},{provide:od,useValue:this.componentFactoryResolver}],r.parent||vc(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function TE(n,r,o=null){return new SE({providers:n,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let xw=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=au(0,o.type),u=a.length>0?TE([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,u)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Sn({token:n,providedIn:"environment",factory:()=>new n(Ot(ll))}),n})();function CE(n){n.getStandaloneInjector=r=>r.get(xw).getOrCreateStandaloneInjector(n)}function NE(n,r,o){const a=So()+n,u=tn();return u[a]===Vr?dl(u,a,o?r.call(o):r()):function pf(n,r){return n[r]}(u,a)}function kE(n,r,o,a){return FE(tn(),So(),n,r,o,a)}function Lg(n,r){const o=n[r];return o===Vr?void 0:o}function FE(n,r,o,a,u,g){const I=r+o;return gi(n,I,u)?dl(n,I+1,g?a.call(g,u):a(u)):Lg(n,I+1)}function VE(n,r){const o=Bn();let a;const u=n+hr;var g;o.firstCreatePass?(a=function Zw(n,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(n===a.name)return a}}(r,o.pipeRegistry),o.data[u]=a,a.onDestroy&&(null!==(g=o.destroyHooks)&&void 0!==g?g:o.destroyHooks=[]).push(u,a.onDestroy)):a=o.data[u];const I=a.factory||(a.factory=ur(a.type)),k=Mn(Cc);try{const z=J(!1),te=I();return J(z),function _0(n,r,o,a){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=a}(o,tn(),u,te),te}finally{Mn(k)}}function jE(n,r,o){const a=n+hr,u=tn(),g=Yr(u,a);return $g(u,a)?FE(u,So(),r,g.transform,o,g):g.transform(o)}function HE(n,r,o,a){const u=n+hr,g=tn(),I=Yr(g,u);return $g(g,u)?function LE(n,r,o,a,u,g,I){const k=r+o;return Tu(n,k,u,g)?dl(n,k+2,I?a.call(I,u,g):a(u,g)):Lg(n,k+2)}(g,So(),r,I.transform,o,a,I):I.transform(o,a)}function $g(n,r){return n[wn].data[r].pure}function T_(n){return r=>{setTimeout(n,void 0,r)}}const ec=class eD extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let u=r,g=o||(()=>null),I=a;if(r&&"object"==typeof r){var k,z,te;const $e=r;u=null===(k=$e.next)||void 0===k?void 0:k.bind($e),g=null===(z=$e.error)||void 0===z?void 0:z.bind($e),I=null===(te=$e.complete)||void 0===te?void 0:te.bind($e)}this.__isAsync&&(g=T_(g),u&&(u=T_(u)),I&&(I=T_(I)));const _e=super.subscribe({next:u,error:g,complete:I});return r instanceof d.w0&&r.add(_e),_e}};function tD(){return this._results[Symbol.iterator]()}class C_{get changes(){return this._changes||(this._changes=new ec)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=C_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=tD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const u=function gs(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function zc(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let u=n[a],g=r[a];if(o&&(u=o(u),g=o(g)),g!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bg=(()=>{class n{}return n.__NG_ELEMENT_ID__=iD,n})();const nD=Bg,rD=class extends nD{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o,null)}createEmbeddedViewImpl(r,o,a){const I=this._declarationTContainer.tView,k=ud(this._declarationLView,I,r,4096&this._declarationLView[cr]?4096:16,null,I.declTNode,null,null,null,o||null,a||null);k[os]=this._declarationLView[this._declarationTContainer.index];const te=this._declarationLView[Gi];return null!==te&&(k[Gi]=te.createEmbeddedView(I)),sf(I,k,r),new bu(k)}};function iD(){return By(Zr(),tn())}function By(n,r){return 4&n.type?new rD(r,n,cl(n,r)):null}let Uy=(()=>{class n{}return n.__NG_ELEMENT_ID__=dD,n})();function dD(){return qE(Zr(),tn())}const hD=Uy,KE=class extends hD{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return cl(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){const r=pn(this._hostTNode,this._hostLView);if($d(r)){const o=tl(r,this._hostLView),a=Ga(r);return new zi(o[wn].data[a+8],o)}return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=YE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(r,o,a){let u,g;"number"==typeof a?u=a:null!=a&&(u=a.index,g=a.injector);const k=r.createEmbeddedViewImpl(o||{},g,null);return this.insertImpl(k,u,false),k}createComponent(r,o,a,u,g){var I,z;const te=r&&!function Ll(n){return"function"==typeof n}(r);let _e;if(te)_e=o;else{const sn=o||{};_e=sn.index,a=sn.injector,u=sn.projectableNodes,g=sn.environmentInjector||sn.ngModuleRef}const $e=te?r:new Pc(Mr(r)),at=a||this.parentInjector;if(!g&&null==$e.ngModule){const Br=(te?at:this.parentInjector).get(ll,null);Br&&(g=Br)}const At=Mr(null!==(I=$e.componentType)&&void 0!==I?I:{}),en=(null==At?void 0:At.id,null),yn=null!==(z=null==en?void 0:en.firstChild)&&void 0!==z?z:null,Vn=$e.create(at,u,yn,g),lr=!!en&&!Hu(this._hostTNode);return this.insertImpl(Vn.hostView,_e,lr),Vn}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const u=r._lView,g=u[wn];if(function un(n){return fi(n[Kr])}(u)){const z=this.indexOf(r);if(-1!==z)this.detach(z);else{const te=u[Kr],_e=new KE(te,te[hi],te[Kr]);_e.detach(_e.indexOf(r))}}const I=this._adjustIndex(o),k=this._lContainer;if(function nm(n,r,o,a){const u=ji+a,g=o.length;a>0&&(o[u-1][ki]=r),a<g-ji?(r[ki]=o[u],Nu(o,ji+a,r)):(o.push(r),r[ki]=null),r[Kr]=o;const I=r[os];null!==I&&o!==I&&function rm(n,r){const o=n[oi];r[yi]!==r[Kr][Kr][yi]&&(n[Bs]=!0),null===o?n[oi]=[r]:o.push(r)}(I,r);const k=r[Gi];null!==k&&k.insertView(n),r[cr]|=128}(g,u,k,I),!a){const z=op(I,k),te=u[er],_e=nu(te,k[Wi]);null!==_e&&function em(n,r,o,a,u,g){a[Xr]=u,a[hi]=r,Ku(n,a,o,1,u,g)}(g,k[hi],te,u,_e,z)}return r.attachToViewContainerRef(),Nu(R_(k),I,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=YE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Jf(this._lContainer,o);a&&(ai(R_(this._lContainer),o),om(a[wn],a))}detach(r){const o=this._adjustIndex(r,-1),a=Jf(this._lContainer,o);return a&&null!=ai(R_(this._lContainer),o)?new bu(a):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function YE(n){return n[8]}function R_(n){return n[8]||(n[8]=[])}function qE(n,r){let o;const a=r[n.index];return fi(a)?o=a:(o=rg(a,r,null,n),r[n.index]=o,gd(r,o)),ZE(o,r,n,a),new KE(o,n,r)}let ZE=function XE(n,r,o,a){if(n[Wi])return;let u;u=8&o.type?_n(a):function fD(n,r){const o=n[er],a=o.createComment(""),u=br(r,n);return go(o,nu(o,u),a,function am(n,r){return n.nextSibling(r)}(o,u),!1),a}(r,o),n[Wi]=u};class M_{constructor(r){this.queryList=r,this.matches=null}clone(){return new M_(this.queryList)}setDirty(){this.queryList.setDirty()}}class P_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,u=[];for(let g=0;g<a;g++){const I=o.getByIndex(g);u.push(this.queries[I.indexInDeclarationView].clone())}return new P_(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==sI(r,o).matches&&this.queries[o].setDirty()}}class QE{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class O_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,g=this.getByIndex(a).embeddedTView(r,u);g&&(g.indexInDeclarationView=a,null!==o?o.push(g):o=[g])}return null!==o?new O_(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class x_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new x_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const g=a[u];this.matchTNodeWithReadOption(r,o,mD(o,g)),this.matchTNodeWithReadOption(r,o,Fi(o,r,g,!1,!1))}else a===Bg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Fi(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Ic||u===Uy||u===Bg&&4&o.type)this.addMatch(o.index,-2);else{const g=Fi(o,r,u,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function mD(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function vD(n,r,o,a){return-1===o?function yD(n,r){return 11&n.type?cl(n,r):4&n.type?By(n,r):null}(r,n):-2===o?function _D(n,r,o){return o===Ic?cl(r,n):o===Bg?By(r,n):o===Uy?qE(r,n):void 0}(n,r,a):Xi(n,n[wn],o,r)}function JE(n,r,o,a){const u=r[Gi].queries[a];if(null===u.matches){const g=n.data,I=o.matches,k=[];for(let z=0;z<I.length;z+=2){const te=I[z];k.push(te<0?null:vD(r,g[te],I[z+1],o.metadata.read))}u.matches=k}return u.matches}function N_(n,r,o,a){const u=n.queries.getByIndex(o),g=u.matches;if(null!==g){const I=JE(n,r,u,o);for(let k=0;k<g.length;k+=2){const z=g[k];if(z>0)a.push(I[k/2]);else{const te=g[k+1],_e=r[-z];for(let $e=ji;$e<_e.length;$e++){const at=_e[$e];at[os]===at[Kr]&&N_(at[wn],at,te,a)}if(null!==_e[oi]){const $e=_e[oi];for(let at=0;at<$e.length;at++){const At=$e[at];N_(At[wn],At,te,a)}}}}}return a}function eI(n){const r=tn(),o=Bn(),a=ia();Va(a+1);const u=sI(o,a);if(n.dirty&&function qo(n){return 4==(4&n[cr])}(r)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const g=u.crossesNgTemplate?N_(o,r,a,[]):JE(o,r,u,a);n.reset(g,yu),n.notifyOnChanges()}return!0}return!1}function tI(n,r,o){const a=Bn();a.firstCreatePass&&(oI(a,new QE(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),iI(a,tn(),r)}function nI(n,r,o,a){const u=Bn();if(u.firstCreatePass){const g=Zr();oI(u,new QE(r,o,a),g.index),function ID(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(u,n),2==(2&o)&&(u.staticContentQueries=!0)}iI(u,tn(),o)}function rI(){return function ED(n,r){return n[Gi].queries[r].queryList}(tn(),ia())}function iI(n,r,o){const a=new C_(4==(4&o));(function Km(n,r,o,a){const u=ef(r);u.push(o),n.firstCreatePass&&Qm(n).push(a,u.length-1)})(n,r,a,a.destroy),null===r[Gi]&&(r[Gi]=new P_),r[Gi].queries.push(new M_(a))}function oI(n,r,o){null===n.queries&&(n.queries=new O_),n.queries.track(new x_(r,o))}function sI(n,r){return n.queries.getByIndex(r)}function k_(n){return!!ni(n)}const wI=new Li("Application Initializer");let U_=(()=>{class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=null!==(o=_t(wI,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const g=u();if(Cg(g))o.push(g);else if(Xv(g)){const I=new Promise((k,z)=>{g.subscribe({complete:k,error:z})});o.push(I)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const jy=new Li("LocaleId",{providedIn:"root",factory:()=>_t(jy,on.Optional|on.SkipSelf)||function HD(){return typeof $localize<"u"&&$localize.locale||Nf}()}),zD=new Li("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let SI=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Y.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GD{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let WD=(()=>{class n{compileModuleSync(o){return new D_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),g=ul(ni(o).declarations).reduce((I,k)=>{const z=Mr(k);return z&&I.push(new Pc(z)),I},[]);return new GD(a,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AI(...n){}class Ca{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ec(!1),this.onMicrotaskEmpty=new ec(!1),this.onStable=new ec(!1),this.onError=new ec(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function qD(){let n=Wn.requestAnimationFrame,r=Wn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function QD(n){const r=()=>{!function XD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,j_(n),n.isCheckStableRunning=!0,V_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),j_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,g,I,k)=>{try{return RI(n),o.invokeTask(u,g,I,k)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),MI(n)}},onInvoke:(o,a,u,g,I,k,z)=>{try{return RI(n),o.invoke(u,g,I,k,z)}finally{n.shouldCoalesceRunChangeDetection&&r(),MI(n)}},onHasTask:(o,a,u,g)=>{o.hasTask(u,g),a===u&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,j_(n),V_(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,u,g)=>(o.handleError(u,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ca.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Ca.isInAngularZone())throw new Ie(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,u){const g=this._inner,I=g.scheduleEventTask("NgZoneEvent: "+u,r,ZD,AI,AI);try{return g.runTask(I,o,a)}finally{g.cancelTask(I)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const ZD={};function V_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function j_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function RI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function MI(n){n._nesting--,V_(n)}class JD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ec,this.onMicrotaskEmpty=new ec,this.onStable=new ec,this.onError=new ec}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,u){return r.apply(o,a)}}const PI=new Li("",{providedIn:"root",factory:OI});function OI(){const n=_t(Ca);let r=!0;return function _(...n){const r=(0,N.yG)(n),o=(0,N._6)(n,1/0),a=n;return a.length?1===a.length?(0,V.Xf)(a[0]):(0,W.J)(o)((0,M.D)(a,r)):O.E}(new U.y(u=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{u.next(r),u.complete()})}),new U.y(u=>{let g;n.runOutsideAngular(()=>{g=n.onStable.subscribe(()=>{Ca.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,u.next(!0))})})});const I=n.onUnstable.subscribe(()=>{Ca.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{u.next(!1)}))});return()=>{g.unsubscribe(),I.unsubscribe()}}).pipe(H()))}const xI=new Li(""),NI=new Li("");let H_,eS=(()=>{class n{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,H_||(function tS(n){H_=n}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ca.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}}return n.\u0275fac=function(o){return new(o||n)(Ot(Ca),Ot(kI),Ot(NI))},n.\u0275prov=Sn({token:n,factory:n.\u0275fac}),n})(),kI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var u,g;return null!==(u=null===(g=H_)||void 0===g?void 0:g.findTestabilityInTree(this,o,a))&&void 0!==u?u:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),xu=null;const FI=new Li("AllowMultipleToken"),z_=new Li("PlatformDestroyListeners"),G_=new Li("appBootstrapListener");class iS{constructor(r,o){this.name=r,this.token=o}}function BI(n,r,o=[]){const a=`Platform: ${r}`,u=new Li(a);return(g=[])=>{let I=W_();if(!I||I.injector.get(FI,!1)){const k=[...o,...g,{provide:u,useValue:!0}];n?n(k):function oS(n){if(xu&&!xu.get(FI,!1))throw new Ie(400,!1);(function LI(){!function Ra(n){_a=n}(()=>{throw new Ie(600,!1)})})(),xu=n;const r=n.get(VI);(function $I(n){const r=n.get(Ch,null);null==r||r.forEach(o=>o())})(n)}(function UI(n=[],r){return Zl.create({name:r,providers:[{provide:vp,useValue:"platform"},{provide:z_,useValue:new Set([()=>xu=null])},...n]})}(k,a))}return function aS(n){const r=W_();if(!r)throw new Ie(401,!1);return r}()}}function W_(){var n,r;return null!==(n=null===(r=xu)||void 0===r?void 0:r.get(VI))&&void 0!==n?n:null}let VI=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function lS(n="zone.js",r){return"noop"===n?new JD:"zone.js"===n?new Ca(r):n}(null==a?void 0:a.ngZone,function jI(n){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==n?void 0:n.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}));return u.run(()=>{const g=function Ow(n,r,o){return new w_(n,r,o)}(o.moduleType,this.injector,function KI(n){return[{provide:Ca,useFactory:n},{provide:ed,multi:!0,useFactory:()=>{const r=_t(uS,{optional:!0});return()=>r.initialize()}},{provide:WI,useFactory:cS},{provide:PI,useFactory:OI}]}(()=>u)),I=g.injector.get(vu,null);return u.runOutsideAngular(()=>{const k=u.onError.subscribe({next:z=>{I.handleError(z)}});g.onDestroy(()=>{Hy(this._modules,g),k.unsubscribe()})}),function HI(n,r,o){try{const a=o();return Cg(a)?a.catch(u=>{throw r.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(I,u,()=>{const k=g.injector.get(U_);return k.runInitializers(),k.donePromise.then(()=>(function Q0(n){vn(n,"Expected localeId to be defined"),"string"==typeof n&&(X0=n.toLowerCase().replace(/_/g,"-"))}(g.injector.get(jy,Nf)||Nf),this._moduleDoBootstrap(g),g))})})}bootstrapModule(o,a=[]){const u=zI({},a);return function nS(n,r,o){const a=new D_(o);return Promise.resolve(a)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,u))}_moduleDoBootstrap(o){const a=o.injector.get($f);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new Ie(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(z_,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Ot(Zl))},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function zI(n,r){return Array.isArray(r)?r.reduce(zI,n):{...n,...r}}let $f=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_t(WI),this.zoneIsStable=_t(PI),this.componentTypes=[],this.components=[],this.isStable=_t(SI).hasPendingTasks.pipe((0,be.w)(o=>o?(0,A.of)(!1):this.zoneIsStable),(0,pe.x)(),H()),this._injector=_t(ll)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof Om;if(!this._injector.get(U_).done)throw!u&&Uo(o),new Ie(405,!1);let I;I=u?o:this._injector.get(od).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const k=function rS(n){return n.isBoundToModule}(I)?void 0:this._injector.get(kf),te=I.create(Zl.NULL,[],a||I.selector,k),_e=te.location.nativeElement,$e=te.injector.get(xI,null);return null==$e||$e.registerApplication(_e),te.onDestroy(()=>{this.detachView(te.hostView),Hy(this.components,te),null==$e||$e.unregisterApplication(_e)}),this._loadComponent(te),te}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Hy(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(G_,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Hy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ie(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hy(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}const WI=new Li("",{providedIn:"root",factory:()=>_t(vu).handleError.bind(void 0)});function cS(){const n=_t(Ca),r=_t(vu);return o=>n.runOutsideAngular(()=>r.handleError(o))}let uS=(()=>{class n{constructor(){this.zone=_t(Ca),this.applicationRef=_t($f)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Sn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hS(){}let fS=(()=>{class n{}return n.__NG_ELEMENT_ID__=pS,n})();function pS(n){return function gS(n,r,o){if(Ji(n)&&!o){const a=$r(n.index,r);return new bu(a,a)}return 47&n.type?new bu(r[yi],r):null}(Zr(),tn(),16==(16&n))}class XI{constructor(){}supports(r){return _d(r)}create(r){return new IS(r)}}const ES=(n,r)=>r;class IS{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ES}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,u=0,g=null;for(;o||a;){const I=!a||o&&o.currentIndex<JI(a,u,g)?o:a,k=JI(I,u,g),z=I.currentIndex;if(I===a)u--,a=a._nextRemoved;else if(o=o._next,null==I.previousIndex)u++;else{g||(g=[]);const te=k-u,_e=z-u;if(te!=_e){for(let at=0;at<te;at++){const At=at<g.length?g[at]:g[at]=0,en=At+at;_e<=en&&en<te&&(g[at]=At+1)}g[I.previousIndex]=_e-te}}k!==z&&r(I,k,z)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!_d(r))throw new Ie(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,g,I,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let k=0;k<this.length;k++)g=r[k],I=this._trackByFn(k,g),null!==o&&Object.is(o.trackById,I)?(a&&(o=this._verifyReinsertion(o,g,I,k)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,I,k),a=!0),o=o._next}else u=0,function fy(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,k=>{I=this._trackByFn(u,k),null!==o&&Object.is(o.trackById,I)?(a&&(o=this._verifyReinsertion(o,k,I,u)),Object.is(o.item,k)||this._addIdentityChange(o,k)):(o=this._mismatch(o,k,I,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,u){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,g,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,g,u)):r=this._addAfter(new bS(o,a),g,u),r}_verifyReinsertion(r,o,a,u){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?r=this._reinsertAfter(g,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,g=r._nextRemoved;return null===u?this._removalsHead=g:u._nextRemoved=g,null===g?this._removalsTail=u:g._prevRemoved=u,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const u=null===o?this._itHead:o._next;return r._next=u,r._prev=o,null===u?this._itTail=r:u._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new QI),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bS{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wS{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class QI{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new wS,this.map.set(o,a)),a.add(r)}get(r,o){const u=this.map.get(r);return u?u.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JI(n,r,o){const a=n.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+r+u}class eb{constructor(){}supports(r){return r instanceof Map||hg(r)}create(){return new DS}}class DS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||hg(r)))throw new Ie(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,o);const g=u._prev,I=u._next;return g&&(g._next=I),I&&(I._prev=g),u._next=null,u._prev=null,u}const a=new SS(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class SS{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tb(){return new X_([new XI])}let X_=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||tb()),deps:[[n,new il,new aa]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new Ie(901,!1)}}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:tb}),n})();function nb(){return new Q_([new eb])}let Q_=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||nb()),deps:[[n,new il,new aa]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new Ie(901,!1)}}return n.\u0275prov=Sn({token:n,providedIn:"root",factory:nb}),n})();const AS=BI(null,"core",[]);let RS=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Ot($f))},n.\u0275mod=Or({type:n}),n.\u0275inj=Gn({}),n})();function $S(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function US(n,r){const o=Mr(n),a=r.elementInjector||vc();return new Pc(o).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function VS(n){const r=Mr(n);if(!r)return null;const o=new Pc(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(lt,rt,C)=>{"use strict";C.d(rt,{Fj:()=>ne,NI:()=>ge,cw:()=>_t,u5:()=>w,nD:()=>Ji,JU:()=>X,a5:()=>Sn,JJ:()=>fn,On:()=>Qi,UX:()=>ie});var c=C(6689),d=C(6814),Y=C(2459),U=C(5592),W=C(7453),V=C(4829),O=C(4564),N=C(8251),M=C(7400),_=C(2714),S=C(7398);let P=(()=>{class f{constructor(p,x){this._renderer=p,this._elementRef=x,this.onChange=fe=>{},this.onTouched=()=>{}}setProperty(p,x){this._renderer.setProperty(this._elementRef.nativeElement,p,x)}registerOnTouched(p){this.onTouched=p}registerOnChange(p){this.onChange=p}setDisabledState(p){this.setProperty("disabled",p)}}return f.\u0275fac=function(p){return new(p||f)(c.Y36(c.Qsj),c.Y36(c.SBq))},f.\u0275dir=c.lG2({type:f}),f})(),H=(()=>{class f extends P{}return f.\u0275fac=function(){let v;return function(x){return(v||(v=c.n5z(f)))(x||f)}}(),f.\u0275dir=c.lG2({type:f,features:[c.qOj]}),f})();const X=new c.OlP("NgValueAccessor"),se={provide:X,useExisting:(0,c.Gpc)(()=>ne),multi:!0},we=new c.OlP("CompositionEventMode");let ne=(()=>{class f extends P{constructor(p,x,fe){super(p,x),this._compositionMode=fe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Me(){const f=(0,d.q)()?(0,d.q)().getUserAgent():"";return/android (\d+)/.test(f.toLowerCase())}())}writeValue(p){this.setProperty("value",null==p?"":p)}_handleInput(p){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(p)}_compositionStart(){this._composing=!0}_compositionEnd(p){this._composing=!1,this._compositionMode&&this.onChange(p)}}return f.\u0275fac=function(p){return new(p||f)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(we,8))},f.\u0275dir=c.lG2({type:f,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(p,x){1&p&&c.NdJ("input",function(ze){return x._handleInput(ze.target.value)})("blur",function(){return x.onTouched()})("compositionstart",function(){return x._compositionStart()})("compositionend",function(ze){return x._compositionEnd(ze.target.value)})},features:[c._Bn([se]),c.qOj]}),f})();const je=new c.OlP("NgValidators"),Ae=new c.OlP("NgAsyncValidators");function De(f){return null}function Le(f){return null!=f}function He(f){return(0,c.QGY)(f)?(0,Y.D)(f):f}function Xe(f){let v={};return f.forEach(p=>{v=null!=p?{...v,...p}:v}),0===Object.keys(v).length?null:v}function dt(f,v){return v.map(p=>p(f))}function zt(f){return f.map(v=>function St(f){return!f.validate}(v)?v:p=>v.validate(p))}function ht(f){return null!=f?function Qt(f){if(!f)return null;const v=f.filter(Le);return 0==v.length?null:function(p){return Xe(dt(p,v))}}(zt(f)):null}function Ct(f){return null!=f?function Rt(f){if(!f)return null;const v=f.filter(Le);return 0==v.length?null:function(p){return function A(...f){const v=(0,O.jO)(f),{args:p,keys:x}=(0,W.D)(f),fe=new U.y(ze=>{const{length:wt}=p;if(!wt)return void ze.complete();const jt=new Array(wt);let En=wt,ur=wt;for(let Ir=0;Ir<wt;Ir++){let xr=!1;(0,V.Xf)(p[Ir]).subscribe((0,N.x)(ze,Cr=>{xr||(xr=!0,ur--),jt[Ir]=Cr},()=>En--,void 0,()=>{(!En||!xr)&&(ur||ze.next(x?(0,_.n)(x,jt):jt),ze.complete())}))}});return v?fe.pipe((0,M.Z)(v)):fe}(dt(p,v).map(He)).pipe((0,S.U)(Xe))}}(zt(f)):null}function Pt(f,v){return null===f?[v]:Array.isArray(f)?[...f,v]:[f,v]}function In(f){return f?Array.isArray(f)?f:[f]:[]}function vn(f,v){return Array.isArray(f)?f.includes(v):f===v}function Tt(f,v){const p=In(v);return In(f).forEach(fe=>{vn(p,fe)||p.push(fe)}),p}function gn(f,v){return In(v).filter(p=>!vn(f,p))}class or{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(v){this._rawValidators=v||[],this._composedValidatorFn=ht(this._rawValidators)}_setAsyncValidators(v){this._rawAsyncValidators=v||[],this._composedAsyncValidatorFn=Ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(v){this._onDestroyCallbacks.push(v)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(v=>v()),this._onDestroyCallbacks=[]}reset(v=void 0){this.control&&this.control.reset(v)}hasError(v,p){return!!this.control&&this.control.hasError(v,p)}getError(v,p){return this.control?this.control.getError(v,p):null}}class Ln extends or{get formDirective(){return null}get path(){return null}}class Sn extends or{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vr{constructor(v){this._cd=v}get isTouched(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.touched)}get isUntouched(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.untouched)}get isPristine(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.pristine)}get isDirty(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.dirty)}get isValid(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.valid)}get isInvalid(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.invalid)}get isPending(){var v;return!(null===(v=this._cd)||void 0===v||null===(v=v.control)||void 0===v||!v.pending)}get isSubmitted(){var v;return!(null===(v=this._cd)||void 0===v||!v.submitted)}}let fn=(()=>{class f extends vr{constructor(p){super(p)}}return f.\u0275fac=function(p){return new(p||f)(c.Y36(Sn,2))},f.\u0275dir=c.lG2({type:f,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(p,x){2&p&&c.ekj("ng-untouched",x.isUntouched)("ng-touched",x.isTouched)("ng-pristine",x.isPristine)("ng-dirty",x.isDirty)("ng-valid",x.isValid)("ng-invalid",x.isInvalid)("ng-pending",x.isPending)},features:[c.qOj]}),f})();const bt="VALID",Gt="INVALID",Yt="PENDING",nn="DISABLED";function Be(f){return(Ce(f)?f.validators:f)||null}function de(f,v){return(Ce(v)?v.asyncValidators:f)||null}function Ce(f){return null!=f&&!Array.isArray(f)&&"object"==typeof f}class tt{constructor(v,p){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(v),this._assignAsyncValidators(p)}get validator(){return this._composedValidatorFn}set validator(v){this._rawValidators=this._composedValidatorFn=v}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(v){this._rawAsyncValidators=this._composedAsyncValidatorFn=v}get parent(){return this._parent}get valid(){return this.status===bt}get invalid(){return this.status===Gt}get pending(){return this.status==Yt}get disabled(){return this.status===nn}get enabled(){return this.status!==nn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(v){this._assignValidators(v)}setAsyncValidators(v){this._assignAsyncValidators(v)}addValidators(v){this.setValidators(Tt(v,this._rawValidators))}addAsyncValidators(v){this.setAsyncValidators(Tt(v,this._rawAsyncValidators))}removeValidators(v){this.setValidators(gn(v,this._rawValidators))}removeAsyncValidators(v){this.setAsyncValidators(gn(v,this._rawAsyncValidators))}hasValidator(v){return vn(this._rawValidators,v)}hasAsyncValidator(v){return vn(this._rawAsyncValidators,v)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(v={}){this.touched=!0,this._parent&&!v.onlySelf&&this._parent.markAsTouched(v)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(v=>v.markAllAsTouched())}markAsUntouched(v={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(p=>{p.markAsUntouched({onlySelf:!0})}),this._parent&&!v.onlySelf&&this._parent._updateTouched(v)}markAsDirty(v={}){this.pristine=!1,this._parent&&!v.onlySelf&&this._parent.markAsDirty(v)}markAsPristine(v={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(p=>{p.markAsPristine({onlySelf:!0})}),this._parent&&!v.onlySelf&&this._parent._updatePristine(v)}markAsPending(v={}){this.status=Yt,!1!==v.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!v.onlySelf&&this._parent.markAsPending(v)}disable(v={}){const p=this._parentMarkedDirty(v.onlySelf);this.status=nn,this.errors=null,this._forEachChild(x=>{x.disable({...v,onlySelf:!0})}),this._updateValue(),!1!==v.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...v,skipPristineCheck:p}),this._onDisabledChange.forEach(x=>x(!0))}enable(v={}){const p=this._parentMarkedDirty(v.onlySelf);this.status=bt,this._forEachChild(x=>{x.enable({...v,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:v.emitEvent}),this._updateAncestors({...v,skipPristineCheck:p}),this._onDisabledChange.forEach(x=>x(!1))}_updateAncestors(v){this._parent&&!v.onlySelf&&(this._parent.updateValueAndValidity(v),v.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(v){this._parent=v}getRawValue(){return this.value}updateValueAndValidity(v={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bt||this.status===Yt)&&this._runAsyncValidator(v.emitEvent)),!1!==v.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!v.onlySelf&&this._parent.updateValueAndValidity(v)}_updateTreeValidity(v={emitEvent:!0}){this._forEachChild(p=>p._updateTreeValidity(v)),this.updateValueAndValidity({onlySelf:!0,emitEvent:v.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nn:bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(v){if(this.asyncValidator){this.status=Yt,this._hasOwnPendingAsyncValidator=!0;const p=He(this.asyncValidator(this));this._asyncValidationSubscription=p.subscribe(x=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(x,{emitEvent:v})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(v,p={}){this.errors=v,this._updateControlsErrors(!1!==p.emitEvent)}get(v){let p=v;return null==p||(Array.isArray(p)||(p=p.split(".")),0===p.length)?null:p.reduce((x,fe)=>x&&x._find(fe),this)}getError(v,p){const x=p?this.get(p):this;return x&&x.errors?x.errors[v]:null}hasError(v,p){return!!this.getError(v,p)}get root(){let v=this;for(;v._parent;)v=v._parent;return v}_updateControlsErrors(v){this.status=this._calculateStatus(),v&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(v)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?nn:this.errors?Gt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yt)?Yt:this._anyControlsHaveStatus(Gt)?Gt:bt}_anyControlsHaveStatus(v){return this._anyControls(p=>p.status===v)}_anyControlsDirty(){return this._anyControls(v=>v.dirty)}_anyControlsTouched(){return this._anyControls(v=>v.touched)}_updatePristine(v={}){this.pristine=!this._anyControlsDirty(),this._parent&&!v.onlySelf&&this._parent._updatePristine(v)}_updateTouched(v={}){this.touched=this._anyControlsTouched(),this._parent&&!v.onlySelf&&this._parent._updateTouched(v)}_registerOnCollectionChange(v){this._onCollectionChange=v}_setUpdateStrategy(v){Ce(v)&&null!=v.updateOn&&(this._updateOn=v.updateOn)}_parentMarkedDirty(v){return!v&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(v){return null}_assignValidators(v){this._rawValidators=Array.isArray(v)?v.slice():v,this._composedValidatorFn=function he(f){return Array.isArray(f)?ht(f):f||null}(this._rawValidators)}_assignAsyncValidators(v){this._rawAsyncValidators=Array.isArray(v)?v.slice():v,this._composedAsyncValidatorFn=function ve(f){return Array.isArray(f)?Ct(f):f||null}(this._rawAsyncValidators)}}class _t extends tt{constructor(v,p,x){super(Be(p),de(x,p)),this.controls=v,this._initObservables(),this._setUpdateStrategy(p),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(v,p){return this.controls[v]?this.controls[v]:(this.controls[v]=p,p.setParent(this),p._registerOnCollectionChange(this._onCollectionChange),p)}addControl(v,p,x={}){this.registerControl(v,p),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}removeControl(v,p={}){this.controls[v]&&this.controls[v]._registerOnCollectionChange(()=>{}),delete this.controls[v],this.updateValueAndValidity({emitEvent:p.emitEvent}),this._onCollectionChange()}setControl(v,p,x={}){this.controls[v]&&this.controls[v]._registerOnCollectionChange(()=>{}),delete this.controls[v],p&&this.registerControl(v,p),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}contains(v){return this.controls.hasOwnProperty(v)&&this.controls[v].enabled}setValue(v,p={}){(function Ot(f,v,p){f._forEachChild((x,fe)=>{if(void 0===p[fe])throw new c.vHH(1002,"")})})(this,0,v),Object.keys(v).forEach(x=>{(function pt(f,v,p){const x=f.controls;if(!(v?Object.keys(x):x).length)throw new c.vHH(1e3,"");if(!x[p])throw new c.vHH(1001,"")})(this,!0,x),this.controls[x].setValue(v[x],{onlySelf:!0,emitEvent:p.emitEvent})}),this.updateValueAndValidity(p)}patchValue(v,p={}){null!=v&&(Object.keys(v).forEach(x=>{const fe=this.controls[x];fe&&fe.patchValue(v[x],{onlySelf:!0,emitEvent:p.emitEvent})}),this.updateValueAndValidity(p))}reset(v={},p={}){this._forEachChild((x,fe)=>{x.reset(v[fe],{onlySelf:!0,emitEvent:p.emitEvent})}),this._updatePristine(p),this._updateTouched(p),this.updateValueAndValidity(p)}getRawValue(){return this._reduceChildren({},(v,p,x)=>(v[x]=p.getRawValue(),v))}_syncPendingControls(){let v=this._reduceChildren(!1,(p,x)=>!!x._syncPendingControls()||p);return v&&this.updateValueAndValidity({onlySelf:!0}),v}_forEachChild(v){Object.keys(this.controls).forEach(p=>{const x=this.controls[p];x&&v(x,p)})}_setUpControls(){this._forEachChild(v=>{v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(v){for(const[p,x]of Object.entries(this.controls))if(this.contains(p)&&v(x))return!0;return!1}_reduceValue(){return this._reduceChildren({},(p,x,fe)=>((x.enabled||this.disabled)&&(p[fe]=x.value),p))}_reduceChildren(v,p){let x=v;return this._forEachChild((fe,ze)=>{x=p(x,fe,ze)}),x}_allControlsDisabled(){for(const v of Object.keys(this.controls))if(this.controls[v].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(v){return this.controls.hasOwnProperty(v)?this.controls[v]:null}}const gt=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ge}),Ge="always";function Ve(f,v,p=Ge){var x,fe;(function ln(f,v){const p=function Wt(f){return f._rawValidators}(f);null!==v.validator?f.setValidators(Pt(p,v.validator)):"function"==typeof p&&f.setValidators([p]);const x=function an(f){return f._rawAsyncValidators}(f);null!==v.asyncValidator?f.setAsyncValidators(Pt(x,v.asyncValidator)):"function"==typeof x&&f.setAsyncValidators([x]);const fe=()=>f.updateValueAndValidity();ft(v._rawValidators,fe),ft(v._rawAsyncValidators,fe)})(f,v),v.valueAccessor.writeValue(f.value),(f.disabled||"always"===p)&&(null===(x=(fe=v.valueAccessor).setDisabledState)||void 0===x||x.call(fe,f.disabled)),function On(f,v){v.valueAccessor.registerOnChange(p=>{f._pendingValue=p,f._pendingChange=!0,f._pendingDirty=!0,"change"===f.updateOn&&Zn(f,v)})}(f,v),function nr(f,v){const p=(x,fe)=>{v.valueAccessor.writeValue(x),fe&&v.viewToModelUpdate(x)};f.registerOnChange(p),v._registerOnDestroy(()=>{f._unregisterOnChange(p)})}(f,v),function Dr(f,v){v.valueAccessor.registerOnTouched(()=>{f._pendingTouched=!0,"blur"===f.updateOn&&f._pendingChange&&Zn(f,v),"submit"!==f.updateOn&&f.markAsTouched()})}(f,v),function Et(f,v){if(v.valueAccessor.setDisabledState){const p=x=>{v.valueAccessor.setDisabledState(x)};f.registerOnDisabledChange(p),v._registerOnDestroy(()=>{f._unregisterOnDisabledChange(p)})}}(f,v)}function ft(f,v){f.forEach(p=>{p.registerOnValidatorChange&&p.registerOnValidatorChange(v)})}function Zn(f,v){f._pendingDirty&&f.markAsDirty(),f.setValue(f._pendingValue,{emitModelToViewChange:!1}),v.viewToModelUpdate(f._pendingValue),f._pendingChange=!1}function ae(f,v){const p=f.indexOf(v);p>-1&&f.splice(p,1)}function q(f){return"object"==typeof f&&null!==f&&2===Object.keys(f).length&&"value"in f&&"disabled"in f}const ge=class extends tt{constructor(v=null,p,x){super(Be(p),de(x,p)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(v),this._setUpdateStrategy(p),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ce(p)&&(p.nonNullable||p.initialValueIsDefault)&&(this.defaultValue=q(v)?v.value:v)}setValue(v,p={}){this.value=this._pendingValue=v,this._onChange.length&&!1!==p.emitModelToViewChange&&this._onChange.forEach(x=>x(this.value,!1!==p.emitViewToModelChange)),this.updateValueAndValidity(p)}patchValue(v,p={}){this.setValue(v,p)}reset(v=this.defaultValue,p={}){this._applyFormState(v),this.markAsPristine(p),this.markAsUntouched(p),this.setValue(this.value,p),this._pendingChange=!1}_updateValue(){}_anyControls(v){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(v){this._onChange.push(v)}_unregisterOnChange(v){ae(this._onChange,v)}registerOnDisabledChange(v){this._onDisabledChange.push(v)}_unregisterOnDisabledChange(v){ae(this._onDisabledChange,v)}_forEachChild(v){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(v){q(v)?(this.value=this._pendingValue=v.value,v.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=v}},Bi={provide:Sn,useExisting:(0,c.Gpc)(()=>Qi)},ui=(()=>Promise.resolve())();let Qi=(()=>{class f extends Sn{constructor(p,x,fe,ze,wt,jt){super(),this._changeDetectorRef=wt,this.callSetDisabledState=jt,this.control=new ge,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=p,this._setValidators(x),this._setAsyncValidators(fe),this.valueAccessor=function wi(f,v){if(!v)return null;let p,x,fe;return Array.isArray(v),v.forEach(ze=>{ze.constructor===ne?p=ze:function Wr(f){return Object.getPrototypeOf(f.constructor)===H}(ze)?x=ze:fe=ze}),fe||x||p||null}(0,ze)}ngOnChanges(p){if(this._checkForErrors(),!this._registered||"name"in p){if(this._registered&&(this._checkName(),this.formDirective)){const x=p.name.previousValue;this.formDirective.removeControl({name:x,path:this._getPath(x)})}this._setUpControl()}"isDisabled"in p&&this._updateDisabled(p),function mi(f,v){if(!f.hasOwnProperty("model"))return!1;const p=f.model;return!!p.isFirstChange()||!Object.is(v,p.currentValue)}(p,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(p){this.viewModel=p,this.update.emit(p)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ve(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(p){ui.then(()=>{var x;this.control.setValue(p,{emitViewToModelChange:!1}),null===(x=this._changeDetectorRef)||void 0===x||x.markForCheck()})}_updateDisabled(p){const x=p.isDisabled.currentValue,fe=0!==x&&(0,c.VuI)(x);ui.then(()=>{var ze;fe&&!this.control.disabled?this.control.disable():!fe&&this.control.disabled&&this.control.enable(),null===(ze=this._changeDetectorRef)||void 0===ze||ze.markForCheck()})}_getPath(p){return this._parent?function qe(f,v){return[...v.path,f]}(p,this._parent):[p]}}return f.\u0275fac=function(p){return new(p||f)(c.Y36(Ln,9),c.Y36(je,10),c.Y36(Ae,10),c.Y36(X,10),c.Y36(c.sBO,8),c.Y36(gt,8))},f.\u0275dir=c.lG2({type:f,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Bi]),c.qOj,c.TTD]}),f})(),ni=(()=>{class f{}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=c.oAB({type:f}),f.\u0275inj=c.cJS({}),f})();const Pr=new c.OlP("NgModelWithFormControlWarning");let lo=(()=>{class f{constructor(){this._validator=De}ngOnChanges(p){if(this.inputName in p){const x=this.normalizeInput(p[this.inputName].currentValue);this._enabled=this.enabled(x),this._validator=this._enabled?this.createValidator(x):De,this._onChange&&this._onChange()}}validate(p){return this._validator(p)}registerOnValidatorChange(p){this._onChange=p}enabled(p){return null!=p}}return f.\u0275fac=function(p){return new(p||f)},f.\u0275dir=c.lG2({type:f,features:[c.TTD]}),f})();const si={provide:je,useExisting:(0,c.Gpc)(()=>Ji),multi:!0};let Ji=(()=>{class f extends lo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=p=>function ro(f){return"number"==typeof f?f:parseInt(f,10)}(p),this.createValidator=p=>function $t(f){return v=>function Re(f){return null!=f&&"number"==typeof f.length}(v.value)&&v.value.length>f?{maxlength:{requiredLength:f,actualLength:v.value.length}}:null}(p)}}return f.\u0275fac=function(){let v;return function(x){return(v||(v=c.n5z(f)))(x||f)}}(),f.\u0275dir=c.lG2({type:f,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(p,x){2&p&&c.uIk("maxlength",x._enabled?x.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([si]),c.qOj]}),f})(),Ro=(()=>{class f{}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=c.oAB({type:f}),f.\u0275inj=c.cJS({imports:[ni]}),f})(),w=(()=>{class f{static withConfig(p){var x;return{ngModule:f,providers:[{provide:gt,useValue:null!==(x=p.callSetDisabledState)&&void 0!==x?x:Ge}]}}}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=c.oAB({type:f}),f.\u0275inj=c.cJS({imports:[Ro]}),f})(),ie=(()=>{class f{static withConfig(p){var x,fe;return{ngModule:f,providers:[{provide:Pr,useValue:null!==(x=p.warnOnNgModelWithFormControl)&&void 0!==x?x:"always"},{provide:gt,useValue:null!==(fe=p.callSetDisabledState)&&void 0!==fe?fe:Ge}]}}}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=c.oAB({type:f}),f.\u0275inj=c.cJS({imports:[Ro]}),f})()},6593:(lt,rt,C)=>{"use strict";C.d(rt,{Dx:()=>Sn,b2:()=>vn,q6:()=>Pt,se:()=>Ee});var c=C(6689),d=C(6814);class Y extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class U extends Y{static makeCurrent(){(0,d.HT)(new U)}onAndCancel(de,ve,Ce){return de.addEventListener(ve,Ce),()=>{de.removeEventListener(ve,Ce)}}dispatchEvent(de,ve){de.dispatchEvent(ve)}remove(de){de.parentNode&&de.parentNode.removeChild(de)}createElement(de,ve){return(ve=ve||this.getDefaultDocument()).createElement(de)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(de){return de.nodeType===Node.ELEMENT_NODE}isShadowRoot(de){return de instanceof DocumentFragment}getGlobalEventTarget(de,ve){return"window"===ve?window:"document"===ve?de:"body"===ve?de.body:null}getBaseHref(de){const ve=function V(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==ve?null:function N(he){O=O||document.createElement("a"),O.setAttribute("href",he);const de=O.pathname;return"/"===de.charAt(0)?de:`/${de}`}(ve)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(de){return(0,d.Mx)(document.cookie,de)}}let O,W=null,_=(()=>{class he{build(){return new XMLHttpRequest}}return he.\u0275fac=function(ve){return new(ve||he)},he.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac}),he})();const A=new c.OlP("EventManagerPlugins");let S=(()=>{class he{constructor(ve,Ce){this._zone=Ce,this._eventNameToPlugin=new Map,ve.forEach(pt=>{pt.manager=this}),this._plugins=ve.slice().reverse()}addEventListener(ve,Ce,pt){return this._findPluginFor(Ce).addEventListener(ve,Ce,pt)}getZone(){return this._zone}_findPluginFor(ve){let Ce=this._eventNameToPlugin.get(ve);if(Ce)return Ce;if(Ce=this._plugins.find(Ot=>Ot.supports(ve)),!Ce)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(ve,Ce),Ce}}return he.\u0275fac=function(ve){return new(ve||he)(c.LFG(A),c.LFG(c.R0b))},he.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac}),he})();class P{constructor(de){this._doc=de}}const H="ng-app-id";let X=(()=>{class he{constructor(ve,Ce,pt,Ot={}){this.doc=ve,this.appId=Ce,this.nonce=pt,this.platformId=Ot,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.PM)(Ot),this.resetHostNodes()}addStyles(ve){for(const Ce of ve)1===this.changeUsageCount(Ce,1)&&this.onStyleAdded(Ce)}removeStyles(ve){for(const Ce of ve)this.changeUsageCount(Ce,-1)<=0&&this.onStyleRemoved(Ce)}ngOnDestroy(){const ve=this.styleNodesInDOM;ve&&(ve.forEach(Ce=>Ce.remove()),ve.clear());for(const Ce of this.getAllStyles())this.onStyleRemoved(Ce);this.resetHostNodes()}addHost(ve){this.hostNodes.add(ve);for(const Ce of this.getAllStyles())this.addStyleToHost(ve,Ce)}removeHost(ve){this.hostNodes.delete(ve)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ve){for(const Ce of this.hostNodes)this.addStyleToHost(Ce,ve)}onStyleRemoved(ve){var Ce;const pt=this.styleRef;null===(Ce=pt.get(ve))||void 0===Ce||null===(Ce=Ce.elements)||void 0===Ce||Ce.forEach(Ot=>Ot.remove()),pt.delete(ve)}collectServerRenderedStyles(){var ve;const Ce=null===(ve=this.doc.head)||void 0===ve?void 0:ve.querySelectorAll(`style[${H}="${this.appId}"]`);if(null!=Ce&&Ce.length){const pt=new Map;return Ce.forEach(Ot=>{null!=Ot.textContent&&pt.set(Ot.textContent,Ot)}),pt}return null}changeUsageCount(ve,Ce){const pt=this.styleRef;if(pt.has(ve)){const Ot=pt.get(ve);return Ot.usage+=Ce,Ot.usage}return pt.set(ve,{usage:Ce,elements:[]}),Ce}getStyleElement(ve,Ce){const pt=this.styleNodesInDOM,Ot=null==pt?void 0:pt.get(Ce);if((null==Ot?void 0:Ot.parentNode)===ve)return pt.delete(Ce),Ot.removeAttribute(H),Ot;{const tt=this.doc.createElement("style");return this.nonce&&tt.setAttribute("nonce",this.nonce),tt.textContent=Ce,this.platformIsServer&&tt.setAttribute(H,this.appId),tt}}addStyleToHost(ve,Ce){var pt;const Ot=this.getStyleElement(ve,Ce);ve.appendChild(Ot);const tt=this.styleRef,_t=null===(pt=tt.get(Ce))||void 0===pt?void 0:pt.elements;_t?_t.push(Ot):tt.set(Ce,{elements:[Ot],usage:1})}resetHostNodes(){const ve=this.hostNodes;ve.clear(),ve.add(this.doc.head)}}return he.\u0275fac=function(ve){return new(ve||he)(c.LFG(d.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},he.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac}),he})();const be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pe=/%COMP%/g,ye=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ae(he,de){return de.map(ve=>ve.replace(pe,he))}let Ee=(()=>{class he{constructor(ve,Ce,pt,Ot,tt,_t,kt,Jt=null){this.eventManager=ve,this.sharedStylesHost=Ce,this.appId=pt,this.removeStylesOnCompDestroy=Ot,this.doc=tt,this.platformId=_t,this.ngZone=kt,this.nonce=Jt,this.rendererByCompId=new Map,this.platformIsServer=(0,d.PM)(_t),this.defaultRenderer=new st(ve,tt,kt,this.platformIsServer)}createRenderer(ve,Ce){if(!ve||!Ce)return this.defaultRenderer;this.platformIsServer&&Ce.encapsulation===c.ifc.ShadowDom&&(Ce={...Ce,encapsulation:c.ifc.Emulated});const pt=this.getOrCreateRenderer(ve,Ce);return pt instanceof ut?pt.applyToHost(ve):pt instanceof Je&&pt.applyStyles(),pt}getOrCreateRenderer(ve,Ce){const pt=this.rendererByCompId;let Ot=pt.get(Ce.id);if(!Ot){const tt=this.doc,_t=this.ngZone,kt=this.eventManager,Jt=this.sharedStylesHost,Zt=this.removeStylesOnCompDestroy,bn=this.platformIsServer;switch(Ce.encapsulation){case c.ifc.Emulated:Ot=new ut(kt,Jt,Ce,this.appId,Zt,tt,_t,bn);break;case c.ifc.ShadowDom:return new Pe(kt,Jt,ve,Ce,tt,_t,this.nonce,bn);default:Ot=new Je(kt,Jt,Ce,Zt,tt,_t,bn)}Ot.onDestroy=()=>pt.delete(Ce.id),pt.set(Ce.id,Ot)}return Ot}ngOnDestroy(){this.rendererByCompId.clear()}}return he.\u0275fac=function(ve){return new(ve||he)(c.LFG(S),c.LFG(X),c.LFG(c.AFp),c.LFG(ye),c.LFG(d.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},he.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac}),he})();class st{constructor(de,ve,Ce,pt){this.eventManager=de,this.doc=ve,this.ngZone=Ce,this.platformIsServer=pt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(de,ve){return ve?this.doc.createElementNS(be[ve]||ve,de):this.doc.createElement(de)}createComment(de){return this.doc.createComment(de)}createText(de){return this.doc.createTextNode(de)}appendChild(de,ve){(Ie(de)?de.content:de).appendChild(ve)}insertBefore(de,ve,Ce){de&&(Ie(de)?de.content:de).insertBefore(ve,Ce)}removeChild(de,ve){de&&de.removeChild(ve)}selectRootElement(de,ve){let Ce="string"==typeof de?this.doc.querySelector(de):de;if(!Ce)throw new c.vHH(-5104,!1);return ve||(Ce.textContent=""),Ce}parentNode(de){return de.parentNode}nextSibling(de){return de.nextSibling}setAttribute(de,ve,Ce,pt){if(pt){ve=pt+":"+ve;const Ot=be[pt];Ot?de.setAttributeNS(Ot,ve,Ce):de.setAttribute(ve,Ce)}else de.setAttribute(ve,Ce)}removeAttribute(de,ve,Ce){if(Ce){const pt=be[Ce];pt?de.removeAttributeNS(pt,ve):de.removeAttribute(`${Ce}:${ve}`)}else de.removeAttribute(ve)}addClass(de,ve){de.classList.add(ve)}removeClass(de,ve){de.classList.remove(ve)}setStyle(de,ve,Ce,pt){pt&(c.JOm.DashCase|c.JOm.Important)?de.style.setProperty(ve,Ce,pt&c.JOm.Important?"important":""):de.style[ve]=Ce}removeStyle(de,ve,Ce){Ce&c.JOm.DashCase?de.style.removeProperty(ve):de.style[ve]=""}setProperty(de,ve,Ce){de[ve]=Ce}setValue(de,ve){de.nodeValue=ve}listen(de,ve,Ce){if("string"==typeof de&&!(de=(0,d.q)().getGlobalEventTarget(this.doc,de)))throw new Error(`Unsupported event target ${de} for event ${ve}`);return this.eventManager.addEventListener(de,ve,this.decoratePreventDefault(Ce))}decoratePreventDefault(de){return ve=>{if("__ngUnwrap__"===ve)return de;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>de(ve)):de(ve))&&ve.preventDefault()}}}function Ie(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class Pe extends st{constructor(de,ve,Ce,pt,Ot,tt,_t,kt){super(de,Ot,tt,kt),this.sharedStylesHost=ve,this.hostEl=Ce,this.shadowRoot=Ce.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jt=Ae(pt.id,pt.styles);for(const Zt of Jt){const bn=document.createElement("style");_t&&bn.setAttribute("nonce",_t),bn.textContent=Zt,this.shadowRoot.appendChild(bn)}}nodeOrShadowRoot(de){return de===this.hostEl?this.shadowRoot:de}appendChild(de,ve){return super.appendChild(this.nodeOrShadowRoot(de),ve)}insertBefore(de,ve,Ce){return super.insertBefore(this.nodeOrShadowRoot(de),ve,Ce)}removeChild(de,ve){return super.removeChild(this.nodeOrShadowRoot(de),ve)}parentNode(de){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(de)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Je extends st{constructor(de,ve,Ce,pt,Ot,tt,_t,kt){super(de,Ot,tt,_t),this.sharedStylesHost=ve,this.removeStylesOnCompDestroy=pt,this.rendererUsageCount=0,this.styles=kt?Ae(kt,Ce.styles):Ce.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var de;this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(de=this.onDestroy)||void 0===de||de.call(this))}}class ut extends Je{constructor(de,ve,Ce,pt,Ot,tt,_t,kt){const Jt=pt+"-"+Ce.id;super(de,ve,Ce,Ot,tt,_t,kt,Jt),this.contentAttr=function Re(he){return"_ngcontent-%COMP%".replace(pe,he)}(Jt),this.hostAttr=function je(he){return"_nghost-%COMP%".replace(pe,he)}(Jt)}applyToHost(de){this.applyStyles(),this.setAttribute(de,this.hostAttr,"")}createElement(de,ve){const Ce=super.createElement(de,ve);return super.setAttribute(Ce,this.contentAttr,""),Ce}}let $t=(()=>{class he extends P{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,Ce,pt){return ve.addEventListener(Ce,pt,!1),()=>this.removeEventListener(ve,Ce,pt)}removeEventListener(ve,Ce,pt){return ve.removeEventListener(Ce,pt)}}return he.\u0275fac=function(ve){return new(ve||he)(c.LFG(d.K0))},he.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac}),he})();const mt=["alt","control","meta","shift"],De={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Le={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let He=(()=>{class he extends P{constructor(ve){super(ve)}supports(ve){return null!=he.parseEventName(ve)}addEventListener(ve,Ce,pt){const Ot=he.parseEventName(Ce),tt=he.eventCallback(Ot.fullKey,pt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(ve,Ot.domEventName,tt))}static parseEventName(ve){const Ce=ve.toLowerCase().split("."),pt=Ce.shift();if(0===Ce.length||"keydown"!==pt&&"keyup"!==pt)return null;const Ot=he._normalizeKey(Ce.pop());let tt="",_t=Ce.indexOf("code");if(_t>-1&&(Ce.splice(_t,1),tt="code."),mt.forEach(Jt=>{const Zt=Ce.indexOf(Jt);Zt>-1&&(Ce.splice(Zt,1),tt+=Jt+".")}),tt+=Ot,0!=Ce.length||0===Ot.length)return null;const kt={};return kt.domEventName=pt,kt.fullKey=tt,kt}static matchEventFullKeyCode(ve,Ce){let pt=De[ve.key]||ve.key,Ot="";return Ce.indexOf("code.")>-1&&(pt=ve.code,Ot="code."),!(null==pt||!pt)&&(pt=pt.toLowerCase()," "===pt?pt="space":"."===pt&&(pt="dot"),mt.forEach(tt=>{tt!==pt&&(0,Le[tt])(ve)&&(Ot+=tt+".")}),Ot+=pt,Ot===Ce)}static eventCallback(ve,Ce,pt){return Ot=>{he.matchEventFullKeyCode(Ot,ve)&&pt.runGuarded(()=>Ce(Ot))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return he.\u0275fac=function(ve){return new(ve||he)(c.LFG(d.K0))},he.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac}),he})();const Pt=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:d.bD},{provide:c.g9A,useValue:function Qt(){U.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function Rt(){return(0,c.RDi)(document),document},deps:[]}]),Wt=new c.OlP(""),an=[{provide:c.rWj,useClass:class M{addToWindow(de){c.dqk.getAngularTestability=(Ce,pt=!0)=>{const Ot=de.findTestabilityInTree(Ce,pt);if(null==Ot)throw new c.vHH(5103,!1);return Ot},c.dqk.getAllAngularTestabilities=()=>de.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>de.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(Ce=>{const pt=c.dqk.getAllAngularTestabilities();let Ot=pt.length,tt=!1;const _t=function(kt){tt=tt||kt,Ot--,0==Ot&&Ce(tt)};pt.forEach(kt=>{kt.whenStable(_t)})})}findTestabilityInTree(de,ve,Ce){if(null==ve)return null;const pt=de.getTestability(ve);return null!=pt?pt:Ce?(0,d.q)().isShadowRoot(ve)?this.findTestabilityInTree(de,ve.host,!0):this.findTestabilityInTree(de,ve.parentElement,!0):null}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],In=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ht(){return new c.qLn},deps:[]},{provide:A,useClass:$t,multi:!0,deps:[d.K0,c.R0b,c.Lbi]},{provide:A,useClass:He,multi:!0,deps:[d.K0]},Ee,X,S,{provide:c.FYo,useExisting:Ee},{provide:d.JF,useClass:_,deps:[]},[]];let vn=(()=>{class he{constructor(ve){}static withServerTransition(ve){return{ngModule:he,providers:[{provide:c.AFp,useValue:ve.appId}]}}}return he.\u0275fac=function(ve){return new(ve||he)(c.LFG(Wt,12))},he.\u0275mod=c.oAB({type:he}),he.\u0275inj=c.cJS({providers:[...In,...an],imports:[d.ez,c.hGG]}),he})(),Sn=(()=>{class he{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return he.\u0275fac=function(ve){return new(ve||he)(c.LFG(d.K0))},he.\u0275prov=c.Yz7({token:he,factory:function(ve){let Ce=null;return Ce=ve?new ve:function Ln(){return new Sn((0,c.LFG)(d.K0))}(),Ce},providedIn:"root"}),he})();typeof window<"u"&&window},2607:(lt,rt,C)=>{"use strict";C.d(rt,{gz:()=>Kr,jw:()=>Mr,y6:()=>ni,OD:()=>q,eC:()=>Tt,wm:()=>Ol,wN:()=>js,F0:()=>Eo,rH:()=>Pa,Bz:()=>ia,Hx:()=>et,fw:()=>hr});var c=C(6689),d=C(5592),Y=C(4674),W=C(2459),V=C(2096),O=C(5619),N=C(7453),M=C(2737),_=C(7400),A=C(4564),S=C(2714),P=C(8251),H=C(7103);function X(...R){const L=(0,A.yG)(R),D=(0,A.jO)(R),{args:j,keys:re}=(0,N.D)(R);if(0===j.length)return(0,W.D)([],L);const Fe=new d.y(function be(R,L,D=M.y){return j=>{pe(L,()=>{const{length:re}=R,Fe=new Array(re);let xe=re,ct=re;for(let qt=0;qt<re;qt++)pe(L,()=>{const xn=(0,W.D)(R[qt],L);let mr=!1;xn.subscribe((0,P.x)(j,rr=>{Fe[qt]=rr,mr||(mr=!0,ct--),ct||j.next(D(Fe.slice()))},()=>{--xe||j.complete()}))},j)},j)}}(j,L,re?xe=>(0,S.n)(re,xe):M.y));return D?Fe.pipe((0,_.Z)(D)):Fe}function pe(R,L,D){R?(0,H.f)(D,R,L):L()}var se=C(6973),Me=C(5211),we=C(4829);function ne(R){return new d.y(L=>{(0,we.Xf)(R()).subscribe(L)})}var ye=C(8407);function Re(R,L){const D=(0,Y.m)(R)?R:()=>R,j=re=>re.error(D());return new d.y(L?re=>L.schedule(j,0,re):j)}var je=C(6232),Ae=C(7394),Ee=C(9360);function st(){return(0,Ee.e)((R,L)=>{let D=null;R._refCount++;const j=(0,P.x)(L,void 0,void 0,void 0,()=>{if(!R||R._refCount<=0||0<--R._refCount)return void(D=null);const re=R._connection,Fe=D;D=null,re&&(!Fe||re===Fe)&&re.unsubscribe(),L.unsubscribe()});R.subscribe(j),j.closed||(D=R.connect())})}class it extends d.y{constructor(L,D){super(),this.source=L,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,Ee.A)(L)&&(this.lift=L.lift)}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:L}=this;this._subject=this._connection=null,null==L||L.unsubscribe()}connect(){let L=this._connection;if(!L){L=this._connection=new Ae.w0;const D=this.getSubject();L.add(this.source.subscribe((0,P.x)(D,void 0,()=>{this._teardown(),D.complete()},j=>{this._teardown(),D.error(j)},()=>this._teardown()))),L.closed&&(this._connection=null,L=Ae.w0.EMPTY)}return L}refCount(){return st()(this)}}var Ue=C(8645),Ie=C(6814),Pe=C(7398),Je=C(4664),ut=C(8180),$t=C(7921),mt=C(2181),De=C(1631);function Le(R){return(0,Ee.e)((L,D)=>{let j=!1;L.subscribe((0,P.x)(D,re=>{j=!0,D.next(re)},()=>{j||D.next(R),D.complete()}))})}function He(R=Xe){return(0,Ee.e)((L,D)=>{let j=!1;L.subscribe((0,P.x)(D,re=>{j=!0,D.next(re)},()=>j?D.complete():D.error(R())))})}function Xe(){return new se.K}function dt(R,L){const D=arguments.length>=2;return j=>j.pipe(R?(0,mt.h)((re,Fe)=>R(re,Fe,j)):M.y,(0,ut.q)(1),D?Le(L):He(()=>new se.K))}var St=C(6328),zt=C(9397),Qt=C(6306);function Ct(R){return R<=0?()=>je.E:(0,Ee.e)((L,D)=>{let j=[];L.subscribe((0,P.x)(D,re=>{j.push(re),R<j.length&&j.shift()},()=>{for(const re of j)D.next(re);D.complete()},void 0,()=>{j=null}))})}var an=C(4716),In=C(7537),vn=C(6593);const Tt="primary",gn=Symbol("RouteTitle");class or{constructor(L){this.params=L||{}}has(L){return Object.prototype.hasOwnProperty.call(this.params,L)}get(L){if(this.has(L)){const D=this.params[L];return Array.isArray(D)?D[0]:D}return null}getAll(L){if(this.has(L)){const D=this.params[L];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Ln(R){return new or(R)}function Sn(R,L,D){const j=D.path.split("/");if(j.length>R.length||"full"===D.pathMatch&&(L.hasChildren()||j.length<R.length))return null;const re={};for(let Fe=0;Fe<j.length;Fe++){const xe=j[Fe],ct=R[Fe];if(xe.startsWith(":"))re[xe.substring(1)]=ct;else if(xe!==ct.path)return null}return{consumed:R.slice(0,j.length),posParams:re}}function Gn(R,L){const D=R?Object.keys(R):void 0,j=L?Object.keys(L):void 0;if(!D||!j||D.length!=j.length)return!1;let re;for(let Fe=0;Fe<D.length;Fe++)if(re=D[Fe],!tr(R[re],L[re]))return!1;return!0}function tr(R,L){if(Array.isArray(R)&&Array.isArray(L)){if(R.length!==L.length)return!1;const D=[...R].sort(),j=[...L].sort();return D.every((re,Fe)=>j[Fe]===re)}return R===L}function fn(R){return R.length>0?R[R.length-1]:null}function mn(R){return function U(R){return!!R&&(R instanceof d.y||(0,Y.m)(R.lift)&&(0,Y.m)(R.subscribe))}(R)?R:(0,c.QGY)(R)?(0,W.D)(Promise.resolve(R)):(0,V.of)(R)}const _r={exact:function Ft(R,L,D){if(!Tn(R.segments,L.segments)||!Rn(R.segments,L.segments,D)||R.numberOfChildren!==L.numberOfChildren)return!1;for(const j in L.children)if(!R.children[j]||!Ft(R.children[j],L.children[j],D))return!1;return!0},subset:on},pr={exact:function Yn(R,L){return Gn(R,L)},subset:function sr(R,L){return Object.keys(L).length<=Object.keys(R).length&&Object.keys(L).every(D=>tr(R[D],L[D]))},ignored:()=>!0};function An(R,L,D){return _r[D.paths](R.root,L.root,D.matrixParams)&&pr[D.queryParams](R.queryParams,L.queryParams)&&!("exact"===D.fragment&&R.fragment!==L.fragment)}function on(R,L,D){return Tr(R,L,L.segments,D)}function Tr(R,L,D,j){if(R.segments.length>D.length){const re=R.segments.slice(0,D.length);return!(!Tn(re,D)||L.hasChildren()||!Rn(re,D,j))}if(R.segments.length===D.length){if(!Tn(R.segments,D)||!Rn(R.segments,D,j))return!1;for(const re in L.children)if(!R.children[re]||!on(R.children[re],L.children[re],j))return!1;return!0}{const re=D.slice(0,R.segments.length),Fe=D.slice(R.segments.length);return!!(Tn(R.segments,re)&&Rn(R.segments,re,j)&&R.children[Tt])&&Tr(R.children[Tt],L,Fe,j)}}function Rn(R,L,D){return L.every((j,re)=>pr[D](R[re].parameters,j.parameters))}class Mn{constructor(L=new jn([],{}),D={},j=null){this.root=L,this.queryParams=D,this.fragment=j}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ln(this.queryParams)),this._queryParamMap}toString(){return bt.serialize(this)}}class jn{constructor(L,D){this.segments=L,this.children=D,this.parent=null,Object.values(D).forEach(j=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gt(this)}}class zr{constructor(L,D){this.path=L,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Ln(this.parameters)),this._parameterMap}toString(){return pt(this)}}function Tn(R,L){return R.length===L.length&&R.every((D,j)=>D.path===L[j].path)}let et=(()=>{class R{}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:function(){return new Nt},providedIn:"root"}),R})();class Nt{parse(L){const D=new Ve(L);return new Mn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(L){const D=`/${Yt(L.root,!0)}`,j=function tt(R){const L=Object.keys(R).map(D=>{const j=R[D];return Array.isArray(j)?j.map(re=>`${Be(D)}=${Be(re)}`).join("&"):`${Be(D)}=${Be(j)}`}).filter(D=>!!D);return L.length?`?${L.join("&")}`:""}(L.queryParams);return`${D}${j}${"string"==typeof L.fragment?`#${function he(R){return encodeURI(R)}(L.fragment)}`:""}`}}const bt=new Nt;function Gt(R){return R.segments.map(L=>pt(L)).join("/")}function Yt(R,L){if(!R.hasChildren())return Gt(R);if(L){const D=R.children[Tt]?Yt(R.children[Tt],!1):"",j=[];return Object.entries(R.children).forEach(([re,Fe])=>{re!==Tt&&j.push(`${re}:${Yt(Fe,!1)}`)}),j.length>0?`${D}(${j.join("//")})`:D}{const D=function We(R,L){let D=[];return Object.entries(R.children).forEach(([j,re])=>{j===Tt&&(D=D.concat(L(re,j)))}),Object.entries(R.children).forEach(([j,re])=>{j!==Tt&&(D=D.concat(L(re,j)))}),D}(R,(j,re)=>re===Tt?[Yt(R.children[Tt],!1)]:[`${re}:${Yt(j,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[Tt]?`${Gt(R)}/${D[0]}`:`${Gt(R)}/(${D.join("//")})`}}function nn(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Be(R){return nn(R).replace(/%3B/gi,";")}function de(R){return nn(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ve(R){return decodeURIComponent(R)}function Ce(R){return ve(R.replace(/\+/g,"%20"))}function pt(R){return`${de(R.path)}${function Ot(R){return Object.keys(R).map(L=>`;${de(L)}=${de(R[L])}`).join("")}(R.parameters)}`}const _t=/^[^\/()?;#]+/;function kt(R){const L=R.match(_t);return L?L[0]:""}const Jt=/^[^\/()?;=#]+/,bn=/^[^=?&#]+/,Ge=/^[^&#]+/;class Ve{constructor(L){this.url=L,this.remaining=L}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jn([],{}):new jn([],this.parseChildren())}parseQueryParams(){const L={};if(this.consumeOptional("?"))do{this.parseQueryParam(L)}while(this.consumeOptional("&"));return L}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const L=[];for(this.peekStartsWith("(")||L.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),L.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(L.length>0||Object.keys(D).length>0)&&(j[Tt]=new jn(L,D)),j}parseSegment(){const L=kt(this.remaining);if(""===L&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(L),new zr(ve(L),this.parseMatrixParams())}parseMatrixParams(){const L={};for(;this.consumeOptional(";");)this.parseParam(L);return L}parseParam(L){const D=function Zt(R){const L=R.match(Jt);return L?L[0]:""}(this.remaining);if(!D)return;this.capture(D);let j="";if(this.consumeOptional("=")){const re=kt(this.remaining);re&&(j=re,this.capture(j))}L[ve(D)]=ve(j)}parseQueryParam(L){const D=function gt(R){const L=R.match(bn);return L?L[0]:""}(this.remaining);if(!D)return;this.capture(D);let j="";if(this.consumeOptional("=")){const xe=function qe(R){const L=R.match(Ge);return L?L[0]:""}(this.remaining);xe&&(j=xe,this.capture(j))}const re=Ce(D),Fe=Ce(j);if(L.hasOwnProperty(re)){let xe=L[re];Array.isArray(xe)||(xe=[xe],L[re]=xe),xe.push(Fe)}else L[re]=Fe}parseParens(L){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=kt(this.remaining),re=this.remaining[j.length];if("/"!==re&&")"!==re&&";"!==re)throw new c.vHH(4010,!1);let Fe;j.indexOf(":")>-1?(Fe=j.slice(0,j.indexOf(":")),this.capture(Fe),this.capture(":")):L&&(Fe=Tt);const xe=this.parseChildren();D[Fe]=1===Object.keys(xe).length?xe[Tt]:new jn([],xe),this.consumeOptional("//")}return D}peekStartsWith(L){return this.remaining.startsWith(L)}consumeOptional(L){return!!this.peekStartsWith(L)&&(this.remaining=this.remaining.substring(L.length),!0)}capture(L){if(!this.consumeOptional(L))throw new c.vHH(4011,!1)}}function Ye(R){return R.segments.length>0?new jn([],{[Tt]:R}):R}function ft(R){const L={};for(const j of Object.keys(R.children)){const Fe=ft(R.children[j]);if(j===Tt&&0===Fe.segments.length&&Fe.hasChildren())for(const[xe,ct]of Object.entries(Fe.children))L[xe]=ct;else(Fe.segments.length>0||Fe.hasChildren())&&(L[j]=Fe)}return function Et(R){if(1===R.numberOfChildren&&R.children[Tt]){const L=R.children[Tt];return new jn(R.segments.concat(L.segments),L.children)}return R}(new jn(R.segments,L))}function ln(R){return R instanceof Mn}function On(R){var L;let D;const Fe=Ye(function j(xe){const ct={};for(const xn of xe.children){const mr=j(xn);ct[xn.outlet]=mr}const qt=new jn(xe.url,ct);return xe===R&&(D=qt),qt}(R.root));return null!==(L=D)&&void 0!==L?L:Fe}function Dr(R,L,D,j){let re=R;for(;re.parent;)re=re.parent;if(0===L.length)return yr(re,re,re,D,j);const Fe=function Fr(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new dr(!0,0,R);let L=0,D=!1;const j=R.reduce((re,Fe,xe)=>{if("object"==typeof Fe&&null!=Fe){if(Fe.outlets){const ct={};return Object.entries(Fe.outlets).forEach(([qt,xn])=>{ct[qt]="string"==typeof xn?xn.split("/"):xn}),[...re,{outlets:ct}]}if(Fe.segmentPath)return[...re,Fe.segmentPath]}return"string"!=typeof Fe?[...re,Fe]:0===xe?(Fe.split("/").forEach((ct,qt)=>{0==qt&&"."===ct||(0==qt&&""===ct?D=!0:".."===ct?L++:""!=ct&&re.push(ct))}),re):[...re,Fe]},[]);return new dr(D,L,j)}(L);if(Fe.toRoot())return yr(re,re,new jn([],{}),D,j);const xe=function bi(R,L,D){if(R.isAbsolute)return new Ur(L,!0,0);if(!D)return new Ur(L,!1,NaN);if(null===D.parent)return new Ur(D,!0,0);const j=Zn(R.commands[0])?0:1;return function Qr(R,L,D){let j=R,re=L,Fe=D;for(;Fe>re;){if(Fe-=re,j=j.parent,!j)throw new c.vHH(4005,!1);re=j.segments.length}return new Ur(j,!1,re-Fe)}(D,D.segments.length-1+j,R.numberOfDoubleDots)}(Fe,re,R),ct=xe.processChildren?li(xe.segmentGroup,xe.index,Fe.commands):Wr(xe.segmentGroup,xe.index,Fe.commands);return yr(re,xe.segmentGroup,ct,D,j)}function Zn(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function nr(R){return"object"==typeof R&&null!=R&&R.outlets}function yr(R,L,D,j,re){let xe,Fe={};j&&Object.entries(j).forEach(([qt,xn])=>{Fe[qt]=Array.isArray(xn)?xn.map(mr=>`${mr}`):`${xn}`}),xe=R===L?D:Kn(R,L,D);const ct=Ye(ft(xe));return new Mn(ct,Fe,re)}function Kn(R,L,D){const j={};return Object.entries(R.children).forEach(([re,Fe])=>{j[re]=Fe===L?D:Kn(Fe,L,D)}),new jn(R.segments,j)}class dr{constructor(L,D,j){if(this.isAbsolute=L,this.numberOfDoubleDots=D,this.commands=j,L&&j.length>0&&Zn(j[0]))throw new c.vHH(4003,!1);const re=j.find(nr);if(re&&re!==fn(j))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(L,D,j){this.segmentGroup=L,this.processChildren=D,this.index=j}}function Wr(R,L,D){if(R||(R=new jn([],{})),0===R.segments.length&&R.hasChildren())return li(R,L,D);const j=function wi(R,L,D){let j=0,re=L;const Fe={match:!1,pathIndex:0,commandIndex:0};for(;re<R.segments.length;){if(j>=D.length)return Fe;const xe=R.segments[re],ct=D[j];if(nr(ct))break;const qt=`${ct}`,xn=j<D.length-1?D[j+1]:null;if(re>0&&void 0===qt)break;if(qt&&xn&&"object"==typeof xn&&void 0===xn.outlets){if(!Q(qt,xn,xe))return Fe;j+=2}else{if(!Q(qt,{},xe))return Fe;j++}re++}return{match:!0,pathIndex:re,commandIndex:j}}(R,L,D),re=D.slice(j.commandIndex);if(j.match&&j.pathIndex<R.segments.length){const Fe=new jn(R.segments.slice(0,j.pathIndex),{});return Fe.children[Tt]=new jn(R.segments.slice(j.pathIndex),R.children),li(Fe,0,re)}return j.match&&0===re.length?new jn(R.segments,{}):j.match&&!R.hasChildren()?Ci(R,L,D):j.match?li(R,0,re):Ci(R,L,D)}function li(R,L,D){if(0===D.length)return new jn(R.segments,{});{const j=function mi(R){return nr(R[0])?R[0].outlets:{[Tt]:R}}(D),re={};if(!j[Tt]&&R.children[Tt]&&1===R.numberOfChildren&&0===R.children[Tt].segments.length){const Fe=li(R.children[Tt],L,D);return new jn(R.segments,Fe.children)}return Object.entries(j).forEach(([Fe,xe])=>{"string"==typeof xe&&(xe=[xe]),null!==xe&&(re[Fe]=Wr(R.children[Fe],L,xe))}),Object.entries(R.children).forEach(([Fe,xe])=>{void 0===j[Fe]&&(re[Fe]=xe)}),new jn(R.segments,re)}}function Ci(R,L,D){const j=R.segments.slice(0,L);let re=0;for(;re<D.length;){const Fe=D[re];if(nr(Fe)){const qt=ci(Fe.outlets);return new jn(j,qt)}if(0===re&&Zn(D[0])){j.push(new zr(R.segments[L].path,yt(D[0]))),re++;continue}const xe=nr(Fe)?Fe.outlets[Tt]:`${Fe}`,ct=re<D.length-1?D[re+1]:null;xe&&ct&&Zn(ct)?(j.push(new zr(xe,yt(ct))),re+=2):(j.push(new zr(xe,{})),re++)}return new jn(j,{})}function ci(R){const L={};return Object.entries(R).forEach(([D,j])=>{"string"==typeof j&&(j=[j]),null!==j&&(L[D]=Ci(new jn([],{}),0,j))}),L}function yt(R){const L={};return Object.entries(R).forEach(([D,j])=>L[D]=`${j}`),L}function Q(R,L,D){return R==D.path&&Gn(L,D.parameters)}const ue="imperative";class ae{constructor(L,D){this.id=L,this.url=D}}class q extends ae{constructor(L,D,j="imperative",re=null){super(L,D),this.type=0,this.navigationTrigger=j,this.restoredState=re}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ge extends ae{constructor(L,D,j){super(L,D),this.urlAfterRedirects=j,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oe extends ae{constructor(L,D,j,re){super(L,D),this.reason=j,this.code=re,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nt extends ae{constructor(L,D,j,re){super(L,D),this.reason=j,this.code=re,this.type=16}}class vt extends ae{constructor(L,D,j,re){super(L,D),this.error=j,this.target=re,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xt extends ae{constructor(L,D,j,re){super(L,D),this.urlAfterRedirects=j,this.state=re,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lt extends ae{constructor(L,D,j,re){super(L,D),this.urlAfterRedirects=j,this.state=re,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cn extends ae{constructor(L,D,j,re,Fe){super(L,D),this.urlAfterRedirects=j,this.state=re,this.shouldActivate=Fe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pn extends ae{constructor(L,D,j,re){super(L,D),this.urlAfterRedirects=j,this.state=re,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends ae{constructor(L,D,j,re){super(L,D),this.urlAfterRedirects=j,this.state=re,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or{constructor(L){this.route=L,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bi{constructor(L){this.route=L,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ui{constructor(L){this.snapshot=L,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(L){this.snapshot=L,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(L){this.snapshot=L,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(L){this.snapshot=L,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(L,D,j){this.routerEvent=L,this.position=D,this.anchor=j,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Uo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ni,this.attachRef=null}}let ni=(()=>{class R{constructor(){this.contexts=new Map}onChildOutletCreated(D,j){const re=this.getOrCreateContext(D);re.outlet=j,this.contexts.set(D,re)}onChildOutletDestroyed(D){const j=this.getContext(D);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let j=this.getContext(D);return j||(j=new Uo,this.contexts.set(D,j)),j}getContext(D){return this.contexts.get(D)||null}}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();class to{constructor(L){this._root=L}get root(){return this._root.value}parent(L){const D=this.pathFromRoot(L);return D.length>1?D[D.length-2]:null}children(L){const D=wo(L,this._root);return D?D.children.map(j=>j.value):[]}firstChild(L){const D=wo(L,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(L){const D=no(L,this._root);return D.length<2?[]:D[D.length-2].children.map(re=>re.value).filter(re=>re!==L)}pathFromRoot(L){return no(L,this._root).map(D=>D.value)}}function wo(R,L){if(R===L.value)return L;for(const D of L.children){const j=wo(R,D);if(j)return j}return null}function no(R,L){if(R===L.value)return[L];for(const D of L.children){const j=no(R,D);if(j.length)return j.unshift(L),j}return[]}class Vi{constructor(L,D){this.value=L,this.children=D}toString(){return`TreeNode(${this.value})`}}function Pr(R){const L={};return R&&R.children.forEach(D=>L[D.value.outlet]=D),L}class Xr extends to{constructor(L,D){super(L),this.snapshot=D,_i(this,L)}toString(){return this.snapshot.toString()}}function wn(R,L){const D=function cr(R,L){const xe=new hi([],{},{},"",{},Tt,L,null,{});return new $o("",new Vi(xe,[]))}(0,L),j=new O.X([new zr("",{})]),re=new O.X({}),Fe=new O.X({}),xe=new O.X({}),ct=new O.X(""),qt=new Kr(j,re,xe,ct,Fe,Tt,L,D.root);return qt.snapshot=D.root,new Xr(new Vi(qt,[]),D)}class Kr{constructor(L,D,j,re,Fe,xe,ct,qt){var xn,mr;this.urlSubject=L,this.paramsSubject=D,this.queryParamsSubject=j,this.fragmentSubject=re,this.dataSubject=Fe,this.outlet=xe,this.component=ct,this._futureSnapshot=qt,this.title=null!==(xn=null===(mr=this.dataSubject)||void 0===mr?void 0:mr.pipe((0,Pe.U)(rr=>rr[gn])))&&void 0!==xn?xn:(0,V.of)(void 0),this.url=L,this.params=D,this.queryParams=j,this.fragment=re,this.data=Fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pe.U)(L=>Ln(L)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pe.U)(L=>Ln(L)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ki(R,L="emptyOnly"){const D=R.pathFromRoot;let j=0;if("always"!==L)for(j=D.length-1;j>=1;){const re=D[j],Fe=D[j-1];if(re.routeConfig&&""===re.routeConfig.path)j--;else{if(Fe.component)break;j--}}return function Do(R){return R.reduce((L,D)=>{var j;return{params:{...L.params,...D.params},data:{...L.data,...D.data},resolve:{...D.data,...L.resolve,...null===(j=D.routeConfig)||void 0===j?void 0:j.data,...D._resolvedData}}},{params:{},data:{},resolve:{}})}(D.slice(j))}class hi{get title(){var L;return null===(L=this.data)||void 0===L?void 0:L[gn]}constructor(L,D,j,re,Fe,xe,ct,qt,xn){this.url=L,this.params=D,this.queryParams=j,this.fragment=re,this.data=Fe,this.outlet=xe,this.component=ct,this.routeConfig=qt,this._resolve=xn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ln(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ln(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $o extends to{constructor(L,D){super(D),this.url=L,_i(this,D)}toString(){return oo(this._root)}}function _i(R,L){L.value._routerState=R,L.children.forEach(D=>_i(R,D))}function oo(R){const L=R.children.length>0?` { ${R.children.map(oo).join(", ")} } `:"";return`${R.value}${L}`}function Ai(R){if(R.snapshot){const L=R.snapshot,D=R._futureSnapshot;R.snapshot=D,Gn(L.queryParams,D.queryParams)||R.queryParamsSubject.next(D.queryParams),L.fragment!==D.fragment&&R.fragmentSubject.next(D.fragment),Gn(L.params,D.params)||R.paramsSubject.next(D.params),function vr(R,L){if(R.length!==L.length)return!1;for(let D=0;D<R.length;++D)if(!Gn(R[D],L[D]))return!1;return!0}(L.url,D.url)||R.urlSubject.next(D.url),Gn(L.data,D.data)||R.dataSubject.next(D.data)}else R.snapshot=R._futureSnapshot,R.dataSubject.next(R._futureSnapshot.data)}function er(R,L){const D=Gn(R.params,L.params)&&function Wn(R,L){return Tn(R,L)&&R.every((D,j)=>Gn(D.parameters,L[j].parameters))}(R.url,L.url);return D&&!(!R.parent!=!L.parent)&&(!R.parent||er(R.parent,L.parent))}let qi=(()=>{class R{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(ni),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Zi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:j,previousValue:re}=D.name;if(j)return;this.isTrackedInParentContexts(re)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(re)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var j;return(null===(j=this.parentContexts.getContext(D))||void 0===j?void 0:j.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,j){var re;this.activated=D,this._activatedRoute=j,this.location.insert(D.hostView),null===(re=this.inputBinder)||void 0===re||re.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,j){var re;if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=D;const Fe=this.location,ct=D.snapshot.component,qt=this.parentContexts.getOrCreateContext(this.name).children,xn=new Vo(D,qt,Fe.injector);this.activated=Fe.createComponent(ct,{index:Fe.length,injector:xn,environmentInjector:null!=j?j:this.environmentInjector}),this.changeDetector.markForCheck(),null===(re=this.inputBinder)||void 0===re||re.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(D){return new(D||R)},R.\u0275dir=c.lG2({type:R,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),R})();class Vo{constructor(L,D,j){this.route=L,this.childContexts=D,this.parent=j}get(L,D){return L===Kr?this.route:L===ni?this.childContexts:this.parent.get(L,D)}}const Zi=new c.OlP("");let yi=(()=>{class R{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var j;null===(j=this.outletDataSubscriptions.get(D))||void 0===j||j.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:j}=D,re=X([j.queryParams,j.params,j.data]).pipe((0,Je.w)(([Fe,xe,ct],qt)=>(ct={...Fe,...xe,...ct},0===qt?(0,V.of)(ct):Promise.resolve(ct)))).subscribe(Fe=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(D);const xe=(0,c.qFp)(j.component);if(xe)for(const{templateName:ct}of xe.inputs)D.activatedComponentRef.setInput(ct,Fe[ct]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,re)}}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})();function so(R,L,D){if(D&&R.shouldReuseRoute(L.value,D.value.snapshot)){const j=D.value;j._futureSnapshot=L.value;const re=function Gi(R,L,D){return L.children.map(j=>{for(const re of D.children)if(R.shouldReuseRoute(j.value,re.value.snapshot))return so(R,j,re);return so(R,j)})}(R,L,D);return new Vi(j,re)}{if(R.shouldAttach(L.value)){const Fe=R.retrieve(L.value);if(null!==Fe){const xe=Fe.route;return xe.value._futureSnapshot=L.value,xe.children=L.children.map(ct=>so(R,ct)),xe}}const j=function ss(R){return new Kr(new O.X(R.url),new O.X(R.params),new O.X(R.queryParams),new O.X(R.fragment),new O.X(R.data),R.outlet,R.component,R)}(L.value),re=L.children.map(Fe=>so(R,Fe));return new Vi(j,re)}}const ao="ngNavigationCancelingError";function mo(R,L){const{redirectTo:D,navigationBehaviorOptions:j}=ln(L)?{redirectTo:L,navigationBehaviorOptions:void 0}:L,re=ro(!1,0,L);return re.url=D,re.navigationBehaviorOptions=j,re}function ro(R,L,D){const j=new Error("NavigationCancelingError: "+(R||""));return j[ao]=!0,j.cancellationCode=L,D&&(j.url=D),j}function Yo(R){return lo(R)&&ln(R.url)}function lo(R){return R&&R[ao]}let hr=(()=>{class R{}return R.\u0275fac=function(D){return new(D||R)},R.\u0275cmp=c.Xpm({type:R,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(D,j){1&D&&c._UZ(0,"router-outlet")},dependencies:[qi],encapsulation:2}),R})();function Jr(R){const L=R.children&&R.children.map(Jr),D=L?{...R,children:L}:{...R};return!D.component&&!D.loadComponent&&(L||D.loadChildren)&&D.outlet&&D.outlet!==Tt&&(D.component=hr),D}function fi(R){return R.outlet||Tt}function Ji(R){var L;if(!R)return null;if(null!==(L=R.routeConfig)&&void 0!==L&&L._injector)return R.routeConfig._injector;for(let D=R.parent;D;D=D.parent){const j=D.routeConfig;if(null!=j&&j._loadedInjector)return j._loadedInjector;if(null!=j&&j._injector)return j._injector}return null}class _s{constructor(L,D,j,re,Fe){this.routeReuseStrategy=L,this.futureState=D,this.currState=j,this.forwardEvent=re,this.inputBindingEnabled=Fe}activate(L){const D=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,j,L),Ai(this.futureState.root),this.activateChildRoutes(D,j,L)}deactivateChildRoutes(L,D,j){const re=Pr(D);L.children.forEach(Fe=>{const xe=Fe.value.outlet;this.deactivateRoutes(Fe,re[xe],j),delete re[xe]}),Object.values(re).forEach(Fe=>{this.deactivateRouteAndItsChildren(Fe,j)})}deactivateRoutes(L,D,j){const re=L.value,Fe=D?D.value:null;if(re===Fe)if(re.component){const xe=j.getContext(re.outlet);xe&&this.deactivateChildRoutes(L,D,xe.children)}else this.deactivateChildRoutes(L,D,j);else Fe&&this.deactivateRouteAndItsChildren(D,j)}deactivateRouteAndItsChildren(L,D){L.value.component&&this.routeReuseStrategy.shouldDetach(L.value.snapshot)?this.detachAndStoreRouteSubtree(L,D):this.deactivateRouteAndOutlet(L,D)}detachAndStoreRouteSubtree(L,D){const j=D.getContext(L.value.outlet),re=j&&L.value.component?j.children:D,Fe=Pr(L);for(const xe of Object.keys(Fe))this.deactivateRouteAndItsChildren(Fe[xe],re);if(j&&j.outlet){const xe=j.outlet.detach(),ct=j.children.onOutletDeactivated();this.routeReuseStrategy.store(L.value.snapshot,{componentRef:xe,route:L,contexts:ct})}}deactivateRouteAndOutlet(L,D){const j=D.getContext(L.value.outlet),re=j&&L.value.component?j.children:D,Fe=Pr(L);for(const xe of Object.keys(Fe))this.deactivateRouteAndItsChildren(Fe[xe],re);j&&(j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated()),j.attachRef=null,j.route=null)}activateChildRoutes(L,D,j){const re=Pr(D);L.children.forEach(Fe=>{this.activateRoutes(Fe,re[Fe.value.outlet],j),this.forwardEvent(new Mr(Fe.value.snapshot))}),L.children.length&&this.forwardEvent(new Qi(L.value.snapshot))}activateRoutes(L,D,j){const re=L.value,Fe=D?D.value:null;if(Ai(re),re===Fe)if(re.component){const xe=j.getOrCreateContext(re.outlet);this.activateChildRoutes(L,D,xe.children)}else this.activateChildRoutes(L,D,j);else if(re.component){const xe=j.getOrCreateContext(re.outlet);if(this.routeReuseStrategy.shouldAttach(re.snapshot)){const ct=this.routeReuseStrategy.retrieve(re.snapshot);this.routeReuseStrategy.store(re.snapshot,null),xe.children.onOutletReAttached(ct.contexts),xe.attachRef=ct.componentRef,xe.route=ct.route.value,xe.outlet&&xe.outlet.attach(ct.componentRef,ct.route.value),Ai(ct.route.value),this.activateChildRoutes(L,null,xe.children)}else{const ct=Ji(re.snapshot);xe.attachRef=null,xe.route=re,xe.injector=ct,xe.outlet&&xe.outlet.activateWith(re,xe.injector),this.activateChildRoutes(L,null,xe.children)}}else this.activateChildRoutes(L,null,j)}}class Es{constructor(L){this.path=L,this.route=this.path[this.path.length-1]}}class jo{constructor(L,D){this.component=L,this.route=D}}function Ro(R,L,D){const j=R._root;return ho(j,L?L._root:null,D,[j.value])}function ls(R,L){const D=Symbol(),j=L.get(R,D);return j===D?"function"!=typeof R||(0,c.Z0I)(R)?L.get(R):R:j}function ho(R,L,D,j,re={canDeactivateChecks:[],canActivateChecks:[]}){const Fe=Pr(L);return R.children.forEach(xe=>{(function Bo(R,L,D,j,re={canDeactivateChecks:[],canActivateChecks:[]}){const Fe=R.value,xe=L?L.value:null,ct=D?D.getContext(R.value.outlet):null;if(xe&&Fe.routeConfig===xe.routeConfig){const qt=function ea(R,L,D){if("function"==typeof D)return D(R,L);switch(D){case"pathParamsChange":return!Tn(R.url,L.url);case"pathParamsOrQueryParamsChange":return!Tn(R.url,L.url)||!Gn(R.queryParams,L.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(R,L)||!Gn(R.queryParams,L.queryParams);default:return!er(R,L)}}(xe,Fe,Fe.routeConfig.runGuardsAndResolvers);qt?re.canActivateChecks.push(new Es(j)):(Fe.data=xe.data,Fe._resolvedData=xe._resolvedData),ho(R,L,Fe.component?ct?ct.children:null:D,j,re),qt&&ct&&ct.outlet&&ct.outlet.isActivated&&re.canDeactivateChecks.push(new jo(ct.outlet.component,xe))}else xe&&Fo(L,ct,re),re.canActivateChecks.push(new Es(j)),ho(R,null,Fe.component?ct?ct.children:null:D,j,re)})(xe,Fe[xe.value.outlet],D,j.concat([xe.value]),re),delete Fe[xe.value.outlet]}),Object.entries(Fe).forEach(([xe,ct])=>Fo(ct,D.getContext(xe),re)),re}function Fo(R,L,D){const j=Pr(R),re=R.value;Object.entries(j).forEach(([Fe,xe])=>{Fo(xe,re.component?L?L.children.getContext(Fe):null:L,D)}),D.canDeactivateChecks.push(new jo(re.component&&L&&L.outlet&&L.outlet.isActivated?L.outlet.component:null,re))}function Is(R){return"function"==typeof R}function ze(R){return R instanceof se.K||"EmptyError"===(null==R?void 0:R.name)}const wt=Symbol("INITIAL_VALUE");function jt(){return(0,Je.w)(R=>X(R.map(L=>L.pipe((0,ut.q)(1),(0,$t.O)(wt)))).pipe((0,Pe.U)(L=>{for(const D of L)if(!0!==D){if(D===wt)return wt;if(!1===D||D instanceof Mn)return D}return!0}),(0,mt.h)(L=>L!==wt),(0,ut.q)(1)))}function ca(R){return(0,ye.z)((0,zt.b)(L=>{if(ln(L))throw mo(0,L)}),(0,Pe.U)(L=>!0===L))}class Ri{constructor(L){this.segmentGroup=L||null}}class Hi{constructor(L){this.urlTree=L}}function Ei(R){return Re(new Ri(R))}function Xa(R){return Re(new Hi(R))}class cs{constructor(L,D){this.urlSerializer=L,this.urlTree=D}noMatchError(L){return new c.vHH(4002,!1)}lineralizeSegments(L,D){let j=[],re=D.root;for(;;){if(j=j.concat(re.segments),0===re.numberOfChildren)return(0,V.of)(j);if(re.numberOfChildren>1||!re.children[Tt])return Re(new c.vHH(4e3,!1));re=re.children[Tt]}}applyRedirectCommands(L,D,j){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),L,j)}applyRedirectCreateUrlTree(L,D,j,re){const Fe=this.createSegmentGroup(L,D.root,j,re);return new Mn(Fe,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(L,D){const j={};return Object.entries(L).forEach(([re,Fe])=>{if("string"==typeof Fe&&Fe.startsWith(":")){const ct=Fe.substring(1);j[re]=D[ct]}else j[re]=Fe}),j}createSegmentGroup(L,D,j,re){const Fe=this.createSegments(L,D.segments,j,re);let xe={};return Object.entries(D.children).forEach(([ct,qt])=>{xe[ct]=this.createSegmentGroup(L,qt,j,re)}),new jn(Fe,xe)}createSegments(L,D,j,re){return D.map(Fe=>Fe.path.startsWith(":")?this.findPosParam(L,Fe,re):this.findOrReturn(Fe,j))}findPosParam(L,D,j){const re=j[D.path.substring(1)];if(!re)throw new c.vHH(4001,!1);return re}findOrReturn(L,D){let j=0;for(const re of D){if(re.path===L.path)return D.splice(j),re;j++}return L}}const Ps={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mi(R,L,D,j,re){const Fe=na(R,L,D);return Fe.matched?(j=function yo(R,L){var D;return R.providers&&!R._injector&&(R._injector=(0,c.MMx)(R.providers,L,`Route: ${R.path}`)),null!==(D=R._injector)&&void 0!==D?D:L}(L,j),function Us(R,L,D,j){const re=L.canMatch;if(!re||0===re.length)return(0,V.of)(!0);const Fe=re.map(xe=>{const ct=ls(xe,R);return mn(function p(R){return R&&Is(R.canMatch)}(ct)?ct.canMatch(L,D):R.runInContext(()=>ct(L,D)))});return(0,V.of)(Fe).pipe(jt(),ca())}(j,L,D).pipe((0,Pe.U)(xe=>!0===xe?Fe:{...Ps}))):(0,V.of)(Fe)}function na(R,L,D){var j,re;if(""===L.path)return"full"===L.pathMatch&&(R.hasChildren()||D.length>0)?{...Ps}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const xe=(L.matcher||Sn)(D,R,L);if(!xe)return{...Ps};const ct={};Object.entries(null!==(j=xe.posParams)&&void 0!==j?j:{}).forEach(([xn,mr])=>{ct[xn]=mr.path});const qt=xe.consumed.length>0?{...ct,...xe.consumed[xe.consumed.length-1].parameters}:ct;return{matched:!0,consumedSegments:xe.consumed,remainingSegments:D.slice(xe.consumed.length),parameters:qt,positionalParamSegments:null!==(re=xe.posParams)&&void 0!==re?re:{}}}function _a(R,L,D,j){return D.length>0&&function ws(R,L,D){return D.some(j=>da(R,L,j)&&fi(j)!==Tt)}(R,D,j)?{segmentGroup:new jn(L,Ra(j,new jn(D,R.children))),slicedSegments:[]}:0===D.length&&function ua(R,L,D){return D.some(j=>da(R,L,j))}(R,D,j)?{segmentGroup:new jn(R.segments,Lo(R,0,D,j,R.children)),slicedSegments:D}:{segmentGroup:new jn(R.segments,R.children),slicedSegments:D}}function Lo(R,L,D,j,re){const Fe={};for(const xe of j)if(da(R,D,xe)&&!re[fi(xe)]){const ct=new jn([],{});Fe[fi(xe)]=ct}return{...re,...Fe}}function Ra(R,L){const D={};D[Tt]=L;for(const j of R)if(""===j.path&&fi(j)!==Tt){const re=new jn([],{});D[fi(j)]=re}return D}function da(R,L,D){return(!(R.hasChildren()||L.length>0)||"full"!==D.pathMatch)&&""===D.path}class _o{constructor(L,D,j,re,Fe,xe,ct){this.injector=L,this.configLoader=D,this.rootComponentType=j,this.config=re,this.urlTree=Fe,this.paramsInheritanceStrategy=xe,this.urlSerializer=ct,this.allowRedirects=!0,this.applyRedirects=new cs(this.urlSerializer,this.urlTree)}noMatchError(L){return new c.vHH(4002,!1)}recognize(){const L=_a(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,L,Tt).pipe((0,Qt.K)(D=>{if(D instanceof Hi)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof Ri?this.noMatchError(D):D}),(0,Pe.U)(D=>{const j=new hi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tt,this.rootComponentType,null,{}),re=new Vi(j,D),Fe=new $o("",re),xe=function hn(R,L,D=null,j=null){return Dr(On(R),L,D,j)}(j,[],this.urlTree.queryParams,this.urlTree.fragment);return xe.queryParams=this.urlTree.queryParams,Fe.url=this.urlSerializer.serialize(xe),this.inheritParamsAndData(Fe._root),{state:Fe,tree:xe}}))}match(L){return this.processSegmentGroup(this.injector,this.config,L.root,Tt).pipe((0,Qt.K)(j=>{throw j instanceof Ri?this.noMatchError(j):j}))}inheritParamsAndData(L){const D=L.value,j=ki(D,this.paramsInheritanceStrategy);D.params=Object.freeze(j.params),D.data=Object.freeze(j.data),L.children.forEach(re=>this.inheritParamsAndData(re))}processSegmentGroup(L,D,j,re){return 0===j.segments.length&&j.hasChildren()?this.processChildren(L,D,j):this.processSegment(L,D,j,j.segments,re,!0)}processChildren(L,D,j){const re=[];for(const Fe of Object.keys(j.children))"primary"===Fe?re.unshift(Fe):re.push(Fe);return(0,W.D)(re).pipe((0,St.b)(Fe=>{const xe=j.children[Fe],ct=function si(R,L){const D=R.filter(j=>fi(j)===L);return D.push(...R.filter(j=>fi(j)!==L)),D}(D,Fe);return this.processSegmentGroup(L,ct,xe,Fe)}),function Rt(R,L){return(0,Ee.e)(function ht(R,L,D,j,re){return(Fe,xe)=>{let ct=D,qt=L,xn=0;Fe.subscribe((0,P.x)(xe,mr=>{const rr=xn++;qt=ct?R(qt,mr,rr):(ct=!0,mr),j&&xe.next(qt)},re&&(()=>{ct&&xe.next(qt),xe.complete()})))}}(R,L,arguments.length>=2,!0))}((Fe,xe)=>(Fe.push(...xe),Fe)),Le(null),function Pt(R,L){const D=arguments.length>=2;return j=>j.pipe(R?(0,mt.h)((re,Fe)=>R(re,Fe,j)):M.y,Ct(1),D?Le(L):He(()=>new se.K))}(),(0,De.z)(Fe=>{if(null===Fe)return Ei(j);const xe=ds(Fe);return function ha(R){R.sort((L,D)=>L.value.outlet===Tt?-1:D.value.outlet===Tt?1:L.value.outlet.localeCompare(D.value.outlet))}(xe),(0,V.of)(xe)}))}processSegment(L,D,j,re,Fe,xe){return(0,W.D)(D).pipe((0,St.b)(ct=>{var qt;return this.processSegmentAgainstRoute(null!==(qt=ct._injector)&&void 0!==qt?qt:L,D,ct,j,re,Fe,xe).pipe((0,Qt.K)(xn=>{if(xn instanceof Ri)return(0,V.of)(null);throw xn}))}),dt(ct=>!!ct),(0,Qt.K)(ct=>{if(ze(ct))return function us(R,L,D){return 0===L.length&&!R.children[D]}(j,re,Fe)?(0,V.of)([]):Ei(j);throw ct}))}processSegmentAgainstRoute(L,D,j,re,Fe,xe,ct){return function tc(R,L,D,j){return!!(fi(R)===j||j!==Tt&&da(L,D,R))&&("**"===R.path||na(L,R,D).matched)}(j,re,Fe,xe)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(L,re,j,Fe,xe,ct):ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(L,re,D,j,Fe,xe):Ei(re):Ei(re)}expandSegmentAgainstRouteUsingRedirect(L,D,j,re,Fe,xe){return"**"===re.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(L,j,re,xe):this.expandRegularSegmentAgainstRouteUsingRedirect(L,D,j,re,Fe,xe)}expandWildCardWithParamsAgainstRouteUsingRedirect(L,D,j,re){const Fe=this.applyRedirects.applyRedirectCommands([],j.redirectTo,{});return j.redirectTo.startsWith("/")?Xa(Fe):this.applyRedirects.lineralizeSegments(j,Fe).pipe((0,De.z)(xe=>{const ct=new jn(xe,{});return this.processSegment(L,D,ct,xe,re,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(L,D,j,re,Fe,xe){const{matched:ct,consumedSegments:qt,remainingSegments:xn,positionalParamSegments:mr}=na(D,re,Fe);if(!ct)return Ei(D);const rr=this.applyRedirects.applyRedirectCommands(qt,re.redirectTo,mr);return re.redirectTo.startsWith("/")?Xa(rr):this.applyRedirects.lineralizeSegments(re,rr).pipe((0,De.z)(Ii=>this.processSegment(L,j,D,Ii.concat(xn),xe,!1)))}matchSegmentAgainstRoute(L,D,j,re,Fe,xe){let ct;if("**"===j.path){var qt,xn;const mr=re.length>0?fn(re).parameters:{},rr=new hi(re,mr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fl(j),fi(j),null!==(qt=null!==(xn=j.component)&&void 0!==xn?xn:j._loadedComponent)&&void 0!==qt?qt:null,j,hs(j));ct=(0,V.of)({snapshot:rr,consumedSegments:[],remainingSegments:[]}),D.children={}}else ct=Mi(D,j,re,L).pipe((0,Pe.U)(({matched:mr,consumedSegments:rr,remainingSegments:Ii,parameters:Oo})=>{var Ks,Ns;return mr?{snapshot:new hi(rr,Oo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fl(j),fi(j),null!==(Ks=null!==(Ns=j.component)&&void 0!==Ns?Ns:j._loadedComponent)&&void 0!==Ks?Ks:null,j,hs(j)),consumedSegments:rr,remainingSegments:Ii}:null}));return ct.pipe((0,Je.w)(mr=>{var rr;return null===mr?Ei(D):(L=null!==(rr=j._injector)&&void 0!==rr?rr:L,this.getChildConfig(L,j,re).pipe((0,Je.w)(({routes:Ii})=>{var Oo;const Ks=null!==(Oo=j._loadedInjector)&&void 0!==Oo?Oo:L,{snapshot:Ns,consumedSegments:za,remainingSegments:Qo}=mr,{segmentGroup:oa,slicedSegments:El}=_a(D,za,Qo,Ii);if(0===El.length&&oa.hasChildren())return this.processChildren(Ks,Ii,oa).pipe((0,Pe.U)(Na=>null===Na?null:[new Vi(Ns,Na)]));if(0===Ii.length&&0===El.length)return(0,V.of)([new Vi(Ns,[])]);const Uc=fi(j)===Fe;return this.processSegment(Ks,Ii,oa,El,Uc?Tt:Fe,!0).pipe((0,Pe.U)(Na=>[new Vi(Ns,Na)]))})))}))}getChildConfig(L,D,j){return D.children?(0,V.of)({routes:D.children,injector:L}):D.loadChildren?void 0!==D._loadedRoutes?(0,V.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Ms(R,L,D,j){const re=L.canLoad;if(void 0===re||0===re.length)return(0,V.of)(!0);const Fe=re.map(xe=>{const ct=ls(xe,R);return mn(function w(R){return R&&Is(R.canLoad)}(ct)?ct.canLoad(L,D):R.runInContext(()=>ct(L,D)))});return(0,V.of)(Fe).pipe(jt(),ca())}(L,D,j).pipe((0,De.z)(re=>re?this.configLoader.loadChildren(L,D).pipe((0,zt.b)(Fe=>{D._loadedRoutes=Fe.routes,D._loadedInjector=Fe.injector})):function Aa(R){return Re(ro(!1,3))}())):(0,V.of)({routes:[],injector:L})}}function Vs(R){const L=R.value.routeConfig;return L&&""===L.path}function ds(R){const L=[],D=new Set;for(const j of R){if(!Vs(j)){L.push(j);continue}const re=L.find(Fe=>j.value.routeConfig===Fe.value.routeConfig);void 0!==re?(re.children.push(...j.children),D.add(re)):L.push(j)}for(const j of D){const re=ds(j.children);L.push(new Vi(j.value,re))}return L.filter(j=>!D.has(j))}function fl(R){return R.data||{}}function hs(R){return R.resolve||{}}function Xt(R){return"string"==typeof R.title||null===R.title}function _n(R){return(0,Je.w)(L=>{const D=R(L);return D?(0,W.D)(D).pipe((0,Pe.U)(()=>L)):(0,V.of)(L)})}const ei=new c.OlP("ROUTES");let ti=(()=>{class R{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,V.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const j=mn(D.loadComponent()).pipe((0,Pe.U)(Lr),(0,zt.b)(Fe=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=Fe}),(0,an.x)(()=>{this.componentLoaders.delete(D)})),re=new it(j,()=>new Ue.x).pipe(st());return this.componentLoaders.set(D,re),re}loadChildren(D,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,V.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const Fe=this.loadModuleFactoryOrRoutes(j.loadChildren).pipe((0,Pe.U)(ct=>{this.onLoadEndListener&&this.onLoadEndListener(j);let qt,xn;return Array.isArray(ct)?xn=ct:(qt=ct.create(D).injector,xn=qt.get(ei,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:xn.map(Jr),injector:qt}}),(0,an.x)(()=>{this.childrenLoaders.delete(j)})),xe=new it(Fe,()=>new Ue.x).pipe(st());return this.childrenLoaders.set(j,xe),xe}loadModuleFactoryOrRoutes(D){return mn(D()).pipe((0,Pe.U)(Lr),(0,De.z)(j=>j instanceof c.YKP||Array.isArray(j)?(0,V.of)(j):(0,W.D)(this.compiler.compileModuleAsync(j))))}}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Lr(R){return function br(R){return R&&"object"==typeof R&&"default"in R}(R)?R.default:R}let Nr=(()=>{class R{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ue.x,this.configLoader=(0,c.f3M)(ti),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(et),this.rootContexts=(0,c.f3M)(ni),this.inputBindingEnabled=null!==(0,c.f3M)(Zi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,V.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=re=>this.events.next(new Bi(re)),this.configLoader.onLoadStartListener=re=>this.events.next(new Or(re))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var j;const re=++this.navigationId;null===(j=this.transitions)||void 0===j||j.next({...this.transitions.value,...D,id:re})}setupNavigations(D){return this.transitions=new O.X({id:0,currentUrlTree:D.currentUrlTree,currentRawUrl:D.currentUrlTree,extractedUrl:D.urlHandlingStrategy.extract(D.currentUrlTree),urlAfterRedirects:D.urlHandlingStrategy.extract(D.currentUrlTree),rawUrl:D.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ue,restoredState:null,currentSnapshot:D.routerState.snapshot,targetSnapshot:null,currentRouterState:D.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,mt.h)(j=>0!==j.id),(0,Pe.U)(j=>({...j,extractedUrl:D.urlHandlingStrategy.extract(j.rawUrl)})),(0,Je.w)(j=>{let re=!1,Fe=!1;return(0,V.of)(j).pipe((0,zt.b)(xe=>{this.currentNavigation={id:xe.id,initialUrl:xe.rawUrl,extractedUrl:xe.extractedUrl,trigger:xe.source,extras:xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Je.w)(xe=>{var ct;const qt=D.browserUrlTree.toString(),xn=!D.navigated||xe.extractedUrl.toString()!==qt||qt!==D.currentUrlTree.toString(),mr=null!==(ct=xe.extras.onSameUrlNavigation)&&void 0!==ct?ct:D.onSameUrlNavigation;if(!xn&&"reload"!==mr){const rr="";return this.events.next(new nt(xe.id,D.serializeUrl(j.rawUrl),rr,0)),D.rawUrlTree=xe.rawUrl,xe.resolve(null),je.E}if(D.urlHandlingStrategy.shouldProcessUrl(xe.rawUrl))return Yr(xe.source)&&(D.browserUrlTree=xe.extractedUrl),(0,V.of)(xe).pipe((0,Je.w)(rr=>{var Ii,Oo;const Ks=null===(Ii=this.transitions)||void 0===Ii?void 0:Ii.getValue();return this.events.next(new q(rr.id,this.urlSerializer.serialize(rr.extractedUrl),rr.source,rr.restoredState)),Ks!==(null===(Oo=this.transitions)||void 0===Oo?void 0:Oo.getValue())?je.E:Promise.resolve(rr)}),function G(R,L,D,j,re,Fe){return(0,De.z)(xe=>function zo(R,L,D,j,re,Fe,xe="emptyOnly"){return new _o(R,L,D,j,re,xe,Fe).recognize()}(R,L,D,j,xe.extractedUrl,re,Fe).pipe((0,Pe.U)(({state:ct,tree:qt})=>({...xe,targetSnapshot:ct,urlAfterRedirects:qt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,zt.b)(rr=>{if(j.targetSnapshot=rr.targetSnapshot,j.urlAfterRedirects=rr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:rr.urlAfterRedirects},"eager"===D.urlUpdateStrategy){if(!rr.extras.skipLocationChange){const Oo=D.urlHandlingStrategy.merge(rr.urlAfterRedirects,rr.rawUrl);D.setBrowserUrl(Oo,rr)}D.browserUrlTree=rr.urlAfterRedirects}const Ii=new xt(rr.id,this.urlSerializer.serialize(rr.extractedUrl),this.urlSerializer.serialize(rr.urlAfterRedirects),rr.targetSnapshot);this.events.next(Ii)}));if(xn&&D.urlHandlingStrategy.shouldProcessUrl(D.rawUrlTree)){const{id:rr,extractedUrl:Ii,source:Oo,restoredState:Ks,extras:Ns}=xe,za=new q(rr,this.urlSerializer.serialize(Ii),Oo,Ks);this.events.next(za);const Qo=wn(0,this.rootComponentType).snapshot;return j={...xe,targetSnapshot:Qo,urlAfterRedirects:Ii,extras:{...Ns,skipLocationChange:!1,replaceUrl:!1}},(0,V.of)(j)}{const rr="";return this.events.next(new nt(xe.id,D.serializeUrl(j.extractedUrl),rr,1)),D.rawUrlTree=xe.rawUrl,xe.resolve(null),je.E}}),(0,zt.b)(xe=>{const ct=new Lt(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(ct)}),(0,Pe.U)(xe=>j={...xe,guards:Ro(xe.targetSnapshot,xe.currentSnapshot,this.rootContexts)}),function En(R,L){return(0,De.z)(D=>{const{targetSnapshot:j,currentSnapshot:re,guards:{canActivateChecks:Fe,canDeactivateChecks:xe}}=D;return 0===xe.length&&0===Fe.length?(0,V.of)({...D,guardsResult:!0}):function ur(R,L,D,j){return(0,W.D)(R).pipe((0,De.z)(re=>function bs(R,L,D,j,re){const Fe=L&&L.routeConfig?L.routeConfig.canDeactivate:null;if(!Fe||0===Fe.length)return(0,V.of)(!0);const xe=Fe.map(ct=>{var qt;const xn=null!==(qt=Ji(L))&&void 0!==qt?qt:re,mr=ls(ct,xn);return mn(function v(R){return R&&Is(R.canDeactivate)}(mr)?mr.canDeactivate(R,L,D,j):xn.runInContext(()=>mr(R,L,D,j))).pipe(dt())});return(0,V.of)(xe).pipe(jt())}(re.component,re.route,D,L,j)),dt(re=>!0!==re,!0))}(xe,j,re,R).pipe((0,De.z)(ct=>ct&&function ta(R){return"boolean"==typeof R}(ct)?function Ir(R,L,D,j){return(0,W.D)(L).pipe((0,St.b)(re=>(0,Me.z)(function Cr(R,L){return null!==R&&L&&L(new ui(R)),(0,V.of)(!0)}(re.route.parent,j),function xr(R,L){return null!==R&&L&&L(new Ui(R)),(0,V.of)(!0)}(re.route,j),function vo(R,L,D){const j=L[L.length-1],Fe=L.slice(0,L.length-1).reverse().map(xe=>function Ho(R){const L=R.routeConfig?R.routeConfig.canActivateChild:null;return L&&0!==L.length?{node:R,guards:L}:null}(xe)).filter(xe=>null!==xe).map(xe=>ne(()=>{const ct=xe.guards.map(qt=>{var xn;const mr=null!==(xn=Ji(xe.node))&&void 0!==xn?xn:D,rr=ls(qt,mr);return mn(function f(R){return R&&Is(R.canActivateChild)}(rr)?rr.canActivateChild(j,R):mr.runInContext(()=>rr(j,R))).pipe(dt())});return(0,V.of)(ct).pipe(jt())}));return(0,V.of)(Fe).pipe(jt())}(R,re.path,D),function Sr(R,L,D){const j=L.routeConfig?L.routeConfig.canActivate:null;if(!j||0===j.length)return(0,V.of)(!0);const re=j.map(Fe=>ne(()=>{var xe;const ct=null!==(xe=Ji(L))&&void 0!==xe?xe:D,qt=ls(Fe,ct);return mn(function ie(R){return R&&Is(R.canActivate)}(qt)?qt.canActivate(L,R):ct.runInContext(()=>qt(L,R))).pipe(dt())}));return(0,V.of)(re).pipe(jt())}(R,re.route,D))),dt(re=>!0!==re,!0))}(j,Fe,R,L):(0,V.of)(ct)),(0,Pe.U)(ct=>({...D,guardsResult:ct})))})}(this.environmentInjector,xe=>this.events.next(xe)),(0,zt.b)(xe=>{if(j.guardsResult=xe.guardsResult,ln(xe.guardsResult))throw mo(0,xe.guardsResult);const ct=new cn(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot,!!xe.guardsResult);this.events.next(ct)}),(0,mt.h)(xe=>!!xe.guardsResult||(D.restoreHistory(xe),this.cancelNavigationTransition(xe,"",3),!1)),_n(xe=>{if(xe.guards.canActivateChecks.length)return(0,V.of)(xe).pipe((0,zt.b)(ct=>{const qt=new Pn(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(qt)}),(0,Je.w)(ct=>{let qt=!1;return(0,V.of)(ct).pipe(function ce(R,L){return(0,De.z)(D=>{const{targetSnapshot:j,guards:{canActivateChecks:re}}=D;if(!re.length)return(0,V.of)(D);let Fe=0;return(0,W.D)(re).pipe((0,St.b)(xe=>function Z(R,L,D,j){const re=R.routeConfig,Fe=R._resolve;return void 0!==(null==re?void 0:re.title)&&!Xt(re)&&(Fe[gn]=re.title),function Se(R,L,D,j){const re=function Ze(R){return[...Object.keys(R),...Object.getOwnPropertySymbols(R)]}(R);if(0===re.length)return(0,V.of)({});const Fe={};return(0,W.D)(re).pipe((0,De.z)(xe=>function Vt(R,L,D,j){var re;const Fe=null!==(re=Ji(L))&&void 0!==re?re:j,xe=ls(R,Fe);return mn(xe.resolve?xe.resolve(L,D):Fe.runInContext(()=>xe(L,D)))}(R[xe],L,D,j).pipe(dt(),(0,zt.b)(ct=>{Fe[xe]=ct}))),Ct(1),function Wt(R){return(0,Pe.U)(()=>R)}(Fe),(0,Qt.K)(xe=>ze(xe)?je.E:Re(xe)))}(Fe,R,L,j).pipe((0,Pe.U)(xe=>(R._resolvedData=xe,R.data=ki(R,D).resolve,re&&Xt(re)&&(R.data[gn]=re.title),null)))}(xe.route,j,R,L)),(0,zt.b)(()=>Fe++),Ct(1),(0,De.z)(xe=>Fe===re.length?(0,V.of)(D):je.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,zt.b)({next:()=>qt=!0,complete:()=>{qt||(D.restoreHistory(ct),this.cancelNavigationTransition(ct,"",2))}}))}),(0,zt.b)(ct=>{const qt=new Jn(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(qt)}))}),_n(xe=>{const ct=qt=>{var xn;const mr=[];null!==(xn=qt.routeConfig)&&void 0!==xn&&xn.loadComponent&&!qt.routeConfig._loadedComponent&&mr.push(this.configLoader.loadComponent(qt.routeConfig).pipe((0,zt.b)(rr=>{qt.component=rr}),(0,Pe.U)(()=>{})));for(const rr of qt.children)mr.push(...ct(rr));return mr};return X(ct(xe.targetSnapshot.root)).pipe(Le(),(0,ut.q)(1))}),_n(()=>this.afterPreactivation()),(0,Pe.U)(xe=>{const ct=function os(R,L,D){const j=so(R,L._root,D?D._root:void 0);return new Xr(j,L)}(D.routeReuseStrategy,xe.targetSnapshot,xe.currentRouterState);return j={...xe,targetRouterState:ct}}),(0,zt.b)(xe=>{D.currentUrlTree=xe.urlAfterRedirects,D.rawUrlTree=D.urlHandlingStrategy.merge(xe.urlAfterRedirects,xe.rawUrl),D.routerState=xe.targetRouterState,"deferred"===D.urlUpdateStrategy&&(xe.extras.skipLocationChange||D.setBrowserUrl(D.rawUrlTree,xe),D.browserUrlTree=xe.urlAfterRedirects)}),((R,L,D,j)=>(0,Pe.U)(re=>(new _s(L,re.targetRouterState,re.currentRouterState,D,j).activate(R),re)))(this.rootContexts,D.routeReuseStrategy,xe=>this.events.next(xe),this.inputBindingEnabled),(0,ut.q)(1),(0,zt.b)({next:xe=>{var ct;re=!0,this.lastSuccessfulNavigation=this.currentNavigation,D.navigated=!0,this.events.next(new ge(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(D.currentUrlTree))),null===(ct=D.titleStrategy)||void 0===ct||ct.updateTitle(xe.targetRouterState.snapshot),xe.resolve(!0)},complete:()=>{re=!0}}),(0,an.x)(()=>{var xe;re||Fe||this.cancelNavigationTransition(j,"",1),(null===(xe=this.currentNavigation)||void 0===xe?void 0:xe.id)===j.id&&(this.currentNavigation=null)}),(0,Qt.K)(xe=>{if(Fe=!0,lo(xe)){Yo(xe)||(D.navigated=!0,D.restoreHistory(j,!0));const qt=new Oe(j.id,this.urlSerializer.serialize(j.extractedUrl),xe.message,xe.cancellationCode);if(this.events.next(qt),Yo(xe)){const xn=D.urlHandlingStrategy.merge(xe.url,D.rawUrlTree),mr={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===D.urlUpdateStrategy||Yr(j.source)};D.scheduleNavigation(xn,ue,null,mr,{resolve:j.resolve,reject:j.reject,promise:j.promise})}else j.resolve(!1)}else{var ct;D.restoreHistory(j,!0);const qt=new vt(j.id,this.urlSerializer.serialize(j.extractedUrl),xe,null!==(ct=j.targetSnapshot)&&void 0!==ct?ct:void 0);this.events.next(qt);try{j.resolve(D.errorHandler(xe))}catch(xn){j.reject(xn)}}return je.E}))}))}cancelNavigationTransition(D,j,re){const Fe=new Oe(D.id,this.urlSerializer.serialize(D.extractedUrl),j,re);this.events.next(Fe),D.resolve(!1)}}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Yr(R){return R!==ue}let $r=(()=>{class R{buildTitle(D){let j,re=D.root;for(;void 0!==re;){var Fe;j=null!==(Fe=this.getResolvedTitleForRoute(re))&&void 0!==Fe?Fe:j,re=re.children.find(xe=>xe.outlet===Tt)}return j}getResolvedTitleForRoute(D){return D.data[gn]}}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:function(){return(0,c.f3M)(qo)},providedIn:"root"}),R})(),qo=(()=>{class R extends $r{constructor(D){super(),this.title=D}updateTitle(D){const j=this.buildTitle(D);void 0!==j&&this.title.setTitle(j)}}return R.\u0275fac=function(D){return new(D||R)(c.LFG(vn.Dx))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),js=(()=>{class R{}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:function(){return(0,c.f3M)(qr)},providedIn:"root"}),R})();class un{shouldDetach(L){return!1}store(L,D){}shouldAttach(L){return!1}retrieve(L){return null}shouldReuseRoute(L,D){return L.routeConfig===D.routeConfig}}let qr=(()=>{class R extends un{}return R.\u0275fac=function(){let L;return function(j){return(L||(L=c.n5z(R)))(j||R)}}(),R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const fo=new c.OlP("",{providedIn:"root",factory:()=>({})});let Hs=(()=>{class R{}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:function(){return(0,c.f3M)(Nn)},providedIn:"root"}),R})(),Nn=(()=>{class R{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,j){return D}}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var Hn=(()=>((Hn=Hn||{})[Hn.COMPLETE=0]="COMPLETE",Hn[Hn.FAILED=1]="FAILED",Hn[Hn.REDIRECTING=2]="REDIRECTING",Hn))();function ra(R,L){R.events.pipe((0,mt.h)(D=>D instanceof ge||D instanceof Oe||D instanceof vt||D instanceof nt),(0,Pe.U)(D=>D instanceof ge||D instanceof nt?Hn.COMPLETE:D instanceof Oe&&(0===D.code||1===D.code)?Hn.REDIRECTING:Hn.FAILED),(0,mt.h)(D=>D!==Hn.REDIRECTING),(0,ut.q)(1)).subscribe(()=>{L()})}function zn(R){throw R}function It(R,L,D){return L.parse("/")}const dn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Eo=(()=>{class R{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var D;if("computed"===this.canceledNavigationResolution)return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var D,j;this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(fo,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||zn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||It,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Hs),this.routeReuseStrategy=(0,c.f3M)(js),this.titleStrategy=(0,c.f3M)($r),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(D=null===(j=(0,c.f3M)(ei,{optional:!0}))||void 0===j?void 0:j.flat())&&void 0!==D?D:[],this.navigationTransitions=(0,c.f3M)(Nr),this.urlSerializer=(0,c.f3M)(et),this.location=(0,c.f3M)(Ie.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Zi,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(re=>{var Fe;this.lastSuccessfulId=re.id,this.currentPageId=null!==(Fe=this.browserPageId)&&void 0!==Fe?Fe:0},re=>{this.console.warn(`Unhandled Navigation Error: ${re}`)})}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ue,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const j="popstate"===D.type?"popstate":"hashchange";"popstate"===j&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,j,D.state)},0)}))}navigateToSyncWithBrowser(D,j,re){const Fe={replaceUrl:!0},xe=null!=re&&re.navigationId?re:null;if(re){const qt={...re};delete qt.navigationId,delete qt.\u0275routerPageId,0!==Object.keys(qt).length&&(Fe.state=qt)}const ct=this.parseUrl(D);this.scheduleNavigation(ct,j,xe,Fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Jr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,j={}){const{relativeTo:re,queryParams:Fe,fragment:xe,queryParamsHandling:ct,preserveFragment:qt}=j,xn=qt?this.currentUrlTree.fragment:xe;let rr,mr=null;switch(ct){case"merge":mr={...this.currentUrlTree.queryParams,...Fe};break;case"preserve":mr=this.currentUrlTree.queryParams;break;default:mr=Fe||null}null!==mr&&(mr=this.removeEmptyProps(mr));try{rr=On(re?re.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),rr=this.currentUrlTree.root}return Dr(rr,D,mr,null!=xn?xn:null)}navigateByUrl(D,j={skipLocationChange:!1}){const re=ln(D)?D:this.parseUrl(D),Fe=this.urlHandlingStrategy.merge(re,this.rawUrlTree);return this.scheduleNavigation(Fe,ue,null,j)}navigate(D,j={skipLocationChange:!1}){return function Po(R){for(let L=0;L<R.length;L++)if(null==R[L])throw new c.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,j),j)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let j;try{j=this.urlSerializer.parse(D)}catch(re){j=this.malformedUriErrorHandler(re,this.urlSerializer,D)}return j}isActive(D,j){let re;if(re=!0===j?{...dn}:!1===j?{...Mo}:j,ln(D))return An(this.currentUrlTree,D,re);const Fe=this.parseUrl(D);return An(this.currentUrlTree,Fe,re)}removeEmptyProps(D){return Object.keys(D).reduce((j,re)=>{const Fe=D[re];return null!=Fe&&(j[re]=Fe),j},{})}scheduleNavigation(D,j,re,Fe,xe){if(this.disposed)return Promise.resolve(!1);let ct,qt,xn;xe?(ct=xe.resolve,qt=xe.reject,xn=xe.promise):xn=new Promise((rr,Ii)=>{ct=rr,qt=Ii});const mr=this.pendingTasks.add();return ra(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mr))}),this.navigationTransitions.handleNavigationRequest({source:j,restoredState:re,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:Fe,resolve:ct,reject:qt,promise:xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xn.catch(rr=>Promise.reject(rr))}setBrowserUrl(D,j){const re=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(re)||j.extras.replaceUrl){const ct={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId)};this.location.replaceState(re,"",ct)}else{var Fe;const xe={...j.extras.state,...this.generateNgRouterState(j.id,(null!==(Fe=this.browserPageId)&&void 0!==Fe?Fe:0)+1)};this.location.go(re,"",xe)}}restoreHistory(D,j=!1){if("computed"===this.canceledNavigationResolution){var re,Fe;const xe=null!==(re=this.browserPageId)&&void 0!==re?re:this.currentPageId,ct=this.currentPageId-xe;0!==ct?this.location.historyGo(ct):this.currentUrlTree===(null===(Fe=this.getCurrentNavigation())||void 0===Fe?void 0:Fe.finalUrl)&&0===ct&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,j){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:j}:{navigationId:D}}}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Pa=(()=>{class R{constructor(D,j,re,Fe,xe,ct){var qt;this.router=D,this.route=j,this.tabIndexAttribute=re,this.renderer=Fe,this.el=xe,this.locationStrategy=ct,this.href=null,this.commands=null,this.onChanges=new Ue.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const xn=null===(qt=xe.nativeElement.tagName)||void 0===qt?void 0:qt.toLowerCase();this.isAnchorElement="a"===xn||"area"===xn,this.isAnchorElement?this.subscription=D.events.subscribe(mr=>{mr instanceof ge&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,j,re,Fe,xe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||j||re||Fe||xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;this.href=null!==this.urlTree&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const j=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",j)}applyAttributeValue(D,j){const re=this.renderer,Fe=this.el.nativeElement;null!==j?re.setAttribute(Fe,D,j):re.removeAttribute(Fe,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return R.\u0275fac=function(D){return new(D||R)(c.Y36(Eo),c.Y36(Kr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ie.S$))},R.\u0275dir=c.lG2({type:R,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,j){1&D&&c.NdJ("click",function(Fe){return j.onClick(Fe.button,Fe.ctrlKey,Fe.shiftKey,Fe.altKey,Fe.metaKey)}),2&D&&c.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]}),R})();class gl{}let Ol=(()=>{class R{preload(D,j){return j().pipe((0,Qt.K)(()=>(0,V.of)(null)))}}return R.\u0275fac=function(D){return new(D||R)},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),ml=(()=>{class R{constructor(D,j,re,Fe,xe){this.router=D,this.injector=re,this.preloadingStrategy=Fe,this.loader=xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,mt.h)(D=>D instanceof ge),(0,St.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,j){const re=[];for(const qt of j){var Fe,xe;qt.providers&&!qt._injector&&(qt._injector=(0,c.MMx)(qt.providers,D,`Route: ${qt.path}`));const xn=null!==(Fe=qt._injector)&&void 0!==Fe?Fe:D,mr=null!==(xe=qt._loadedInjector)&&void 0!==xe?xe:xn;var ct;(qt.loadChildren&&!qt._loadedRoutes&&void 0===qt.canLoad||qt.loadComponent&&!qt._loadedComponent)&&re.push(this.preloadConfig(xn,qt)),(qt.children||qt._loadedRoutes)&&re.push(this.processRoutes(mr,null!==(ct=qt.children)&&void 0!==ct?ct:qt._loadedRoutes))}return(0,W.D)(re).pipe((0,In.J)())}preloadConfig(D,j){return this.preloadingStrategy.preload(j,()=>{let re;re=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(D,j):(0,V.of)(null);const Fe=re.pipe((0,De.z)(xe=>{var ct;return null===xe?(0,V.of)(void 0):(j._loadedRoutes=xe.routes,j._loadedInjector=xe.injector,this.processRoutes(null!==(ct=xe.injector)&&void 0!==ct?ct:D,xe.routes))}));if(j.loadComponent&&!j._loadedComponent){const xe=this.loader.loadComponent(j);return(0,W.D)([Fe,xe]).pipe((0,In.J)())}return Fe})}}return R.\u0275fac=function(D){return new(D||R)(c.LFG(Eo),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(gl),c.LFG(ti))},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const $a=new c.OlP("");let tn=(()=>{class R{constructor(D,j,re,Fe,xe={}){this.urlSerializer=D,this.transitions=j,this.viewportScroller=re,this.zone=Fe,this.options=xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},xe.scrollPositionRestoration=xe.scrollPositionRestoration||"disabled",xe.anchorScrolling=xe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof q?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof ge?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof nt&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof di&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,j){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new di(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))})},0)})}ngOnDestroy(){var D,j;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(j=this.scrollEventsSubscription)||void 0===j||j.unsubscribe()}}return R.\u0275fac=function(D){c.$Z()},R.\u0275prov=c.Yz7({token:R,factory:R.\u0275fac}),R})();function Os(R,L){return{\u0275kind:R,\u0275providers:L}}function Ba(){const R=(0,c.f3M)(c.zs3);return L=>{var D,j;const re=R.get(c.z2F);if(L!==re.components[0])return;const Fe=R.get(Eo),xe=R.get($i);1===R.get(kn)&&Fe.initialNavigation(),null===(D=R.get(Ds,null,c.XFs.Optional))||void 0===D||D.setUpPreloading(),null===(j=R.get($a,null,c.XFs.Optional))||void 0===j||j.init(),Fe.resetRootComponentType(re.componentTypes[0]),xe.closed||(xe.next(),xe.complete(),xe.unsubscribe())}}const $i=new c.OlP("",{factory:()=>new Ue.x}),kn=new c.OlP("",{providedIn:"root",factory:()=>1}),Ds=new c.OlP("");function Ua(R){return Os(0,[{provide:Ds,useExisting:ml},{provide:gl,useExisting:R}])}const Ja=new c.OlP("ROUTER_FORROOT_GUARD"),_l=[Ie.Ye,{provide:et,useClass:Nt},Eo,ni,{provide:Kr,useFactory:function zs(R){return R.routerState.root},deps:[Eo]},ti,[]];function el(){return new c.PXZ("Router",Eo)}let ia=(()=>{class R{constructor(D){}static forRoot(D,j){return{ngModule:R,providers:[_l,[],{provide:ei,multi:!0,useValue:D},{provide:Ja,useFactory:Go,deps:[[Eo,new c.FiY,new c.tp0]]},{provide:fo,useValue:j||{}},null!=j&&j.useHash?{provide:Ie.S$,useClass:Ie.Do}:{provide:Ie.S$,useClass:Ie.b0},{provide:$a,useFactory:()=>{const R=(0,c.f3M)(Ie.EM),L=(0,c.f3M)(c.R0b),D=(0,c.f3M)(fo),j=(0,c.f3M)(Nr),re=(0,c.f3M)(et);return D.scrollOffset&&R.setOffset(D.scrollOffset),new tn(re,j,R,L,D)}},null!=j&&j.preloadingStrategy?Ua(j.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:el},null!=j&&j.initialNavigation?Ha(j):[],null!=j&&j.bindToComponentInputs?Os(8,[yi,{provide:Zi,useExisting:yi}]).\u0275providers:[],[{provide:Ia,useFactory:Ba},{provide:c.tb,multi:!0,useExisting:Ia}]]}}static forChild(D){return{ngModule:R,providers:[{provide:ei,multi:!0,useValue:D}]}}}return R.\u0275fac=function(D){return new(D||R)(c.LFG(Ja,8))},R.\u0275mod=c.oAB({type:R}),R.\u0275inj=c.cJS({}),R})();function Go(R){return"guarded"}function Ha(R){return["disabled"===R.initialNavigation?Os(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const L=(0,c.f3M)(Eo);return()=>{L.setUpLocationChangeListener()}}},{provide:kn,useValue:2}]).\u0275providers:[],"enabledBlocking"===R.initialNavigation?Os(2,[{provide:kn,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:L=>{const D=L.get(Ie.V_,Promise.resolve());return()=>D.then(()=>new Promise(j=>{const re=L.get(Eo),Fe=L.get($i);ra(re,()=>{j(!0)}),L.get(Nr).afterPreactivation=()=>(j(!0),Fe.closed?(0,V.of)(void 0):Fe),re.initialNavigation()}))}}]).\u0275providers:[]]}const Ia=new c.OlP("")},534:(lt,rt,C)=>{"use strict";C.d(rt,{Jn:()=>jn,qX:()=>Ft,Xd:()=>Yn,Mq:()=>Wn,C6:()=>Tn,ZF:()=>zr,KN:()=>Nt});var c=C(5861),d=C(4537),Y=C(7879),U=C(9058);const W=(Ve,Ye)=>Ye.some(ft=>Ve instanceof ft);let V,O;const _=new WeakMap,A=new WeakMap,S=new WeakMap,P=new WeakMap,H=new WeakMap;let pe={get(Ve,Ye,ft){if(Ve instanceof IDBTransaction){if("done"===Ye)return A.get(Ve);if("objectStoreNames"===Ye)return Ve.objectStoreNames||S.get(Ve);if("store"===Ye)return ft.objectStoreNames[1]?void 0:ft.objectStore(ft.objectStoreNames[0])}return ne(Ve[Ye])},set:(Ve,Ye,ft)=>(Ve[Ye]=ft,!0),has:(Ve,Ye)=>Ve instanceof IDBTransaction&&("done"===Ye||"store"===Ye)||Ye in Ve};function we(Ve){return"function"==typeof Ve?function Me(Ve){return Ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function M(){return O||(O=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ve)?function(...Ye){return Ve.apply(ye(this),Ye),ne(_.get(this))}:function(...Ye){return ne(Ve.apply(ye(this),Ye))}:function(Ye,...ft){const Et=Ve.call(ye(this),Ye,...ft);return S.set(Et,Ye.sort?Ye.sort():[Ye]),ne(Et)}}(Ve):(Ve instanceof IDBTransaction&&function be(Ve){if(A.has(Ve))return;const Ye=new Promise((ft,Et)=>{const ln=()=>{Ve.removeEventListener("complete",hn),Ve.removeEventListener("error",On),Ve.removeEventListener("abort",On)},hn=()=>{ft(),ln()},On=()=>{Et(Ve.error||new DOMException("AbortError","AbortError")),ln()};Ve.addEventListener("complete",hn),Ve.addEventListener("error",On),Ve.addEventListener("abort",On)});A.set(Ve,Ye)}(Ve),W(Ve,function N(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ve,pe):Ve)}function ne(Ve){if(Ve instanceof IDBRequest)return function X(Ve){const Ye=new Promise((ft,Et)=>{const ln=()=>{Ve.removeEventListener("success",hn),Ve.removeEventListener("error",On)},hn=()=>{ft(ne(Ve.result)),ln()},On=()=>{Et(Ve.error),ln()};Ve.addEventListener("success",hn),Ve.addEventListener("error",On)});return Ye.then(ft=>{ft instanceof IDBCursor&&_.set(ft,Ve)}).catch(()=>{}),H.set(Ye,Ve),Ye}(Ve);if(P.has(Ve))return P.get(Ve);const Ye=we(Ve);return Ye!==Ve&&(P.set(Ve,Ye),H.set(Ye,Ve)),Ye}const ye=Ve=>H.get(Ve),Ae=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],st=new Map;function it(Ve,Ye){if(!(Ve instanceof IDBDatabase)||Ye in Ve||"string"!=typeof Ye)return;if(st.get(Ye))return st.get(Ye);const ft=Ye.replace(/FromIndex$/,""),Et=Ye!==ft,ln=Ee.includes(ft);if(!(ft in(Et?IDBIndex:IDBObjectStore).prototype)||!ln&&!Ae.includes(ft))return;const hn=function(){var On=(0,c.Z)(function*(Dr,...Zn){const nr=this.transaction(Dr,ln?"readwrite":"readonly");let yr=nr.store;return Et&&(yr=yr.index(Zn.shift())),(yield Promise.all([yr[ft](...Zn),ln&&nr.done]))[0]});return function(Zn){return On.apply(this,arguments)}}();return st.set(Ye,hn),hn}!function se(Ve){pe=Ve(pe)}(Ve=>({...Ve,get:(Ye,ft,Et)=>it(Ye,ft)||Ve.get(Ye,ft,Et),has:(Ye,ft)=>!!it(Ye,ft)||Ve.has(Ye,ft)}));class Ue{constructor(Ye){this.container=Ye}getPlatformInfoString(){return this.container.getProviders().map(ft=>{if(function Ie(Ve){const Ye=Ve.getComponent();return"VERSION"===(null==Ye?void 0:Ye.type)}(ft)){const Et=ft.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(ft=>ft).join(" ")}}const Pe="@firebase/app",ut=new Y.Yd("@firebase/app"),tr="[DEFAULT]",fn={[Pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,_r=new Map;function pr(Ve,Ye){try{Ve.container.addComponent(Ye)}catch(ft){ut.debug(`Component ${Ye.name} failed to register with FirebaseApp ${Ve.name}`,ft)}}function Yn(Ve){const Ye=Ve.name;if(_r.has(Ye))return ut.debug(`There were multiple attempts to register component ${Ye}.`),!1;_r.set(Ye,Ve);for(const ft of mn.values())pr(ft,Ve);return!0}function Ft(Ve,Ye){const ft=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return ft&&ft.triggerHeartbeat(),Ve.container.getProvider(Ye)}const Rn=new U.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mn{constructor(Ye,ft,Et){this._isDeleted=!1,this._options=Object.assign({},Ye),this._config=Object.assign({},ft),this._name=ft.name,this._automaticDataCollectionEnabled=ft.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new d.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ye){this._isDeleted=Ye}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const jn="9.23.0";function zr(Ve,Ye={}){let ft=Ve;"object"!=typeof Ye&&(Ye={name:Ye});const Et=Object.assign({name:tr,automaticDataCollectionEnabled:!1},Ye),ln=Et.name;if("string"!=typeof ln||!ln)throw Rn.create("bad-app-name",{appName:String(ln)});if(ft||(ft=(0,U.aH)()),!ft)throw Rn.create("no-options");const hn=mn.get(ln);if(hn){if((0,U.vZ)(ft,hn.options)&&(0,U.vZ)(Et,hn.config))return hn;throw Rn.create("duplicate-app",{appName:ln})}const On=new d.H0(ln);for(const Zn of _r.values())On.addComponent(Zn);const Dr=new Mn(ft,Et,On);return mn.set(ln,Dr),Dr}function Wn(Ve=tr){const Ye=mn.get(Ve);if(!Ye&&Ve===tr&&(0,U.aH)())return zr();if(!Ye)throw Rn.create("no-app",{appName:Ve});return Ye}function Tn(){return Array.from(mn.values())}function Nt(Ve,Ye,ft){var Et;let ln=null!==(Et=fn[Ve])&&void 0!==Et?Et:Ve;ft&&(ln+=`-${ft}`);const hn=ln.match(/\s|\//),On=Ye.match(/\s|\//);if(hn||On){const Dr=[`Unable to register library "${ln}" with version "${Ye}":`];return hn&&Dr.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),hn&&On&&Dr.push("and"),On&&Dr.push(`version name "${Ye}" contains illegal characters (whitespace or "/")`),void ut.warn(Dr.join(" "))}Yn(new d.wA(`${ln}-version`,()=>({library:ln,version:Ye}),"VERSION"))}const Yt="firebase-heartbeat-database",nn=1,Be="firebase-heartbeat-store";let he=null;function de(){return he||(he=function Re(Ve,Ye,{blocked:ft,upgrade:Et,blocking:ln,terminated:hn}={}){const On=indexedDB.open(Ve,Ye),Dr=ne(On);return Et&&On.addEventListener("upgradeneeded",Zn=>{Et(ne(On.result),Zn.oldVersion,Zn.newVersion,ne(On.transaction),Zn)}),ft&&On.addEventListener("blocked",Zn=>ft(Zn.oldVersion,Zn.newVersion,Zn)),Dr.then(Zn=>{hn&&Zn.addEventListener("close",()=>hn()),ln&&Zn.addEventListener("versionchange",nr=>ln(nr.oldVersion,nr.newVersion,nr))}).catch(()=>{}),Dr}(Yt,nn,{upgrade:(Ve,Ye)=>{0===Ye&&Ve.createObjectStore(Be)}}).catch(Ve=>{throw Rn.create("idb-open",{originalErrorMessage:Ve.message})})),he}function Ce(){return(Ce=(0,c.Z)(function*(Ve){try{return yield(yield de()).transaction(Be).objectStore(Be).get(tt(Ve))}catch(Ye){if(Ye instanceof U.ZR)ut.warn(Ye.message);else{const ft=Rn.create("idb-get",{originalErrorMessage:null==Ye?void 0:Ye.message});ut.warn(ft.message)}}})).apply(this,arguments)}function pt(Ve,Ye){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(Ve,Ye){try{const Et=(yield de()).transaction(Be,"readwrite");yield Et.objectStore(Be).put(Ye,tt(Ve)),yield Et.done}catch(ft){if(ft instanceof U.ZR)ut.warn(ft.message);else{const Et=Rn.create("idb-set",{originalErrorMessage:null==ft?void 0:ft.message});ut.warn(Et.message)}}})).apply(this,arguments)}function tt(Ve){return`${Ve.name}!${Ve.options.appId}`}class Jt{constructor(Ye){this.container=Ye,this._heartbeatsCache=null;const ft=this.container.getProvider("app").getImmediate();this._storage=new gt(ft),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ye=this;return(0,c.Z)(function*(){const Et=Ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ln=Zt();if(null===Ye._heartbeatsCache&&(Ye._heartbeatsCache=yield Ye._heartbeatsCachePromise),Ye._heartbeatsCache.lastSentHeartbeatDate!==ln&&!Ye._heartbeatsCache.heartbeats.some(hn=>hn.date===ln))return Ye._heartbeatsCache.heartbeats.push({date:ln,agent:Et}),Ye._heartbeatsCache.heartbeats=Ye._heartbeatsCache.heartbeats.filter(hn=>{const On=new Date(hn.date).valueOf();return Date.now()-On<=2592e6}),Ye._storage.overwrite(Ye._heartbeatsCache)})()}getHeartbeatsHeader(){var Ye=this;return(0,c.Z)(function*(){if(null===Ye._heartbeatsCache&&(yield Ye._heartbeatsCachePromise),null===Ye._heartbeatsCache||0===Ye._heartbeatsCache.heartbeats.length)return"";const ft=Zt(),{heartbeatsToSend:Et,unsentEntries:ln}=function bn(Ve,Ye=1024){const ft=[];let Et=Ve.slice();for(const ln of Ve){const hn=ft.find(On=>On.agent===ln.agent);if(hn){if(hn.dates.push(ln.date),Ge(ft)>Ye){hn.dates.pop();break}}else if(ft.push({agent:ln.agent,dates:[ln.date]}),Ge(ft)>Ye){ft.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:ft,unsentEntries:Et}}(Ye._heartbeatsCache.heartbeats),hn=(0,U.L)(JSON.stringify({version:2,heartbeats:Et}));return Ye._heartbeatsCache.lastSentHeartbeatDate=ft,ln.length>0?(Ye._heartbeatsCache.heartbeats=ln,yield Ye._storage.overwrite(Ye._heartbeatsCache)):(Ye._heartbeatsCache.heartbeats=[],Ye._storage.overwrite(Ye._heartbeatsCache)),hn})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class gt{constructor(Ye){this.app=Ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,U.hl)()&&(0,U.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ye=this;return(0,c.Z)(function*(){return(yield Ye._canUseIndexedDBPromise)&&(yield function ve(Ve){return Ce.apply(this,arguments)}(Ye.app))||{heartbeats:[]}})()}overwrite(Ye){var ft=this;return(0,c.Z)(function*(){var Et;if(yield ft._canUseIndexedDBPromise){const hn=yield ft.read();return pt(ft.app,{lastSentHeartbeatDate:null!==(Et=Ye.lastSentHeartbeatDate)&&void 0!==Et?Et:hn.lastSentHeartbeatDate,heartbeats:Ye.heartbeats})}})()}add(Ye){var ft=this;return(0,c.Z)(function*(){var Et;if(yield ft._canUseIndexedDBPromise){const hn=yield ft.read();return pt(ft.app,{lastSentHeartbeatDate:null!==(Et=Ye.lastSentHeartbeatDate)&&void 0!==Et?Et:hn.lastSentHeartbeatDate,heartbeats:[...hn.heartbeats,...Ye.heartbeats]})}})()}}function Ge(Ve){return(0,U.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function qe(Ve){Yn(new d.wA("platform-logger",Ye=>new Ue(Ye),"PRIVATE")),Yn(new d.wA("heartbeat",Ye=>new Jt(Ye),"PRIVATE")),Nt(Pe,"0.9.13",Ve),Nt(Pe,"0.9.13","esm2017"),Nt("fire-js","")}("")},4537:(lt,rt,C)=>{"use strict";C.d(rt,{H0:()=>N,wA:()=>Y});var c=C(5861),d=C(9058);class Y{constructor(_,A,S){this.name=_,this.instanceFactory=A,this.type=S,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_){return this.instantiationMode=_,this}setMultipleInstances(_){return this.multipleInstances=_,this}setServiceProps(_){return this.serviceProps=_,this}setInstanceCreatedCallback(_){return this.onInstanceCreated=_,this}}const U="[DEFAULT]";class W{constructor(_,A){this.name=_,this.container=A,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_){const A=this.normalizeInstanceIdentifier(_);if(!this.instancesDeferred.has(A)){const S=new d.BH;if(this.instancesDeferred.set(A,S),this.isInitialized(A)||this.shouldAutoInitialize())try{const P=this.getOrInitializeService({instanceIdentifier:A});P&&S.resolve(P)}catch{}}return this.instancesDeferred.get(A).promise}getImmediate(_){var A;const S=this.normalizeInstanceIdentifier(null==_?void 0:_.identifier),P=null!==(A=null==_?void 0:_.optional)&&void 0!==A&&A;if(!this.isInitialized(S)&&!this.shouldAutoInitialize()){if(P)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:S})}catch(H){if(P)return null;throw H}}getComponent(){return this.component}setComponent(_){if(_.name!==this.name)throw Error(`Mismatching Component ${_.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_,this.shouldAutoInitialize()){if(function O(M){return"EAGER"===M.instantiationMode}(_))try{this.getOrInitializeService({instanceIdentifier:U})}catch{}for(const[A,S]of this.instancesDeferred.entries()){const P=this.normalizeInstanceIdentifier(A);try{const H=this.getOrInitializeService({instanceIdentifier:P});S.resolve(H)}catch{}}}}clearInstance(_=U){this.instancesDeferred.delete(_),this.instancesOptions.delete(_),this.instances.delete(_)}delete(){var _=this;return(0,c.Z)(function*(){const A=Array.from(_.instances.values());yield Promise.all([...A.filter(S=>"INTERNAL"in S).map(S=>S.INTERNAL.delete()),...A.filter(S=>"_delete"in S).map(S=>S._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_=U){return this.instances.has(_)}getOptions(_=U){return this.instancesOptions.get(_)||{}}initialize(_={}){const{options:A={}}=_,S=this.normalizeInstanceIdentifier(_.instanceIdentifier);if(this.isInitialized(S))throw Error(`${this.name}(${S}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const P=this.getOrInitializeService({instanceIdentifier:S,options:A});for(const[H,X]of this.instancesDeferred.entries())S===this.normalizeInstanceIdentifier(H)&&X.resolve(P);return P}onInit(_,A){var S;const P=this.normalizeInstanceIdentifier(A),H=null!==(S=this.onInitCallbacks.get(P))&&void 0!==S?S:new Set;H.add(_),this.onInitCallbacks.set(P,H);const X=this.instances.get(P);return X&&_(X,P),()=>{H.delete(_)}}invokeOnInitCallbacks(_,A){const S=this.onInitCallbacks.get(A);if(S)for(const P of S)try{P(_,A)}catch{}}getOrInitializeService({instanceIdentifier:_,options:A={}}){let S=this.instances.get(_);if(!S&&this.component&&(S=this.component.instanceFactory(this.container,{instanceIdentifier:(M=_,M===U?void 0:M),options:A}),this.instances.set(_,S),this.instancesOptions.set(_,A),this.invokeOnInitCallbacks(S,_),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_,S)}catch{}var M;return S||null}normalizeInstanceIdentifier(_=U){return this.component?this.component.multipleInstances?_:U:_}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class N{constructor(_){this.name=_,this.providers=new Map}addComponent(_){const A=this.getProvider(_.name);if(A.isComponentSet())throw new Error(`Component ${_.name} has already been registered with ${this.name}`);A.setComponent(_)}addOrOverwriteComponent(_){this.getProvider(_.name).isComponentSet()&&this.providers.delete(_.name),this.addComponent(_)}getProvider(_){if(this.providers.has(_))return this.providers.get(_);const A=new W(_,this);return this.providers.set(_,A),A}getProviders(){return Array.from(this.providers.values())}}},2591:(lt,rt,C)=>{"use strict";var c=C(5861),d=C(534),Y=C(4537),U=C(9058);const W=(q,ge)=>ge.some(Oe=>q instanceof Oe);let V,O;const _=new WeakMap,A=new WeakMap,S=new WeakMap,P=new WeakMap,H=new WeakMap;let pe={get(q,ge,Oe){if(q instanceof IDBTransaction){if("done"===ge)return A.get(q);if("objectStoreNames"===ge)return q.objectStoreNames||S.get(q);if("store"===ge)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return ne(q[ge])},set:(q,ge,Oe)=>(q[ge]=Oe,!0),has:(q,ge)=>q instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in q};function we(q){return"function"==typeof q?function Me(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function M(){return O||(O=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...ge){return q.apply(ye(this),ge),ne(_.get(this))}:function(...ge){return ne(q.apply(ye(this),ge))}:function(ge,...Oe){const nt=q.call(ye(this),ge,...Oe);return S.set(nt,ge.sort?ge.sort():[ge]),ne(nt)}}(q):(q instanceof IDBTransaction&&function be(q){if(A.has(q))return;const ge=new Promise((Oe,nt)=>{const vt=()=>{q.removeEventListener("complete",xt),q.removeEventListener("error",Lt),q.removeEventListener("abort",Lt)},xt=()=>{Oe(),vt()},Lt=()=>{nt(q.error||new DOMException("AbortError","AbortError")),vt()};q.addEventListener("complete",xt),q.addEventListener("error",Lt),q.addEventListener("abort",Lt)});A.set(q,ge)}(q),W(q,function N(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,pe):q)}function ne(q){if(q instanceof IDBRequest)return function X(q){const ge=new Promise((Oe,nt)=>{const vt=()=>{q.removeEventListener("success",xt),q.removeEventListener("error",Lt)},xt=()=>{Oe(ne(q.result)),vt()},Lt=()=>{nt(q.error),vt()};q.addEventListener("success",xt),q.addEventListener("error",Lt)});return ge.then(Oe=>{Oe instanceof IDBCursor&&_.set(Oe,q)}).catch(()=>{}),H.set(ge,q),ge}(q);if(P.has(q))return P.get(q);const ge=we(q);return ge!==q&&(P.set(q,ge),H.set(ge,q)),ge}const ye=q=>H.get(q),Ae=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],st=new Map;function it(q,ge){if(!(q instanceof IDBDatabase)||ge in q||"string"!=typeof ge)return;if(st.get(ge))return st.get(ge);const Oe=ge.replace(/FromIndex$/,""),nt=ge!==Oe,vt=Ee.includes(Oe);if(!(Oe in(nt?IDBIndex:IDBObjectStore).prototype)||!vt&&!Ae.includes(Oe))return;const xt=function(){var Lt=(0,c.Z)(function*(cn,...Pn){const Jn=this.transaction(cn,vt?"readwrite":"readonly");let Or=Jn.store;return nt&&(Or=Or.index(Pn.shift())),(yield Promise.all([Or[Oe](...Pn),vt&&Jn.done]))[0]});return function(Pn){return Lt.apply(this,arguments)}}();return st.set(ge,xt),xt}!function se(q){pe=q(pe)}(q=>({...q,get:(ge,Oe,nt)=>it(ge,Oe)||q.get(ge,Oe,nt),has:(ge,Oe)=>!!it(ge,Oe)||q.has(ge,Oe)}));const Ue="@firebase/installations",Ie="0.6.4",Pe=1e4,Je=`w:${Ie}`,ut="FIS_v2",$t="https://firebaseinstallations.googleapis.com/v1",mt=36e5,Xe=new U.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(q){return q instanceof U.ZR&&q.code.includes("request-failed")}function St({projectId:q}){return`${$t}/projects/${q}/installations`}function zt(q){return{token:q.token,requestStatus:2,expiresIn:an(q.expiresIn),creationTime:Date.now()}}function Qt(q,ge){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(q,ge){const nt=(yield ge.json()).error;return Xe.create("request-failed",{requestName:q,serverCode:nt.code,serverMessage:nt.message,serverStatus:nt.status})})).apply(this,arguments)}function Rt({apiKey:q}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":q})}function Pt(q){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(q){const ge=yield q();return ge.status>=500&&ge.status<600?q():ge})).apply(this,arguments)}function an(q){return Number(q.replace("s","000"))}function Tt(){return(Tt=(0,c.Z)(function*({appConfig:q,heartbeatServiceProvider:ge},{fid:Oe}){const nt=St(q),vt=Rt(q),xt=ge.getImmediate({optional:!0});if(xt){const Jn=yield xt.getHeartbeatsHeader();Jn&&vt.append("x-firebase-client",Jn)}const cn={method:"POST",headers:vt,body:JSON.stringify({fid:Oe,authVersion:ut,appId:q.appId,sdkVersion:Je})},Pn=yield Pt(()=>fetch(nt,cn));if(Pn.ok){const Jn=yield Pn.json();return{fid:Jn.fid||Oe,registrationStatus:2,refreshToken:Jn.refreshToken,authToken:zt(Jn.authToken)}}throw yield Qt("Create Installation",Pn)})).apply(this,arguments)}function gn(q){return new Promise(ge=>{setTimeout(ge,q)})}const Ln=/^[cdef][\w-]{21}$/,Sn="";function vr(){try{const q=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(q),q[0]=112+q[0]%16;const Oe=function Gn(q){return function or(q){return btoa(String.fromCharCode(...q)).replace(/\+/g,"-").replace(/\//g,"_")}(q).substr(0,22)}(q);return Ln.test(Oe)?Oe:Sn}catch{return Sn}}function tr(q){return`${q.appName}!${q.appId}`}const fn=new Map;function mn(q,ge){const Oe=tr(q);An(Oe,ge),function Yn(q,ge){const Oe=function sr(){return!Ft&&"BroadcastChannel"in self&&(Ft=new BroadcastChannel("[Firebase] FID Change"),Ft.onmessage=q=>{An(q.data.key,q.data.fid)}),Ft}();Oe&&Oe.postMessage({key:q,fid:ge}),function on(){0===fn.size&&Ft&&(Ft.close(),Ft=null)}()}(Oe,ge)}function An(q,ge){const Oe=fn.get(q);if(Oe)for(const nt of Oe)nt(ge)}let Ft=null;const Tr="firebase-installations-database",Rn=1,Mn="firebase-installations-store";let jn=null;function zr(){return jn||(jn=function Re(q,ge,{blocked:Oe,upgrade:nt,blocking:vt,terminated:xt}={}){const Lt=indexedDB.open(q,ge),cn=ne(Lt);return nt&&Lt.addEventListener("upgradeneeded",Pn=>{nt(ne(Lt.result),Pn.oldVersion,Pn.newVersion,ne(Lt.transaction))}),Oe&&Lt.addEventListener("blocked",()=>Oe()),cn.then(Pn=>{xt&&Pn.addEventListener("close",()=>xt()),vt&&Pn.addEventListener("versionchange",()=>vt())}).catch(()=>{}),cn}(Tr,Rn,{upgrade:(q,ge)=>{0===ge&&q.createObjectStore(Mn)}})),jn}function Wn(q,ge){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(q,ge){const Oe=tr(q),vt=(yield zr()).transaction(Mn,"readwrite"),xt=vt.objectStore(Mn),Lt=yield xt.get(Oe);return yield xt.put(ge,Oe),yield vt.done,(!Lt||Lt.fid!==ge.fid)&&mn(q,ge.fid),ge})).apply(this,arguments)}function We(q){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(q){const ge=tr(q),nt=(yield zr()).transaction(Mn,"readwrite");yield nt.objectStore(Mn).delete(ge),yield nt.done})).apply(this,arguments)}function Nt(q,ge){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(q,ge){const Oe=tr(q),vt=(yield zr()).transaction(Mn,"readwrite"),xt=vt.objectStore(Mn),Lt=yield xt.get(Oe),cn=ge(Lt);return void 0===cn?yield xt.delete(Oe):yield xt.put(cn,Oe),yield vt.done,cn&&(!Lt||Lt.fid!==cn.fid)&&mn(q,cn.fid),cn})).apply(this,arguments)}function Gt(q){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,c.Z)(function*(q){let ge;const Oe=yield Nt(q.appConfig,nt=>{const vt=function nn(q){return Ot(q||{fid:vr(),registrationStatus:0})}(nt),xt=function Be(q,ge){if(0===ge.registrationStatus){if(!navigator.onLine)return{installationEntry:ge,registrationPromise:Promise.reject(Xe.create("app-offline"))};const Oe={fid:ge.fid,registrationStatus:1,registrationTime:Date.now()},nt=function he(q,ge){return de.apply(this,arguments)}(q,Oe);return{installationEntry:Oe,registrationPromise:nt}}return 1===ge.registrationStatus?{installationEntry:ge,registrationPromise:ve(q)}:{installationEntry:ge}}(q,vt);return ge=xt.registrationPromise,xt.installationEntry});return Oe.fid===Sn?{installationEntry:yield ge}:{installationEntry:Oe,registrationPromise:ge}}),Yt.apply(this,arguments)}function de(){return de=(0,c.Z)(function*(q,ge){try{const Oe=yield function vn(q,ge){return Tt.apply(this,arguments)}(q,ge);return Wn(q.appConfig,Oe)}catch(Oe){throw dt(Oe)&&409===Oe.customData.serverCode?yield We(q.appConfig):yield Wn(q.appConfig,{fid:ge.fid,registrationStatus:0}),Oe}}),de.apply(this,arguments)}function ve(q){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,c.Z)(function*(q){let ge=yield pt(q.appConfig);for(;1===ge.registrationStatus;)yield gn(100),ge=yield pt(q.appConfig);if(0===ge.registrationStatus){const{installationEntry:Oe,registrationPromise:nt}=yield Gt(q);return nt||Oe}return ge})).apply(this,arguments)}function pt(q){return Nt(q,ge=>{if(!ge)throw Xe.create("installation-not-found");return Ot(ge)})}function Ot(q){return function tt(q){return 1===q.registrationStatus&&q.registrationTime+Pe<Date.now()}(q)?{fid:q.fid,registrationStatus:0}:q}function kt(){return(kt=(0,c.Z)(function*({appConfig:q,heartbeatServiceProvider:ge},Oe){const nt=function Jt(q,{fid:ge}){return`${St(q)}/${ge}/authTokens:generate`}(q,Oe),vt=function Ct(q,{refreshToken:ge}){const Oe=Rt(q);return Oe.append("Authorization",function In(q){return`${ut} ${q}`}(ge)),Oe}(q,Oe),xt=ge.getImmediate({optional:!0});if(xt){const Jn=yield xt.getHeartbeatsHeader();Jn&&vt.append("x-firebase-client",Jn)}const cn={method:"POST",headers:vt,body:JSON.stringify({installation:{sdkVersion:Je,appId:q.appId}})},Pn=yield Pt(()=>fetch(nt,cn));if(Pn.ok)return zt(yield Pn.json());throw yield Qt("Generate Auth Token",Pn)})).apply(this,arguments)}function Zt(q){return bn.apply(this,arguments)}function bn(){return bn=(0,c.Z)(function*(q,ge=!1){let Oe;const nt=yield Nt(q.appConfig,xt=>{if(!ft(xt))throw Xe.create("not-registered");const Lt=xt.authToken;if(!ge&&function Et(q){return 2===q.requestStatus&&!function ln(q){const ge=Date.now();return ge<q.creationTime||q.creationTime+q.expiresIn<ge+mt}(q)}(Lt))return xt;if(1===Lt.requestStatus)return Oe=function gt(q,ge){return Ge.apply(this,arguments)}(q,ge),xt;{if(!navigator.onLine)throw Xe.create("app-offline");const cn=function hn(q){const ge={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},q),{authToken:ge})}(xt);return Oe=function Ve(q,ge){return Ye.apply(this,arguments)}(q,cn),cn}});return Oe?yield Oe:nt.authToken}),bn.apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(q,ge){let Oe=yield qe(q.appConfig);for(;1===Oe.authToken.requestStatus;)yield gn(100),Oe=yield qe(q.appConfig);const nt=Oe.authToken;return 0===nt.requestStatus?Zt(q,ge):nt})).apply(this,arguments)}function qe(q){return Nt(q,ge=>{if(!ft(ge))throw Xe.create("not-registered");return function On(q){return 1===q.requestStatus&&q.requestTime+Pe<Date.now()}(ge.authToken)?Object.assign(Object.assign({},ge),{authToken:{requestStatus:0}}):ge})}function Ye(){return Ye=(0,c.Z)(function*(q,ge){try{const Oe=yield function _t(q,ge){return kt.apply(this,arguments)}(q,ge),nt=Object.assign(Object.assign({},ge),{authToken:Oe});return yield Wn(q.appConfig,nt),Oe}catch(Oe){if(!dt(Oe)||401!==Oe.customData.serverCode&&404!==Oe.customData.serverCode){const nt=Object.assign(Object.assign({},ge),{authToken:{requestStatus:0}});yield Wn(q.appConfig,nt)}else yield We(q.appConfig);throw Oe}}),Ye.apply(this,arguments)}function ft(q){return void 0!==q&&2===q.registrationStatus}function Zn(){return(Zn=(0,c.Z)(function*(q){const ge=q,{installationEntry:Oe,registrationPromise:nt}=yield Gt(ge);return nt?nt.catch(console.error):Zt(ge).catch(console.error),Oe.fid})).apply(this,arguments)}function yr(){return yr=(0,c.Z)(function*(q,ge=!1){const Oe=q;return yield function Kn(q){return dr.apply(this,arguments)}(Oe),(yield Zt(Oe,ge)).token}),yr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(q){const{registrationPromise:ge}=yield Gt(q);ge&&(yield ge)})).apply(this,arguments)}function Ci(q){return Xe.create("missing-app-config-values",{valueName:q})}const ci="installations",Q=q=>{const ge=q.getProvider("app").getImmediate(),Oe=function wi(q){if(!q||!q.options)throw Ci("App Configuration");if(!q.name)throw Ci("App Name");const ge=["projectId","apiKey","appId"];for(const Oe of ge)if(!q.options[Oe])throw Ci(Oe);return{appName:q.name,projectId:q.options.projectId,apiKey:q.options.apiKey,appId:q.options.appId}}(ge);return{app:ge,appConfig:Oe,heartbeatServiceProvider:(0,d.qX)(ge,"heartbeat"),_delete:()=>Promise.resolve()}},ue=q=>{const ge=q.getProvider("app").getImmediate(),Oe=(0,d.qX)(ge,ci).getImmediate();return{getId:()=>function Dr(q){return Zn.apply(this,arguments)}(Oe),getToken:vt=>function nr(q){return yr.apply(this,arguments)}(Oe,vt)}};(function ae(){(0,d.Xd)(new Y.wA(ci,Q,"PUBLIC")),(0,d.Xd)(new Y.wA("installations-internal",ue,"PRIVATE"))})(),(0,d.KN)(Ue,Ie),(0,d.KN)(Ue,Ie,"esm2017")},7879:(lt,rt,C)=>{"use strict";C.d(rt,{Yd:()=>O,in:()=>d});const c=[];var d=(()=>((d=d||{})[d.DEBUG=0]="DEBUG",d[d.VERBOSE=1]="VERBOSE",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.SILENT=5]="SILENT",d))();const Y={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},U=d.INFO,W={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},V=(_,A,...S)=>{if(A<_.logLevel)return;const P=(new Date).toISOString(),H=W[A];if(!H)throw new Error(`Attempted to log a message with an invalid logType (value: ${A})`);console[H](`[${P}]  ${_.name}:`,...S)};class O{constructor(A){this.name=A,this._logLevel=U,this._logHandler=V,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in d))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel="string"==typeof A?Y[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if("function"!=typeof A)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(...A){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...A),this._logHandler(this,d.DEBUG,...A)}log(...A){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...A),this._logHandler(this,d.VERBOSE,...A)}info(...A){this._userLogHandler&&this._userLogHandler(this,d.INFO,...A),this._logHandler(this,d.INFO,...A)}warn(...A){this._userLogHandler&&this._userLogHandler(this,d.WARN,...A),this._logHandler(this,d.WARN,...A)}error(...A){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...A),this._logHandler(this,d.ERROR,...A)}}},5548:(lt,rt,C)=>{"use strict";C.d(rt,{Br:()=>si,dr:()=>Mn,YG:()=>Nt,Sm:()=>bt,PM:()=>Gt,FN:()=>Yt,Zi:()=>nn,tO:()=>Be,Dq:()=>he,W2:()=>pt,x4:()=>Ot,Mj:()=>tt,Gu:()=>gt,gu:()=>Ge,pK:()=>ft,Ie:()=>Et,u8:()=>On,IK:()=>Dr,td:()=>Zn,Q$:()=>nr,q_:()=>yr,ki:()=>ji,uN:()=>Wr,Nh:()=>ae,oz:()=>q,jP:()=>yo,t9:()=>Lt,n0:()=>cn,yq:()=>Bi,ZU:()=>ui,UN:()=>Bs,wd:()=>di,sr:()=>ni,Pc:()=>ta,r4:()=>Bo,HT:()=>Ji,IN:()=>_s,up:()=>uo,t4:()=>Vi,YI:()=>oi,QI:()=>fn,j9:()=>mn,yF:()=>jo});var c=C(5861),d=C(6689),Y=C(95),U=C(7582),W=C(4829),V=C(5592),O=C(1631),N=C(4266),M=C(4674),_=C(7400);const A=["addListener","removeListener"],S=["addEventListener","removeEventListener"],P=["on","off"];function H(w,ie,f,v){if((0,M.m)(f)&&(v=f,f=void 0),v)return H(w,ie,f).pipe((0,_.Z)(v));const[p,x]=function se(w){return(0,M.m)(w.addEventListener)&&(0,M.m)(w.removeEventListener)}(w)?S.map(fe=>ze=>w[fe](ie,ze,f)):function be(w){return(0,M.m)(w.addListener)&&(0,M.m)(w.removeListener)}(w)?A.map(X(w,ie)):function pe(w){return(0,M.m)(w.on)&&(0,M.m)(w.off)}(w)?P.map(X(w,ie)):[];if(!p&&(0,N.z)(w))return(0,O.z)(fe=>H(fe,ie,f))((0,W.Xf)(w));if(!p)throw new TypeError("Invalid event target");return new V.y(fe=>{const ze=(...wt)=>fe.next(1<wt.length?wt:wt[0]);return p(ze),()=>x(ze)})}function X(w,ie){return f=>v=>w[f](ie,v)}var Me=C(8645),we=C(5619),ne=C(2607),Ee=(C(6506),C(8899),C(5298),C(8077),C(7876)),st=C(544),it=C(6219),Ue=C(8354),Pe=(C(1767),C(645)),$t=(C(7643),C(4587),C(6953)),De=C(2181),Le=C(4664),He=C(3997),Xe=C(6814);const St=Ee.i,ht=["*"],Rt=["outlet"],Ct=["tabsInner"],Pt=[[["","slot","top"]],"*"],Wt=["[slot=top]","*"];function an(w,ie){if(1&w&&(d.TgZ(0,"div",1),d.GkF(1,2),d.qZA()),2&w){const f=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",f.template)}}const vn=w=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(w):"function"==typeof requestAnimationFrame?requestAnimationFrame(w):setTimeout(w);let Tt=(()=>{class w{constructor(f,v){this.injector=f,this.el=v,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(f){this.el.nativeElement.value=this.lastValue=f,gn(this.el)}handleValueChange(f,v){f===this.el.nativeElement&&(v!==this.lastValue&&(this.lastValue=v,this.onChange(v)),gn(this.el))}_handleBlurEvent(f){f===this.el.nativeElement&&(this.onTouched(),gn(this.el))}registerOnChange(f){this.onChange=f}registerOnTouched(f){this.onTouched=f}setDisabledState(f){this.el.nativeElement.disabled=f}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let f;try{f=this.injector.get(Y.a5)}catch{}if(!f)return;f.statusChanges&&(this.statusChanges=f.statusChanges.subscribe(()=>gn(this.el)));const v=f.control;v&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(x=>{if(typeof v[x]<"u"){const fe=v[x].bind(v);v[x]=(...ze)=>{fe(...ze),gn(this.el)}}})}}return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.zs3),d.Y36(d.SBq))},w.\u0275dir=d.lG2({type:w,hostBindings:function(f,v){1&f&&d.NdJ("ionBlur",function(x){return v._handleBlurEvent(x.target)})}}),w})();const gn=w=>{vn(()=>{const ie=w.nativeElement,f=null!=ie.value&&ie.value.toString().length>0,v=or(ie);Ln(ie,v);const p=ie.closest("ion-item");p&&Ln(p,f?[...v,"item-has-value"]:v)})},or=w=>{const ie=w.classList,f=[];for(let v=0;v<ie.length;v++){const p=ie.item(v);null!==p&&Sn(p,"ng-")&&f.push(`ion-${p.substring(3)}`)}return f},Ln=(w,ie)=>{const f=w.classList;f.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),f.add(...ie)},Sn=(w,ie)=>w.substring(0,ie.length)===ie;let fn=(()=>{class w extends Tt{constructor(f,v){super(f,v)}_handleChangeEvent(f){this.handleValueChange(f,f.value)}}return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.zs3),d.Y36(d.SBq))},w.\u0275dir=d.lG2({type:w,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(f,v){1&f&&d.NdJ("ionChange",function(x){return v._handleChangeEvent(x.target)})},features:[d._Bn([{provide:Y.JU,useExisting:w,multi:!0}]),d.qOj]}),w})(),mn=(()=>{class w extends Tt{constructor(f,v){super(f,v)}_handleInputEvent(f){this.handleValueChange(f,f.value)}}return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.zs3),d.Y36(d.SBq))},w.\u0275dir=d.lG2({type:w,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(f,v){1&f&&d.NdJ("ionInput",function(x){return v._handleInputEvent(x.target)})},features:[d._Bn([{provide:Y.JU,useExisting:w,multi:!0}]),d.qOj]}),w})();const _r=(w,ie)=>{const f=w.prototype;ie.forEach(v=>{Object.defineProperty(f,v,{get(){return this.el[v]},set(p){this.z.runOutsideAngular(()=>this.el[v]=p)}})})},pr=(w,ie)=>{const f=w.prototype;ie.forEach(v=>{f[v]=function(){const p=arguments;return this.z.runOutsideAngular(()=>this.el[v].apply(this.el,p))}})},An=(w,ie,f)=>{f.forEach(v=>w[v]=H(ie,v))};function Ft(w){return function(f){const{defineCustomElementFn:v,inputs:p,methods:x}=w;return void 0!==v&&v(),p&&_r(f,p),x&&pr(f,x),f}}let Mn=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-app"]],ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({})],w),w})(),Nt=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement,An(this,this.el,["ionFocus","ionBlur"])}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],w),w})(),bt=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["collapse"]})],w),w})(),Gt=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],w),w})(),Yt=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["mode"]})],w),w})(),nn=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","mode","translucent"]})],w),w})(),Be=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","mode"]})],w),w})(),he=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","mode"]})],w),w})(),pt=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement,An(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],w),w})(),Ot=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement,An(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],w),w})(),tt=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-datetime-button"]],inputs:{color:"color",datetime:"datetime",disabled:"disabled",mode:"mode"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","datetime","disabled","mode"]})],w),w})(),gt=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["collapse","mode","translucent"]})],w),w})(),Ge=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],w),w})(),ft=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement,An(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],w),w})(),Et=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],w),w})(),On=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],w),w})(),Dr=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement,An(this,this.el,["ionSwipe"])}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["side"]})],w),w})(),Zn=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement,An(this,this.el,["ionDrag"])}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],w),w})(),nr=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","mode","position"]})],w),w})(),yr=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],w),w})(),Wr=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","mode"]})],w),w})(),ae=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-reorder"]],ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({})],w),w})(),q=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement,An(this,this.el,["ionItemReorder"])}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-reorder-group"]],inputs:{disabled:"disabled"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["disabled"],methods:["complete"]})],w),w})(),Lt=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement,An(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],w),w})(),cn=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["disabled","value"]})],w),w})(),Bi=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","mode","selectedTab","translucent"]})],w),w})(),ui=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],w),w})(),di=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","size"]})],w),w})(),ni=(()=>{let w=class{constructor(f,v,p){this.z=p,f.detach(),this.el=v.nativeElement}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ht,decls:1,vars:0,template:function(f,v){1&f&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["color","mode"]})],w),w})(),to=(()=>{class w{get(f,v){const p=no();return p?p.get(f,v):null}getBoolean(f,v){const p=no();return!!p&&p.getBoolean(f,v)}getNumber(f,v){const p=no();return p?p.getNumber(f,v):0}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const wo=new d.OlP("USERCONFIG"),no=()=>{if(typeof window<"u"){const w=window.Ionic;if(null!=w&&w.config)return w.config}return null};let Vi=(()=>{class w{constructor(f,v){this.doc=f,this.backButton=new Me.x,this.keyboardDidShow=new Me.x,this.keyboardDidHide=new Me.x,this.pause=new Me.x,this.resume=new Me.x,this.resize=new Me.x,v.run(()=>{var p;let x;this.win=f.defaultView,this.backButton.subscribeWithPriority=function(fe,ze){return this.subscribe(wt=>wt.register(fe,jt=>v.run(()=>ze(jt))))},Xr(this.pause,f,"pause"),Xr(this.resume,f,"resume"),Xr(this.backButton,f,"ionBackButton"),Xr(this.resize,this.win,"resize"),Xr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Xr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(fe=>{x=fe}),null!==(p=this.win)&&void 0!==p&&p.cordova?f.addEventListener("deviceready",()=>{x("cordova")},{once:!0}):x("dom")})}is(f){return(0,Ee.a)(this.win,f)}platforms(){return(0,Ee.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(f){return Pr(this.win.location.href,f)}isLandscape(){return!this.isPortrait()}isPortrait(){var f,v;return null===(f=(v=this.win).matchMedia)||void 0===f?void 0:f.call(v,"(orientation: portrait)").matches}testUserAgent(f){const v=this.win.navigator;return!!(null!=v&&v.userAgent&&v.userAgent.indexOf(f)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return w.\u0275fac=function(f){return new(f||w)(d.LFG(Xe.K0),d.LFG(d.R0b))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Pr=(w,ie)=>{ie=ie.replace(/[[\]\\]/g,"\\$&");const v=new RegExp("[\\?&]"+ie+"=([^&#]*)").exec(w);return v?decodeURIComponent(v[1].replace(/\+/g," ")):null},Xr=(w,ie,f)=>{ie&&ie.addEventListener(f,v=>{w.next(null!=v?v.detail:void 0)})};let wn=(()=>{class w{constructor(f,v,p,x){this.location=v,this.serializer=p,this.router=x,this.direction=Kr,this.animated=ki,this.guessDirection="forward",this.lastNavId=-1,x&&x.events.subscribe(fe=>{if(fe instanceof ne.OD){const ze=fe.restoredState?fe.restoredState.navigationId:fe.id;this.guessDirection=ze<this.lastNavId?"back":"forward",this.guessAnimation=fe.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?fe.id:ze}}),f.backButton.subscribeWithPriority(0,fe=>{this.pop(),fe()})}navigateForward(f,v={}){return this.setDirection("forward",v.animated,v.animationDirection,v.animation),this.navigate(f,v)}navigateBack(f,v={}){return this.setDirection("back",v.animated,v.animationDirection,v.animation),this.navigate(f,v)}navigateRoot(f,v={}){return this.setDirection("root",v.animated,v.animationDirection,v.animation),this.navigate(f,v)}back(f={animated:!0,animationDirection:"back"}){return this.setDirection("back",f.animated,f.animationDirection,f.animation),this.location.back()}pop(){var f=this;return(0,c.Z)(function*(){let v=f.topOutlet;for(;v;){if(yield v.pop())return!0;v=v.parentOutlet}return!1})()}setDirection(f,v,p,x){this.direction=f,this.animated=cr(f,v,p),this.animationBuilder=x}setTopOutlet(f){this.topOutlet=f}consumeTransition(){let v,f="root";const p=this.animationBuilder;return"auto"===this.direction?(f=this.guessDirection,v=this.guessAnimation):(v=this.animated,f=this.direction),this.direction=Kr,this.animated=ki,this.animationBuilder=void 0,{direction:f,animation:v,animationBuilder:p}}navigate(f,v){if(Array.isArray(f))return this.router.navigate(f,v);{const p=this.serializer.parse(f.toString());return void 0!==v.queryParams&&(p.queryParams={...v.queryParams}),void 0!==v.fragment&&(p.fragment=v.fragment),this.router.navigateByUrl(p,v)}}}return w.\u0275fac=function(f){return new(f||w)(d.LFG(Vi),d.LFG(Xe.Ye),d.LFG(ne.Hx),d.LFG(ne.F0,8))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const cr=(w,ie,f)=>{if(!1!==ie){if(void 0!==f)return f;if("forward"===w||"back"===w)return w;if("root"===w&&!0===ie)return"forward"}},Kr="auto",ki=void 0;class Do{constructor(ie={}){this.data=ie}get(ie){return this.data[ie]}}let hi=(()=>{class w{constructor(){this.zone=(0,d.f3M)(d.R0b),this.applicationRef=(0,d.f3M)(d.z2F)}create(f,v,p){return new $o(f,v,this.applicationRef,this.zone,p)}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),w})();class $o{constructor(ie,f,v,p,x){this.environmentInjector=ie,this.injector=f,this.applicationRef=v,this.zone=p,this.elementReferenceKey=x,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ie,f,v,p){return this.zone.run(()=>new Promise(x=>{const fe={...v};void 0!==this.elementReferenceKey&&(fe[this.elementReferenceKey]=ie),x(_i(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ie,f,fe,p,this.elementReferenceKey))}))}removeViewFromDom(ie,f){return this.zone.run(()=>new Promise(v=>{const p=this.elRefMap.get(f);if(p){p.destroy(),this.elRefMap.delete(f);const x=this.elEventsMap.get(f);x&&(x(),this.elEventsMap.delete(f))}v()}))}}const _i=(w,ie,f,v,p,x,fe,ze,wt,jt,En)=>{const ur=d.zs3.create({providers:qi(wt),parent:f}),Ir=(0,d.LMc)(ze,{environmentInjector:ie,elementInjector:ur}),xr=Ir.instance,Cr=Ir.location.nativeElement;if(wt&&(En&&void 0!==xr[En]&&console.error(`[Ionic Error]: ${En} is a reserved property when using ${fe.tagName.toLowerCase()}. Rename or remove the "${En}" property from ${ze.name}.`),Object.assign(xr,wt)),jt)for(const vo of jt)Cr.classList.add(vo);const Sr=Ai(w,xr,Cr);return fe.appendChild(Cr),v.attachView(Ir.hostView),p.set(Cr,Ir),x.set(Cr,Sr),Cr},oo=[Ue.L,Ue.a,Ue.b,Ue.c,Ue.d],Ai=(w,ie,f)=>w.run(()=>{const v=oo.filter(p=>"function"==typeof ie[p]).map(p=>{const x=fe=>ie[p](fe.detail);return f.addEventListener(p,x),()=>f.removeEventListener(p,x)});return()=>v.forEach(p=>p())}),er=new d.OlP("NavParamsToken"),qi=w=>[{provide:er,useValue:w},{provide:Do,useFactory:Vo,deps:[er]}],Vo=w=>new Do(w),yi=(w,ie)=>((w=w.filter(f=>f.stackId!==ie.stackId)).push(ie),w),Gi=(w,ie)=>{const f=w.createUrlTree(["."],{relativeTo:ie});return w.serializeUrl(f)},ao=(w,ie)=>{if(!w)return;const f=mo(ie);for(let v=0;v<f.length;v++){if(v>=w.length)return f[v];if(f[v]!==w[v])return}},mo=w=>w.split("/").map(ie=>ie.trim()).filter(ie=>""!==ie),ro=w=>{w&&(w.ref.destroy(),w.unlistenEvents())};class Yo{constructor(ie,f,v,p,x,fe){this.containerEl=f,this.router=v,this.navCtrl=p,this.zone=x,this.location=fe,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ie?mo(ie):void 0}createView(ie,f){var v;const p=Gi(this.router,f),x=null==ie||null===(v=ie.location)||void 0===v?void 0:v.nativeElement,fe=Ai(this.zone,ie.instance,x);return{id:this.nextId++,stackId:ao(this.tabsPrefix,p),unlistenEvents:fe,element:x,ref:ie,url:p}}getExistingView(ie){const f=Gi(this.router,ie),v=this.views.find(p=>p.url===f);return v&&v.ref.changeDetectorRef.reattach(),v}setActive(ie){var f,v;const p=this.navCtrl.consumeTransition();let{direction:x,animation:fe,animationBuilder:ze}=p;const wt=this.activeView,jt=((w,ie)=>!ie||w.stackId!==ie.stackId)(ie,wt);jt&&(x="back",fe=void 0);const En=this.views.slice();let ur;const Ir=this.router;Ir.getCurrentNavigation?ur=Ir.getCurrentNavigation():null!==(f=Ir.navigations)&&void 0!==f&&f.value&&(ur=Ir.navigations.value),null!==(v=ur)&&void 0!==v&&null!==(v=v.extras)&&void 0!==v&&v.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const xr=this.views.includes(ie),Cr=this.insertView(ie,x);xr||ie.ref.changeDetectorRef.detectChanges();const Sr=ie.animationBuilder;return void 0===ze&&"back"===x&&!jt&&void 0!==Sr&&(ze=Sr),wt&&(wt.animationBuilder=ze),this.zone.runOutsideAngular(()=>this.wait(()=>(wt&&wt.ref.changeDetectorRef.detach(),ie.ref.changeDetectorRef.reattach(),this.transition(ie,wt,fe,this.canGoBack(1),!1,ze).then(()=>lo(ie,Cr,En,this.location,this.zone)).then(()=>({enteringView:ie,direction:x,animation:fe,tabSwitch:jt})))))}canGoBack(ie,f=this.getActiveStackId()){return this.getStack(f).length>ie}pop(ie,f=this.getActiveStackId()){return this.zone.run(()=>{const v=this.getStack(f);if(v.length<=ie)return Promise.resolve(!1);const p=v[v.length-ie-1];let x=p.url;const fe=p.savedData;if(fe){var ze;const jt=fe.get("primary");null!=jt&&null!==(ze=jt.route)&&void 0!==ze&&null!==(ze=ze._routerState)&&void 0!==ze&&ze.snapshot.url&&(x=jt.route._routerState.snapshot.url)}const{animationBuilder:wt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(x,{...p.savedExtras,animation:wt}).then(()=>!0)})}startBackTransition(){const ie=this.activeView;if(ie){const f=this.getStack(ie.stackId),v=f[f.length-2],p=v.animationBuilder;return this.wait(()=>this.transition(v,ie,"back",this.canGoBack(2),!0,p))}return Promise.resolve()}endBackTransition(ie){ie?(this.skipTransition=!0,this.pop(1)):this.activeView&&hr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ie){const f=this.getStack(ie);return f.length>0?f[f.length-1]:void 0}getRootUrl(ie){const f=this.getStack(ie);return f.length>0?f[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ro),this.activeView=void 0,this.views=[]}getStack(ie){return this.views.filter(f=>f.stackId===ie)}insertView(ie,f){return this.activeView=ie,this.views=((w,ie,f)=>"root"===f?yi(w,ie):"forward"===f?((w,ie)=>(w.indexOf(ie)>=0?w=w.filter(v=>v.stackId!==ie.stackId||v.id<=ie.id):w.push(ie),w))(w,ie):((w,ie)=>w.indexOf(ie)>=0?w.filter(v=>v.stackId!==ie.stackId||v.id<=ie.id):yi(w,ie))(w,ie))(this.views,ie,f),this.views.slice()}transition(ie,f,v,p,x,fe){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(f===ie)return Promise.resolve(!1);const ze=ie?ie.element:void 0,wt=f?f.element:void 0,jt=this.containerEl;return ze&&ze!==wt&&(ze.classList.add("ion-page"),ze.classList.add("ion-page-invisible"),ze.parentElement!==jt&&jt.appendChild(ze),jt.commit)?jt.commit(ze,wt,{duration:void 0===v?0:void 0,direction:v,showGoBack:p,progressAnimation:x,animationBuilder:fe}):Promise.resolve(!1)}wait(ie){var f=this;return(0,c.Z)(function*(){void 0!==f.runningTask&&(yield f.runningTask,f.runningTask=void 0);const v=f.runningTask=ie();return v.finally(()=>f.runningTask=void 0),v})()}}const lo=(w,ie,f,v,p)=>"function"==typeof requestAnimationFrame?new Promise(x=>{requestAnimationFrame(()=>{hr(w,ie,f,v,p),x()})}):Promise.resolve(),hr=(w,ie,f,v,p)=>{p.run(()=>f.filter(x=>!ie.includes(x)).forEach(ro)),ie.forEach(x=>{const ze=v.path().split("?")[0].split("#")[0];if(x!==w&&x.url!==ze){const wt=x.element;wt.setAttribute("aria-hidden","true"),wt.classList.add("ion-page-hidden"),x.ref.changeDetectorRef.detach()}})};let yo=(()=>{class w{constructor(f,v,p,x,fe,ze,wt,jt){this.parentOutlet=jt,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new we.X(null),this.stackEvents=new d.vpe,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.parentContexts=(0,d.f3M)(ne.y6),this.location=(0,d.f3M)(d.s_b),this.environmentInjector=(0,d.f3M)(d.lqb),this.config=(0,d.f3M)(to),this.navCtrl=(0,d.f3M)(wn),this.nativeEl=x.nativeElement,this.name=f||ne.eC,this.tabsPrefix="true"===v?Gi(fe,wt):void 0,this.stackCtrl=new Yo(this.tabsPrefix,this.nativeEl,fe,this.navCtrl,ze,p),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(f){this.nativeEl.animation=f}set animated(f){this.nativeEl.animated=f}set swipeGesture(f){this._swipeGesture=f,this.nativeEl.swipeHandler=f?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:v=>this.stackCtrl.endBackTransition(v)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const f=this.getContext();null!=f&&f.route&&this.activateWith(f.route,f.injector)}new Promise(f=>(0,st.c)(this.nativeEl,f)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(f,v){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const v=this.getContext();this.activatedView.savedData=new Map(v.children.contexts);const p=this.activatedView.savedData.get("primary");if(p&&v.route&&(p.route={...v.route}),this.activatedView.savedExtras={},v.route){const x=v.route.snapshot;this.activatedView.savedExtras.queryParams=x.queryParams,this.activatedView.savedExtras.fragment=x.fragment}}const f=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,v){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=f;let p,x=this.stackCtrl.getExistingView(f);if(x){p=this.activated=x.ref;const ze=x.savedData;ze&&(this.getContext().children.contexts=ze),this.updateActivatedRouteProxy(p.instance,f)}else{var fe;const ze=f._futureSnapshot,wt=this.parentContexts.getOrCreateContext(this.name).children,jt=new we.X(null),En=this.createActivatedRouteProxy(jt,f),ur=new vs(En,wt,this.location.injector),Ir=null!==(fe=ze.routeConfig.component)&&void 0!==fe?fe:ze.component;p=this.activated=this.location.createComponent(Ir,{index:this.location.length,injector:ur,environmentInjector:null!=v?v:this.environmentInjector}),jt.next(p.instance),x=this.stackCtrl.createView(this.activated,f),this.proxyMap.set(p.instance,En),this.currentActivatedRoute$.next({component:p.instance,activatedRoute:f})}this.activatedView=x,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(x).then(ze=>{this.activateEvents.emit(p.instance),this.stackEvents.emit(ze)})}canGoBack(f=1,v){return this.stackCtrl.canGoBack(f,v)}pop(f=1,v){return this.stackCtrl.pop(f,v)}getLastUrl(f){const v=this.stackCtrl.getLastUrl(f);return v?v.url:void 0}getLastRouteView(f){return this.stackCtrl.getLastUrl(f)}getRootView(f){return this.stackCtrl.getRootUrl(f)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(f,v){const p=new ne.gz;return p._futureSnapshot=v._futureSnapshot,p._routerState=v._routerState,p.snapshot=v.snapshot,p.outlet=v.outlet,p.component=v.component,p._paramMap=this.proxyObservable(f,"paramMap"),p._queryParamMap=this.proxyObservable(f,"queryParamMap"),p.url=this.proxyObservable(f,"url"),p.params=this.proxyObservable(f,"params"),p.queryParams=this.proxyObservable(f,"queryParams"),p.fragment=this.proxyObservable(f,"fragment"),p.data=this.proxyObservable(f,"data"),p}proxyObservable(f,v){return f.pipe((0,De.h)(p=>!!p),(0,Le.w)(p=>this.currentActivatedRoute$.pipe((0,De.h)(x=>null!==x&&x.component===p),(0,Le.w)(x=>x&&x.activatedRoute[v]),(0,He.x)())))}updateActivatedRouteProxy(f,v){const p=this.proxyMap.get(f);if(!p)throw new Error("Could not find activated route proxy for view");p._futureSnapshot=v._futureSnapshot,p._routerState=v._routerState,p.snapshot=v.snapshot,p.outlet=v.outlet,p.component=v.component,this.currentActivatedRoute$.next({component:f,activatedRoute:v})}}return w.\u0275fac=function(f){return new(f||w)(d.$8M("name"),d.$8M("tabs"),d.Y36(Xe.Ye),d.Y36(d.SBq),d.Y36(ne.F0),d.Y36(d.R0b),d.Y36(ne.gz),d.Y36(w,12))},w.\u0275dir=d.lG2({type:w,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),w})();class vs{constructor(ie,f,v){this.route=ie,this.childContexts=f,this.parent=v}get(ie,f){return ie===ne.gz?this.route:ie===ne.y6?this.childContexts:this.parent.get(ie,f)}}let Bs=(()=>{class w{constructor(f){this.navCtrl=f,this.ionTabsWillChange=new d.vpe,this.ionTabsDidChange=new d.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onPageSelected(f){const v=f.enteringView.stackId;f.tabSwitch&&void 0!==v&&(this.ionTabsWillChange.emit({tab:v}),this.tabBar&&(this.tabBar.selectedTab=v),this.ionTabsDidChange.emit({tab:v}))}select(f){const v="string"==typeof f,p=v?f:f.detail.tab,x=this.outlet.getActiveStackId()===p,fe=`${this.outlet.tabsPrefix}/${p}`;if(v||f.stopPropagation(),x){const ze=this.outlet.getActiveStackId(),wt=this.outlet.getLastRouteView(ze);if((null==wt?void 0:wt.url)===fe)return;const jt=this.outlet.getRootView(p);return this.navCtrl.navigateRoot(fe,{...jt&&fe===jt.url&&jt.savedExtras,animated:!0,animationDirection:"back"})}{const ze=this.outlet.getLastRouteView(p);return this.navCtrl.navigateRoot((null==ze?void 0:ze.url)||fe,{...null==ze?void 0:ze.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(f=>{const v=f.el.getAttribute("slot");v!==this.tabBarSlot&&(this.tabBarSlot=v,this.relocateTabBar())})}relocateTabBar(){const f=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(f):this.tabsInner.nativeElement.after(f)}}return w.\u0275fac=function(f){return new(f||w)(d.Y36(wn))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-tabs"]],contentQueries:function(f,v,p){if(1&f&&(d.Suo(p,Bi,5),d.Suo(p,Bi,4)),2&f){let x;d.iGM(x=d.CRH())&&(v.tabBar=x.first),d.iGM(x=d.CRH())&&(v.tabBars=x)}},viewQuery:function(f,v){if(1&f&&(d.Gf(Rt,5,yo),d.Gf(Ct,7,d.SBq)),2&f){let p;d.iGM(p=d.CRH())&&(v.outlet=p.first),d.iGM(p=d.CRH())&&(v.tabsInner=p.first)}},hostBindings:function(f,v){1&f&&d.NdJ("ionTabButtonClick",function(x){return v.select(x)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:Wt,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(f,v){1&f&&(d.F$t(Pt),d.Hsn(0),d.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),d.NdJ("stackEvents",function(x){return v.onPageSelected(x)}),d.qZA()(),d.Hsn(5,1))},dependencies:[yo],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),w})(),oi=(()=>{class w{constructor(f,v,p,x,fe){this.locationStrategy=f,this.navCtrl=v,this.elementRef=p,this.router=x,this.routerLink=fe,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var f;if(null!==(f=this.routerLink)&&void 0!==f&&f.urlTree){const v=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=v}}onClick(f){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),f.preventDefault()}}return w.\u0275fac=function(f){return new(f||w)(d.Y36(Xe.S$),d.Y36(wn),d.Y36(d.SBq),d.Y36(ne.F0),d.Y36(ne.rH,8))},w.\u0275dir=d.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(f,v){1&f&&d.NdJ("click",function(x){return v.onClick(x)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[d.TTD]}),w})(),ji=(()=>{let w=class{constructor(f,v,p){this.z=p,this.isCmpOpen=!1,this.el=v.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,f.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,f.detectChanges()}),An(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return w.\u0275fac=function(f){return new(f||w)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},w.\u0275cmp=d.Xpm({type:w,selectors:[["ion-modal"]],contentQueries:function(f,v,p){if(1&f&&d.Suo(p,d.Rgc,5),2&f){let x;d.iGM(x=d.CRH())&&(v.template=x.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(f,v){1&f&&d.YNc(0,an,2,1,"div",0),2&f&&d.Q6J("ngIf",v.isCmpOpen||v.keepContentsMounted)},dependencies:[Xe.O5,Xe.tP],encapsulation:2,changeDetection:0}),w=(0,U.gn)([Ft({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],w),w})();class Jr{constructor(ie){this.ctrl=ie}create(ie){return this.ctrl.create(ie||{})}dismiss(ie,f,v){return this.ctrl.dismiss(ie,f,v)}getTop(){return this.ctrl.getTop()}}let si=(()=>{class w extends Jr{constructor(){super(Pe.a)}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Ji=(()=>{class w extends Jr{constructor(){super(Pe.l)}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),uo=(()=>{class w extends Jr{constructor(){super(Pe.p)}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),_s=(()=>{class w extends Jr{constructor(){super(Pe.m),this.angularDelegate=(0,d.f3M)(hi),this.injector=(0,d.f3M)(d.zs3),this.environmentInjector=(0,d.f3M)(d.lqb)}create(f){return super.create({...f,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),w})(),Es=(()=>{class w extends Jr{constructor(){super(Pe.c),this.angularDelegate=(0,d.f3M)(hi),this.injector=(0,d.f3M)(d.zs3),this.environmentInjector=(0,d.f3M)(d.lqb)}create(f){return super.create({...f,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),w})(),jo=(()=>{class w extends Jr{constructor(){super(Pe.t)}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Bo{shouldDetach(ie){return!1}shouldAttach(ie){return!1}store(ie,f){}retrieve(ie){return null}shouldReuseRoute(ie,f){if(ie.routeConfig!==f.routeConfig)return!1;const v=ie.params,p=f.params,x=Object.keys(v),fe=Object.keys(p);if(x.length!==fe.length)return!1;for(const ze of x)if(p[ze]!==v[ze])return!1;return!0}}const ea=(w,ie,f)=>()=>{if(ie.defaultView&&typeof window<"u"){(0,it.s)({...w,_zoneGate:x=>f.run(x)});const p="__zone_symbol__addEventListener"in ie.body?"__zone_symbol__addEventListener":"addEventListener";return function dt(){var w=[];if(typeof window<"u"){var ie=window;(!ie.customElements||ie.Element&&(!ie.Element.prototype.closest||!ie.Element.prototype.matches||!ie.Element.prototype.remove||!ie.Element.prototype.getRootNode))&&w.push(C.e(6748).then(C.t.bind(C,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ie.NodeList&&!ie.NodeList.prototype.forEach||!ie.fetch||!function(){try{var v=new URL("b","http://a");return v.pathname="c%20d","http://a/c%20d"===v.href&&v.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&w.push(C.e(2214).then(C.t.bind(C,2668,23)))}return Promise.all(w)}().then(()=>((w,ie)=>typeof window>"u"?Promise.resolve():(0,$t.p)().then(()=>(St(),(0,$t.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ie))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:vn,jmp:x=>f.runOutsideAngular(x),ael(x,fe,ze,wt){x[p](fe,ze,wt)},rel(x,fe,ze,wt){x.removeEventListener(fe,ze,wt)}}))}};let ta=(()=>{class w{static forRoot(f){return{ngModule:w,providers:[{provide:wo,useValue:f},{provide:d.ip1,useFactory:ea,multi:!0,deps:[wo,Xe.K0,d.R0b]}]}}}return w.\u0275fac=function(f){return new(f||w)},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({providers:[hi,_s,Es],imports:[Xe.ez]}),w})()},5855:(lt,rt,C)=>{"use strict";C.d(rt,{IH:()=>Wn,Gb:()=>We,Kz:()=>de,Iv:()=>Yt});var c=C(5861),d=C(534),Y=C(7879),U=C(9058),W=C(4537);C(2591);const O="analytics",N="firebase_id",M="origin",_=6e4,A="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",S="https://www.googletagmanager.com/gtag/js",P=new Y.Yd("@firebase/analytics"),X=new U.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function be(tt){if(!tt.startsWith(S)){const _t=X.create("invalid-gtag-resource",{gtagURL:tt});return P.warn(_t.message),""}return tt}function pe(tt){return Promise.all(tt.map(_t=>_t.catch(kt=>kt)))}function ye(){return(ye=(0,c.Z)(function*(tt,_t,kt,Jt,Zt,bn){const gt=Jt[Zt];try{if(gt)yield _t[gt];else{const qe=(yield pe(kt)).find(Ve=>Ve.measurementId===Zt);qe&&(yield _t[qe.appId])}}catch(Ge){P.error(Ge)}tt("config",Zt,bn)})).apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(tt,_t,kt,Jt,Zt){try{let bn=[];if(Zt&&Zt.send_to){let gt=Zt.send_to;Array.isArray(gt)||(gt=[gt]);const Ge=yield pe(kt);for(const qe of gt){const Ve=Ge.find(ft=>ft.measurementId===qe),Ye=Ve&&_t[Ve.appId];if(!Ye){bn=[];break}bn.push(Ye)}}0===bn.length&&(bn=Object.values(_t)),yield Promise.all(bn),tt("event",Jt,Zt||{})}catch(bn){P.error(bn)}})).apply(this,arguments)}const it=30,Pe=new class Ie{constructor(_t={},kt=1e3){this.throttleMetadata=_t,this.intervalMillis=kt}getThrottleMetadata(_t){return this.throttleMetadata[_t]}setThrottleMetadata(_t,kt){this.throttleMetadata[_t]=kt}deleteThrottleMetadata(_t){delete this.throttleMetadata[_t]}};function Je(tt){return new Headers({Accept:"application/json","x-goog-api-key":tt})}function $t(){return($t=(0,c.Z)(function*(tt){var _t;const{appId:kt,apiKey:Jt}=tt,Zt={method:"GET",headers:Je(Jt)},bn=A.replace("{app-id}",kt),gt=yield fetch(bn,Zt);if(200!==gt.status&&304!==gt.status){let Ge="";try{const qe=yield gt.json();null!==(_t=qe.error)&&void 0!==_t&&_t.message&&(Ge=qe.error.message)}catch{}throw X.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:Ge})}return gt.json()})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(tt,_t=Pe,kt){const{appId:Jt,apiKey:Zt,measurementId:bn}=tt.options;if(!Jt)throw X.create("no-app-id");if(!Zt){if(bn)return{measurementId:bn,appId:Jt};throw X.create("no-api-key")}const gt=_t.getThrottleMetadata(Jt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new St;return setTimeout((0,c.Z)(function*(){Ge.abort()}),void 0!==kt?kt:_),Le({appId:Jt,apiKey:Zt,measurementId:bn},gt,Ge,_t)})).apply(this,arguments)}function Le(tt,_t,kt){return He.apply(this,arguments)}function He(){return He=(0,c.Z)(function*(tt,{throttleEndTimeMillis:_t,backoffCount:kt},Jt,Zt=Pe){var bn;const{appId:gt,measurementId:Ge}=tt;try{yield function Xe(tt,_t){return new Promise((kt,Jt)=>{const Zt=Math.max(_t-Date.now(),0),bn=setTimeout(kt,Zt);tt.addEventListener(()=>{clearTimeout(bn),Jt(X.create("fetch-throttle",{throttleEndTimeMillis:_t}))})})}(Jt,_t)}catch(qe){if(Ge)return P.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${null==qe?void 0:qe.message}]`),{appId:gt,measurementId:Ge};throw qe}try{const qe=yield function ut(tt){return $t.apply(this,arguments)}(tt);return Zt.deleteThrottleMetadata(gt),qe}catch(qe){const Ve=qe;if(!function dt(tt){if(!(tt instanceof U.ZR&&tt.customData))return!1;const _t=Number(tt.customData.httpStatus);return 429===_t||500===_t||503===_t||504===_t}(Ve)){if(Zt.deleteThrottleMetadata(gt),Ge)return P.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${null==Ve?void 0:Ve.message}]`),{appId:gt,measurementId:Ge};throw qe}const Ye=503===Number(null===(bn=null==Ve?void 0:Ve.customData)||void 0===bn?void 0:bn.httpStatus)?(0,U.$s)(kt,Zt.intervalMillis,it):(0,U.$s)(kt,Zt.intervalMillis),ft={throttleEndTimeMillis:Date.now()+Ye,backoffCount:kt+1};return Zt.setThrottleMetadata(gt,ft),P.debug(`Calling attemptFetch again in ${Ye} millis`),Le(tt,ft,Jt,Zt)}}),He.apply(this,arguments)}class St{constructor(){this.listeners=[]}addEventListener(_t){this.listeners.push(_t)}abort(){this.listeners.forEach(_t=>_t())}}let zt,Ln;function ht(){return(ht=(0,c.Z)(function*(tt,_t,kt,Jt,Zt){if(Zt&&Zt.global)tt("event",kt,Jt);else{const bn=yield _t;tt("event",kt,Object.assign(Object.assign({},Jt),{send_to:bn}))}})).apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(tt,_t,kt,Jt){if(Jt&&Jt.global)return tt("set",{user_id:kt}),Promise.resolve();tt("config",yield _t,{update:!0,user_id:kt})})).apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(){if(!(0,U.hl)())return P.warn(X.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,U.eu)()}catch(tt){return P.warn(X.create("indexeddb-unavailable",{errorInfo:null==tt?void 0:tt.toString()}).message),!1}return!0})).apply(this,arguments)}function mn(){return mn=(0,c.Z)(function*(tt,_t,kt,Jt,Zt,bn,gt){var Ge;const qe=function mt(tt){return De.apply(this,arguments)}(tt);qe.then(ln=>{kt[ln.measurementId]=ln.appId,tt.options.measurementId&&ln.measurementId!==tt.options.measurementId&&P.warn(`The measurement ID in the local Firebase config (${tt.options.measurementId}) does not match the measurement ID fetched from the server (${ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ln=>P.error(ln)),_t.push(qe);const Ve=function Gn(){return tr.apply(this,arguments)}().then(ln=>{if(ln)return Jt.getId()}),[Ye,ft]=yield Promise.all([qe,Ve]);(function st(tt){const _t=window.document.getElementsByTagName("script");for(const kt of Object.values(_t))if(kt.src&&kt.src.includes(S)&&kt.src.includes(tt))return kt;return null})(bn)||function Me(tt,_t){const kt=function se(tt,_t){let kt;return window.trustedTypes&&(kt=window.trustedTypes.createPolicy(tt,_t)),kt}("firebase-js-sdk-policy",{createScriptURL:be}),Jt=document.createElement("script"),Zt=`${S}?l=${tt}&id=${_t}`;Jt.src=kt?null==kt?void 0:kt.createScriptURL(Zt):Zt,Jt.async=!0,document.head.appendChild(Jt)}(bn,Ye.measurementId),Ln&&(Zt("consent","default",Ln),function Sn(tt){Ln=tt}(void 0)),Zt("js",new Date);const Et=null!==(Ge=null==gt?void 0:gt.config)&&void 0!==Ge?Ge:{};return Et[M]="firebase",Et.update=!0,null!=ft&&(Et[N]=ft),Zt("config",Ye.measurementId,Et),zt&&(Zt("set",zt),function vr(tt){zt=tt}(void 0)),Ye.measurementId}),mn.apply(this,arguments)}class _r{constructor(_t){this.app=_t}_delete(){return delete pr[this.app.options.appId],Promise.resolve()}}let pr={},An=[];const Yn={};let on,Tr,Ft="dataLayer",Rn=!1;function zr(tt,_t,kt){!function jn(){const tt=[];if((0,U.ru)()&&tt.push("This is a browser extension environment."),(0,U.zI)()||tt.push("Cookies are not available."),tt.length>0){const _t=tt.map((Jt,Zt)=>`(${Zt+1}) ${Jt}`).join(" "),kt=X.create("invalid-analytics-context",{errorInfo:_t});P.warn(kt.message)}}();const Jt=tt.options.appId;if(!Jt)throw X.create("no-app-id");if(!tt.options.apiKey){if(!tt.options.measurementId)throw X.create("no-api-key");P.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${tt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pr[Jt])throw X.create("already-exists",{id:Jt});if(!Rn){!function we(tt){let _t=[];Array.isArray(window[tt])?_t=window[tt]:window[tt]=_t}(Ft);const{wrappedGtag:bn,gtagCore:gt}=function Ee(tt,_t,kt,Jt,Zt){let bn=function(...gt){window[Jt].push(arguments)};return window[Zt]&&"function"==typeof window[Zt]&&(bn=window[Zt]),window[Zt]=function Ae(tt,_t,kt,Jt){function bn(){return bn=(0,c.Z)(function*(gt,...Ge){try{if("event"===gt){const[qe,Ve]=Ge;yield function Re(tt,_t,kt,Jt,Zt){return je.apply(this,arguments)}(tt,_t,kt,qe,Ve)}else if("config"===gt){const[qe,Ve]=Ge;yield function ne(tt,_t,kt,Jt,Zt,bn){return ye.apply(this,arguments)}(tt,_t,kt,Jt,qe,Ve)}else if("consent"===gt){const[qe]=Ge;tt("consent","update",qe)}else if("get"===gt){const[qe,Ve,Ye]=Ge;tt("get",qe,Ve,Ye)}else if("set"===gt){const[qe]=Ge;tt("set",qe)}else tt(gt,...Ge)}catch(qe){P.error(qe)}}),bn.apply(this,arguments)}return function Zt(gt){return bn.apply(this,arguments)}}(bn,tt,_t,kt),{gtagCore:bn,wrappedGtag:window[Zt]}}(pr,An,Yn,Ft,"gtag");Tr=bn,on=gt,Rn=!0}return pr[Jt]=function fn(tt,_t,kt,Jt,Zt,bn,gt){return mn.apply(this,arguments)}(tt,An,Yn,_t,on,Ft,kt),new _r(tt)}function Wn(tt=(0,d.Mq)()){tt=(0,U.m9)(tt);const _t=(0,d.qX)(tt,O);return _t.isInitialized()?_t.getImmediate():function Tn(tt,_t={}){const kt=(0,d.qX)(tt,O);if(kt.isInitialized()){const Zt=kt.getImmediate();if((0,U.vZ)(_t,kt.getOptions()))return Zt;throw X.create("already-initialized")}return kt.initialize({options:_t})}(tt)}function We(){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(){if((0,U.ru)()||!(0,U.zI)()||!(0,U.hl)())return!1;try{return yield(0,U.eu)()}catch{return!1}})).apply(this,arguments)}function Yt(tt,_t,kt){tt=(0,U.m9)(tt),function Pt(tt,_t,kt,Jt){return Wt.apply(this,arguments)}(Tr,pr[tt.app.options.appId],_t,kt).catch(Jt=>P.error(Jt))}function de(tt,_t,kt,Jt){tt=(0,U.m9)(tt),function Qt(tt,_t,kt,Jt,Zt){return ht.apply(this,arguments)}(Tr,pr[tt.app.options.appId],_t,kt,Jt).catch(Zt=>P.error(Zt))}const Ce="@firebase/analytics";!function Ot(){(0,d.Xd)(new W.wA(O,(_t,{options:kt})=>zr(_t.getProvider("app").getImmediate(),_t.getProvider("installations-internal").getImmediate(),kt),"PUBLIC")),(0,d.Xd)(new W.wA("analytics-internal",function tt(_t){try{const kt=_t.getProvider(O).getImmediate();return{logEvent:(Jt,Zt,bn)=>de(kt,Jt,Zt,bn)}}catch(kt){throw X.create("interop-component-reg-failed",{reason:kt})}},"PRIVATE")),(0,d.KN)(Ce,"0.10.0"),(0,d.KN)(Ce,"0.10.0","esm2017")}()},3182:(lt,rt,C)=>{"use strict";C.d(rt,{C6:()=>c.C6,KN:()=>c.KN,Mq:()=>c.Mq,ZF:()=>c.ZF});var c=C(534);(0,c.KN)("firebase","9.23.0","app")},2644:(lt,rt,C)=>{"use strict";C.d(rt,{S$:()=>ci,Xb:()=>ca,h8:()=>Nr,v0:()=>ol,AP:()=>el,uJ:()=>wi,Aj:()=>ei,MX:()=>Xt,e5:()=>Ri});var c=C(5861),d=C(9058),Y=C(534),U=C(7582),W=C(7879),V=C(4537);const X=function P(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new d.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),se=new W.Yd("@firebase/auth");function we(F,...m){se.logLevel<=W.in.ERROR&&se.error(`Auth (${Y.Jn}): ${F}`,...m)}function ne(F,...m){throw Ae(F,...m)}function ye(F,...m){return Ae(F,...m)}function Ae(F,...m){if("string"!=typeof F){const E=m[0],B=[...m.slice(1)];return B[0]&&(B[0].appName=F.name),F._errorFactory.create(E,...B)}return be.create(F,...m)}function Ee(F,m,...E){if(!F)throw Ae(m,...E)}function st(F){const m="INTERNAL ASSERTION FAILED: "+F;throw we(m),new Error(m)}function it(F,m){F||st(m)}function Ue(){var F;return typeof self<"u"&&(null===(F=self.location)||void 0===F?void 0:F.href)||""}function Pe(){var F;return typeof self<"u"&&(null===(F=self.location)||void 0===F?void 0:F.protocol)||null}class $t{constructor(m,E){this.shortDelay=m,this.longDelay=E,it(E>m,"Short delay should be less than long delay!"),this.isMobile=(0,d.uI)()||(0,d.b$)()}get(){return function Je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ie(){return"http:"===Pe()||"https:"===Pe()}()||(0,d.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mt(F,m){it(F.emulator,"Emulator should always be set here");const{url:E}=F.emulator;return m?`${E}${m.startsWith("/")?m.slice(1):m}`:E}class De{static initialize(m,E,B){this.fetchImpl=m,E&&(this.headersImpl=E),B&&(this.responseImpl=B)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new $t(3e4,6e4);function Xe(F,m){return F.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:F.tenantId}):m}function dt(F,m,E,B){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(F,m,E,B,me={}){return zt(F,me,(0,c.Z)(function*(){let ke={},Dt={};B&&("GET"===m?Dt=B:ke={body:JSON.stringify(B)});const Kt=(0,d.xO)(Object.assign({key:F.config.apiKey},Dt)).slice(1),Cn=yield F._getAdditionalHeaders();return Cn["Content-Type"]="application/json",F.languageCode&&(Cn["X-Firebase-Locale"]=F.languageCode),De.fetch()(Ct(F,F.config.apiHost,E,Kt),Object.assign({method:m,headers:Cn,referrerPolicy:"no-referrer"},ke))}))})).apply(this,arguments)}function zt(F,m,E){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,c.Z)(function*(F,m,E){F._canInitEmulator=!1;const B=Object.assign(Object.assign({},Le),m);try{const me=new Pt(F),ke=yield Promise.race([E(),me.promise]);me.clearNetworkTimeout();const Dt=yield ke.json();if("needConfirmation"in Dt)throw Wt(F,"account-exists-with-different-credential",Dt);if(ke.ok&&!("errorMessage"in Dt))return Dt;{const Kt=ke.ok?Dt.errorMessage:Dt.error.message,[Cn,Un]=Kt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Cn)throw Wt(F,"credential-already-in-use",Dt);if("EMAIL_EXISTS"===Cn)throw Wt(F,"email-already-in-use",Dt);if("USER_DISABLED"===Cn)throw Wt(F,"user-disabled",Dt);const Er=B[Cn]||Cn.toLowerCase().replace(/[_\s]+/g,"-");if(Un)throw function Re(F,m,E){const B=Object.assign(Object.assign({},X()),{[m]:E});return new d.LL("auth","Firebase",B).create(m,{appName:F.name})}(F,Er,Un);ne(F,Er)}}catch(me){if(me instanceof d.ZR)throw me;ne(F,"network-request-failed",{message:String(me)})}})).apply(this,arguments)}function ht(F,m,E,B){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(F,m,E,B,me={}){const ke=yield dt(F,m,E,B,me);return"mfaPendingCredential"in ke&&ne(F,"multi-factor-auth-required",{_serverResponse:ke}),ke})).apply(this,arguments)}function Ct(F,m,E,B){const me=`${m}${E}?${B}`;return F.config.emulator?mt(F.config,me):`${F.config.apiScheme}://${me}`}class Pt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((E,B)=>{this.timer=setTimeout(()=>B(ye(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wt(F,m,E){const B={appName:F.name};E.email&&(B.email=E.email),E.phoneNumber&&(B.phoneNumber=E.phoneNumber);const me=ye(F,m,B);return me.customData._tokenResponse=E,me}function In(){return(In=(0,c.Z)(function*(F,m){return dt(F,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(F,m){return dt(F,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ln(F){if(F)try{const m=new Date(Number(F));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Gn(){return(Gn=(0,c.Z)(function*(F,m=!1){const E=(0,d.m9)(F),B=yield E.getIdToken(m),me=fn(B);Ee(me&&me.exp&&me.auth_time&&me.iat,E.auth,"internal-error");const ke="object"==typeof me.firebase?me.firebase:void 0,Dt=null==ke?void 0:ke.sign_in_provider;return{claims:me,token:B,authTime:Ln(tr(me.auth_time)),issuedAtTime:Ln(tr(me.iat)),expirationTime:Ln(tr(me.exp)),signInProvider:Dt||null,signInSecondFactor:(null==ke?void 0:ke.sign_in_second_factor)||null}})).apply(this,arguments)}function tr(F){return 1e3*Number(F)}function fn(F){const[m,E,B]=F.split(".");if(void 0===m||void 0===E||void 0===B)return we("JWT malformed, contained fewer than 3 sections"),null;try{const me=(0,d.tV)(E);return me?JSON.parse(me):(we("Failed to decode base64 JWT payload"),null)}catch(me){return we("Caught error parsing JWT payload as JSON",null==me?void 0:me.toString()),null}}function _r(F,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(F,m,E=!1){if(E)return m;try{return yield m}catch(B){throw B instanceof d.ZR&&function An({code:F}){return"auth/user-disabled"===F||"auth/user-token-expired"===F}(B)&&F.auth.currentUser===F&&(yield F.auth.signOut()),B}})).apply(this,arguments)}class Yn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var E;if(m){const B=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),B}{this.errorBackoff=3e4;const me=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,me)}}schedule(m=!1){var E=this;if(!this.isRunning)return;const B=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield E.iteration()}),B)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null==E?void 0:E.code)&&m.schedule(!0))}m.schedule()})()}}class Ft{constructor(m,E){this.createdAt=m,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sr(F){return on.apply(this,arguments)}function on(){return on=(0,c.Z)(function*(F){var m;const E=F.auth,B=yield F.getIdToken(),me=yield _r(F,function gn(F,m){return or.apply(this,arguments)}(E,{idToken:B}));Ee(null==me?void 0:me.users.length,E,"internal-error");const ke=me.users[0];F._notifyReloadListener(ke);const Dt=null!==(m=ke.providerUserInfo)&&void 0!==m&&m.length?function jn(F){return F.map(m=>{var{providerId:E}=m,B=(0,U._T)(m,["providerId"]);return{providerId:E,uid:B.rawId||"",displayName:B.displayName||null,email:B.email||null,phoneNumber:B.phoneNumber||null,photoURL:B.photoUrl||null}})}(ke.providerUserInfo):[],Kt=function Mn(F,m){return[...F.filter(B=>!m.some(me=>me.providerId===B.providerId)),...m]}(F.providerData,Dt),Er=!!F.isAnonymous&&!(F.email&&ke.passwordHash||null!=Kt&&Kt.length),pi={uid:ke.localId,displayName:ke.displayName||null,photoURL:ke.photoUrl||null,email:ke.email||null,emailVerified:ke.emailVerified||!1,phoneNumber:ke.phoneNumber||null,tenantId:ke.tenantId||null,providerData:Kt,metadata:new Ft(ke.createdAt,ke.lastLoginAt),isAnonymous:Er};Object.assign(F,pi)}),on.apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(F){const m=(0,d.m9)(F);yield sr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(F,m){const E=yield zt(F,{},(0,c.Z)(function*(){const B=(0,d.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:me,apiKey:ke}=F.config,Dt=Ct(F,me,"/v1/token",`key=${ke}`),Kt=yield F._getAdditionalHeaders();return Kt["Content-Type"]="application/x-www-form-urlencoded",De.fetch()(Dt,{method:"POST",headers:Kt,body:B})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Tn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ee(m.idToken,"internal-error"),Ee(typeof m.idToken<"u","internal-error"),Ee(typeof m.refreshToken<"u","internal-error");const E="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function mn(F){const m=fn(F);return Ee(m,"internal-error"),Ee(typeof m.exp<"u","internal-error"),Ee(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,E)}getToken(m,E=!1){var B=this;return(0,c.Z)(function*(){return Ee(!B.accessToken||B.refreshToken,m,"user-token-expired"),E||!B.accessToken||B.isExpired?B.refreshToken?(yield B.refresh(m,B.refreshToken),B.accessToken):null:B.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,E){var B=this;return(0,c.Z)(function*(){const{accessToken:me,refreshToken:ke,expiresIn:Dt}=yield function zr(F,m){return Wn.apply(this,arguments)}(m,E);B.updateTokensAndExpiration(me,ke,Number(Dt))})()}updateTokensAndExpiration(m,E,B){this.refreshToken=E||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*B}static fromJSON(m,E){const{refreshToken:B,accessToken:me,expirationTime:ke}=E,Dt=new Tn;return B&&(Ee("string"==typeof B,"internal-error",{appName:m}),Dt.refreshToken=B),me&&(Ee("string"==typeof me,"internal-error",{appName:m}),Dt.accessToken=me),ke&&(Ee("number"==typeof ke,"internal-error",{appName:m}),Dt.expirationTime=ke),Dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Tn,this.toJSON())}_performRefresh(){return st("not implemented")}}function We(F,m){Ee("string"==typeof F||typeof F>"u","internal-error",{appName:m})}class et{constructor(m){var{uid:E,auth:B,stsTokenManager:me}=m,ke=(0,U._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=B,this.stsTokenManager=me,this.accessToken=me.accessToken,this.displayName=ke.displayName||null,this.email=ke.email||null,this.emailVerified=ke.emailVerified||!1,this.phoneNumber=ke.phoneNumber||null,this.photoURL=ke.photoURL||null,this.isAnonymous=ke.isAnonymous||!1,this.tenantId=ke.tenantId||null,this.providerData=ke.providerData?[...ke.providerData]:[],this.metadata=new Ft(ke.createdAt||void 0,ke.lastLoginAt||void 0)}getIdToken(m){var E=this;return(0,c.Z)(function*(){const B=yield _r(E,E.stsTokenManager.getToken(E.auth,m));return Ee(B,E.auth,"internal-error"),E.accessToken!==B&&(E.accessToken=B,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),B})()}getIdTokenResult(m){return function vr(F){return Gn.apply(this,arguments)}(this,m)}reload(){return function Tr(F){return Rn.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ee(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(E=>Object.assign({},E)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const E=new et(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return E.metadata._copy(this.metadata),E}_onReload(m){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,E=!1){var B=this;return(0,c.Z)(function*(){let me=!1;m.idToken&&m.idToken!==B.stsTokenManager.accessToken&&(B.stsTokenManager.updateFromServerResponse(m),me=!0),E&&(yield sr(B)),yield B.auth._persistUserIfCurrent(B),me&&B.auth._notifyListenersIfCurrent(B)})()}delete(){var m=this;return(0,c.Z)(function*(){const E=yield m.getIdToken();return yield _r(m,function an(F,m){return In.apply(this,arguments)}(m.auth,{idToken:E})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,E){var B,me,ke,Dt,Kt,Cn,Un,Er;const pi=null!==(B=E.displayName)&&void 0!==B?B:void 0,Fs=null!==(me=E.email)&&void 0!==me?me:void 0,Ls=null!==(ke=E.phoneNumber)&&void 0!==ke?ke:void 0,ic=null!==(Dt=E.photoURL)&&void 0!==Dt?Dt:void 0,Zs=null!==(Kt=E.tenantId)&&void 0!==Kt?Kt:void 0,qc=null!==(Cn=E._redirectEventId)&&void 0!==Cn?Cn:void 0,Ul=null!==(Un=E.createdAt)&&void 0!==Un?Un:void 0,oc=null!==(Er=E.lastLoginAt)&&void 0!==Er?Er:void 0,{uid:Sa,emailVerified:Gd,isAnonymous:sl,providerData:Wd,stsTokenManager:Hf}=E;Ee(Sa&&Hf,m,"internal-error");const ri=Tn.fromJSON(this.name,Hf);Ee("string"==typeof Sa,m,"internal-error"),We(pi,m.name),We(Fs,m.name),Ee("boolean"==typeof Gd,m,"internal-error"),Ee("boolean"==typeof sl,m,"internal-error"),We(Ls,m.name),We(ic,m.name),We(Zs,m.name),We(qc,m.name),We(Ul,m.name),We(oc,m.name);const Kd=new et({uid:Sa,auth:m,email:Fs,emailVerified:Gd,displayName:pi,isAnonymous:sl,photoURL:ic,phoneNumber:Ls,tenantId:Zs,stsTokenManager:ri,createdAt:Ul,lastLoginAt:oc});return Wd&&Array.isArray(Wd)&&(Kd.providerData=Wd.map(Yd=>Object.assign({},Yd))),qc&&(Kd._redirectEventId=qc),Kd}static _fromIdTokenResponse(m,E,B=!1){return(0,c.Z)(function*(){const me=new Tn;me.updateFromServerResponse(E);const ke=new et({uid:E.localId,auth:m,stsTokenManager:me,isAnonymous:B});return yield sr(ke),ke})()}}const Nt=new Map;function bt(F){it(F instanceof Function,"Expected a class definition");let m=Nt.get(F);return m?(it(m instanceof F,"Instance stored in cache mismatched with class"),m):(m=new F,Nt.set(F,m),m)}const Yt=(()=>{class F{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(E,B){var me=this;return(0,c.Z)(function*(){me.storage[E]=B})()}_get(E){var B=this;return(0,c.Z)(function*(){const me=B.storage[E];return void 0===me?null:me})()}_remove(E){var B=this;return(0,c.Z)(function*(){delete B.storage[E]})()}_addListener(E,B){}_removeListener(E,B){}}return F.type="NONE",F})();function nn(F,m,E){return`firebase:${F}:${m}:${E}`}class Be{constructor(m,E,B){this.persistence=m,this.auth=E,this.userKey=B;const{config:me,name:ke}=this.auth;this.fullUserKey=nn(this.userKey,me.apiKey,ke),this.fullPersistenceKey=nn("persistence",me.apiKey,ke),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const E=yield m.persistence._get(m.fullUserKey);return E?et._fromJSON(m.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var E=this;return(0,c.Z)(function*(){if(E.persistence===m)return;const B=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=m,B?E.setCurrentUser(B):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,E,B="authUser"){return(0,c.Z)(function*(){if(!E.length)return new Be(bt(Yt),m,B);const me=(yield Promise.all(E.map(function(){var Un=(0,c.Z)(function*(Er){if(yield Er._isAvailable())return Er});return function(Er){return Un.apply(this,arguments)}}()))).filter(Un=>Un);let ke=me[0]||bt(Yt);const Dt=nn(B,m.config.apiKey,m.name);let Kt=null;for(const Un of E)try{const Er=yield Un._get(Dt);if(Er){const pi=et._fromJSON(m,Er);Un!==ke&&(Kt=pi),ke=Un;break}}catch{}const Cn=me.filter(Un=>Un._shouldAllowMigration);return ke._shouldAllowMigration&&Cn.length?(ke=Cn[0],Kt&&(yield ke._set(Dt,Kt.toJSON())),yield Promise.all(E.map(function(){var Un=(0,c.Z)(function*(Er){if(Er!==ke)try{yield Er._remove(Dt)}catch{}});return function(Er){return Un.apply(this,arguments)}}())),new Be(ke,m,B)):new Be(ke,m,B)})()}}function he(F){const m=F.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(pt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(de(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(tt(m))return"Blackberry";if(_t(m))return"Webos";if(ve(m))return"Safari";if((m.includes("chrome/")||Ce(m))&&!m.includes("edge/"))return"Chrome";if(Ot(m))return"Android";{const B=F.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==B?void 0:B.length))return B[1]}return"Other"}function de(F=(0,d.z$)()){return/firefox\//i.test(F)}function ve(F=(0,d.z$)()){const m=F.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ce(F=(0,d.z$)()){return/crios\//i.test(F)}function pt(F=(0,d.z$)()){return/iemobile/i.test(F)}function Ot(F=(0,d.z$)()){return/android/i.test(F)}function tt(F=(0,d.z$)()){return/blackberry/i.test(F)}function _t(F=(0,d.z$)()){return/webos/i.test(F)}function kt(F=(0,d.z$)()){return/iphone|ipad|ipod/i.test(F)||/macintosh/i.test(F)&&/mobile/i.test(F)}function gt(F=(0,d.z$)()){return kt(F)||Ot(F)||_t(F)||tt(F)||/windows phone/i.test(F)||pt(F)}function qe(F,m=[]){let E;switch(F){case"Browser":E=he((0,d.z$)());break;case"Worker":E=`${he((0,d.z$)())}-${F}`;break;default:E=F}const B=m.length?m.join(","):"FirebaseCore-web";return`${E}/JsCore/${Y.Jn}/${B}`}function ft(F,m){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(F,m){return dt(F,"GET","/v2/recaptchaConfig",Xe(F,m))})).apply(this,arguments)}function hn(F){return void 0!==F&&void 0!==F.enterprise}class On{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(E=>"EMAIL_PASSWORD_PROVIDER"===E.provider&&"OFF"!==E.enforcementState)}}function Zn(F){return new Promise((m,E)=>{const B=document.createElement("script");B.setAttribute("src",F),B.onload=m,B.onerror=me=>{const ke=ye("internal-error");ke.customData=me,E(ke)},B.type="text/javascript",B.charset="UTF-8",function Dr(){var F,m;return null!==(m=null===(F=document.getElementsByTagName("head"))||void 0===F?void 0:F[0])&&void 0!==m?m:document}().appendChild(B)})}function nr(F){return`__${F}${Math.floor(1e6*Math.random())}`}class Fr{constructor(m){this.type="recaptcha-enterprise",this.auth=Wr(m)}verify(m="verify",E=!1){var B=this;return(0,c.Z)(function*(){function ke(){return ke=(0,c.Z)(function*(Kt){if(!E){if(null==Kt.tenantId&&null!=Kt._agentRecaptchaConfig)return Kt._agentRecaptchaConfig.siteKey;if(null!=Kt.tenantId&&void 0!==Kt._tenantRecaptchaConfigs[Kt.tenantId])return Kt._tenantRecaptchaConfigs[Kt.tenantId].siteKey}return new Promise(function(){var Cn=(0,c.Z)(function*(Un,Er){ft(Kt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pi=>{if(void 0!==pi.recaptchaKey){const Fs=new On(pi);return null==Kt.tenantId?Kt._agentRecaptchaConfig=Fs:Kt._tenantRecaptchaConfigs[Kt.tenantId]=Fs,Un(Fs.siteKey)}Er(new Error("recaptcha Enterprise site key undefined"))}).catch(pi=>{Er(pi)})});return function(Un,Er){return Cn.apply(this,arguments)}}())}),ke.apply(this,arguments)}function Dt(Kt,Cn,Un){const Er=window.grecaptcha;hn(Er)?Er.enterprise.ready(()=>{Er.enterprise.execute(Kt,{action:m}).then(pi=>{Cn(pi)}).catch(()=>{Cn("NO_RECAPTCHA")})}):Un(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Kt,Cn)=>{(function me(Kt){return ke.apply(this,arguments)})(B.auth).then(Un=>{if(!E&&hn(window.grecaptcha))Dt(Un,Kt,Cn);else{if(typeof window>"u")return void Cn(new Error("RecaptchaVerifier is only supported in browser"));Zn("https://www.google.com/recaptcha/enterprise.js?render="+Un).then(()=>{Dt(Un,Kt,Cn)}).catch(Er=>{Cn(Er)})}}).catch(Un=>{Cn(Un)})})})()}}function Ur(F,m,E){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(F,m,E,B=!1){const me=new Fr(F);let ke;try{ke=yield me.verify(E)}catch{ke=yield me.verify(E,!0)}const Dt=Object.assign({},m);return Object.assign(Dt,B?{captchaResp:ke}:{captchaResponse:ke}),Object.assign(Dt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Dt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Dt})).apply(this,arguments)}class Qr{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,E){const B=ke=>new Promise((Dt,Kt)=>{try{Dt(m(ke))}catch(Cn){Kt(Cn)}});B.onAbort=E,this.queue.push(B);const me=this.queue.length-1;return()=>{this.queue[me]=()=>Promise.resolve()}}runMiddleware(m){var E=this;return(0,c.Z)(function*(){if(E.auth.currentUser===m)return;const B=[];try{for(const me of E.queue)yield me(m),me.onAbort&&B.push(me.onAbort)}catch(me){B.reverse();for(const ke of B)try{ke()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null==me?void 0:me.message})}})()}}class mi{constructor(m,E,B,me){this.app=m,this.heartbeatServiceProvider=E,this.appCheckServiceProvider=B,this.config=me,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new li(this),this.idTokenSubscription=new li(this),this.beforeStateQueue=new Qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=me.sdkClientVersion}_initializeWithPersistence(m,E){var B=this;return E&&(this._popupRedirectResolver=bt(E)),this._initializationPromise=this.queue((0,c.Z)(function*(){var me,ke;if(!B._deleted&&(B.persistenceManager=yield Be.create(B,m),!B._deleted)){if(null!==(me=B._popupRedirectResolver)&&void 0!==me&&me._shouldInitProactively)try{yield B._popupRedirectResolver._initialize(B)}catch{}yield B.initializeCurrentUser(E),B.lastNotifiedUid=(null===(ke=B.currentUser)||void 0===ke?void 0:ke.uid)||null,!B._deleted&&(B._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const E=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||E){if(m.currentUser&&E&&m.currentUser.uid===E.uid)return m._currentUser._assign(E),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(E,!0)}})()}initializeCurrentUser(m){var E=this;return(0,c.Z)(function*(){var B;const me=yield E.assertedPersistence.getCurrentUser();let ke=me,Dt=!1;if(m&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const Kt=null===(B=E.redirectUser)||void 0===B?void 0:B._redirectEventId,Cn=null==ke?void 0:ke._redirectEventId,Un=yield E.tryRedirectSignIn(m);(!Kt||Kt===Cn)&&null!=Un&&Un.user&&(ke=Un.user,Dt=!0)}if(!ke)return E.directlySetCurrentUser(null);if(!ke._redirectEventId){if(Dt)try{yield E.beforeStateQueue.runMiddleware(ke)}catch(Kt){ke=me,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(Kt))}return ke?E.reloadAndSetCurrentUserOrClear(ke):E.directlySetCurrentUser(null)}return Ee(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===ke._redirectEventId?E.directlySetCurrentUser(ke):E.reloadAndSetCurrentUserOrClear(ke)})()}tryRedirectSignIn(m){var E=this;return(0,c.Z)(function*(){let B=null;try{B=yield E._popupRedirectResolver._completeRedirectFn(E,m,!0)}catch{yield E._setRedirectUser(null)}return B})()}reloadAndSetCurrentUserOrClear(m){var E=this;return(0,c.Z)(function*(){try{yield sr(m)}catch(B){if("auth/network-request-failed"!==(null==B?void 0:B.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ut(){if(typeof navigator>"u")return null;const F=navigator;return F.languages&&F.languages[0]||F.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var E=this;return(0,c.Z)(function*(){const B=m?(0,d.m9)(m):null;return B&&Ee(B.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(B&&B._clone(E))})()}_updateCurrentUser(m,E=!1){var B=this;return(0,c.Z)(function*(){if(!B._deleted)return m&&Ee(B.tenantId===m.tenantId,B,"tenant-id-mismatch"),E||(yield B.beforeStateQueue.runMiddleware(m)),B.queue((0,c.Z)(function*(){yield B.directlySetCurrentUser(m),B.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var E=this;return this.queue((0,c.Z)(function*(){yield E.assertedPersistence.setPersistence(bt(m))}))}initializeRecaptchaConfig(){var m=this;return(0,c.Z)(function*(){const E=yield ft(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),B=new On(E);null==m.tenantId?m._agentRecaptchaConfig=B:m._tenantRecaptchaConfigs[m.tenantId]=B,B.emailPasswordEnabled&&new Fr(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new d.LL("auth","Firebase",m())}onAuthStateChanged(m,E,B){return this.registerStateListener(this.authStateSubscription,m,E,B)}beforeAuthStateChanged(m,E){return this.beforeStateQueue.pushCallback(m,E)}onIdTokenChanged(m,E,B){return this.registerStateListener(this.idTokenSubscription,m,E,B)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,E){var B=this;return(0,c.Z)(function*(){const me=yield B.getOrInitRedirectPersistenceManager(E);return null===m?me.removeCurrentUser():me.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var E=this;return(0,c.Z)(function*(){if(!E.redirectPersistenceManager){const B=m&&bt(m)||E._popupRedirectResolver;Ee(B,E,"argument-error"),E.redirectPersistenceManager=yield Be.create(E,[bt(B._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(m){var E=this;return(0,c.Z)(function*(){var B,me;return E._isInitialized&&(yield E.queue((0,c.Z)(function*(){}))),(null===(B=E._currentUser)||void 0===B?void 0:B._redirectEventId)===m?E._currentUser:(null===(me=E.redirectUser)||void 0===me?void 0:me._redirectEventId)===m?E.redirectUser:null})()}_persistUserIfCurrent(m){var E=this;return(0,c.Z)(function*(){if(m===E.currentUser)return E.queue((0,c.Z)(function*(){return E.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const B=null!==(E=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==B&&(this.lastNotifiedUid=B,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,E,B,me){if(this._deleted)return()=>{};const ke="function"==typeof E?E:E.next.bind(E),Dt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(Dt,this,"internal-error"),Dt.then(()=>ke(this.currentUser)),"function"==typeof E?m.addObserver(E,B,me):m.addObserver(E)}directlySetCurrentUser(m){var E=this;return(0,c.Z)(function*(){E.currentUser&&E.currentUser!==m&&E._currentUser._stopProactiveRefresh(),m&&E.isProactiveRefreshEnabled&&m._startProactiveRefresh(),E.currentUser=m,m?yield E.assertedPersistence.setCurrentUser(m):yield E.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=qe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var E;const B={"X-Client-Version":m.clientVersion};m.app.options.appId&&(B["X-Firebase-gmpid"]=m.app.options.appId);const me=yield null===(E=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();me&&(B["X-Firebase-Client"]=me);const ke=yield m._getAppCheckToken();return ke&&(B["X-Firebase-AppCheck"]=ke),B})()}_getAppCheckToken(){var m=this;return(0,c.Z)(function*(){var E;const B=yield null===(E=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getToken();return null!=B&&B.error&&function Me(F,...m){se.logLevel<=W.in.WARN&&se.warn(`Auth (${Y.Jn}): ${F}`,...m)}(`Error while retrieving App Check token: ${B.error}`),null==B?void 0:B.token})()}}function Wr(F){return(0,d.m9)(F)}class li{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,d.ne)(E=>this.observer=E)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wi(F,m){const E=(0,Y.qX)(F,"auth");if(E.isInitialized()){const me=E.getImmediate(),ke=E.getOptions();if((0,d.vZ)(ke,null!=m?m:{}))return me;ne(me,"already-initialized")}return E.initialize({options:m})}function ci(F,m,E){const B=Wr(F);Ee(B._canInitEmulator,B,"emulator-config-failed"),Ee(/^https?:\/\//.test(m),B,"invalid-emulator-scheme");const me=!(null==E||!E.disableWarnings),ke=yt(m),{host:Dt,port:Kt}=function Q(F){const m=yt(F),E=/(\/\/)?([^?#/]+)/.exec(F.substr(m.length));if(!E)return{host:"",port:null};const B=E[2].split("@").pop()||"",me=/^(\[[^\]]+\])(:|$)/.exec(B);if(me){const ke=me[1];return{host:ke,port:ue(B.substr(ke.length+1))}}{const[ke,Dt]=B.split(":");return{host:ke,port:ue(Dt)}}}(m);B.config.emulator={url:`${ke}//${Dt}${null===Kt?"":`:${Kt}`}/`},B.settings.appVerificationDisabledForTesting=!0,B.emulatorConfig=Object.freeze({host:Dt,port:Kt,protocol:ke.replace(":",""),options:Object.freeze({disableWarnings:me})}),me||function ae(){function F(){const m=document.createElement("p"),E=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",F):F())}()}function yt(F){const m=F.indexOf(":");return m<0?"":F.substr(0,m+1)}function ue(F){if(!F)return null;const m=Number(F);return isNaN(m)?null:m}class q{constructor(m,E){this.providerId=m,this.signInMethod=E}toJSON(){return st("not implemented")}_getIdTokenResponse(m){return st("not implemented")}_linkToIdToken(m,E){return st("not implemented")}_getReauthenticationResolver(m){return st("not implemented")}}function nt(F,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(F,m){return dt(F,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function cn(F,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(F,m){return ht(F,"POST","/v1/accounts:signInWithPassword",Xe(F,m))})).apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(F,m){return ht(F,"POST","/v1/accounts:signInWithEmailLink",Xe(F,m))})).apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(F,m){return ht(F,"POST","/v1/accounts:signInWithEmailLink",Xe(F,m))})).apply(this,arguments)}class Vi extends q{constructor(m,E,B,me=null){super("password",B),this._email=m,this._password=E,this._tenantId=me}static _fromEmailAndPassword(m,E){return new Vi(m,E,"password")}static _fromEmailAndCode(m,E,B=null){return new Vi(m,E,"emailLink",B)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m;if(null!=E&&E.email&&null!=E&&E.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(m){var E=this;return(0,c.Z)(function*(){var B;switch(E.signInMethod){case"password":const me={returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(B=m._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const ke=yield Ur(m,me,"signInWithPassword");return cn(m,ke)}return cn(m,me).catch(function(){var ke=(0,c.Z)(function*(Dt){if("auth/missing-recaptcha-token"===Dt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Kt=yield Ur(m,me,"signInWithPassword");return cn(m,Kt)}return Promise.reject(Dt)});return function(Dt){return ke.apply(this,arguments)}}());case"emailLink":return function ni(F,m){return to.apply(this,arguments)}(m,{email:E._email,oobCode:E._password});default:ne(m,"internal-error")}})()}_linkToIdToken(m,E){var B=this;return(0,c.Z)(function*(){switch(B.signInMethod){case"password":return nt(m,{idToken:E,returnSecureToken:!0,email:B._email,password:B._password});case"emailLink":return function wo(F,m){return no.apply(this,arguments)}(m,{idToken:E,email:B._email,oobCode:B._password});default:ne(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Pr(F,m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(F,m){return ht(F,"POST","/v1/accounts:signInWithIdp",Xe(F,m))})).apply(this,arguments)}class yi{constructor(m){var E,B,me,ke,Dt,Kt;const Cn=(0,d.zd)((0,d.pd)(m)),Un=null!==(E=Cn.apiKey)&&void 0!==E?E:null,Er=null!==(B=Cn.oobCode)&&void 0!==B?B:null,pi=function Vo(F){switch(F){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(me=Cn.mode)&&void 0!==me?me:null);Ee(Un&&Er&&pi,"argument-error"),this.apiKey=Un,this.operation=pi,this.code=Er,this.continueUrl=null!==(ke=Cn.continueUrl)&&void 0!==ke?ke:null,this.languageCode=null!==(Dt=Cn.languageCode)&&void 0!==Dt?Dt:null,this.tenantId=null!==(Kt=Cn.tenantId)&&void 0!==Kt?Kt:null}static parseLink(m){const E=function Zi(F){const m=(0,d.zd)((0,d.pd)(F)).link,E=m?(0,d.zd)((0,d.pd)(m)).deep_link_id:null,B=(0,d.zd)((0,d.pd)(F)).deep_link_id;return(B?(0,d.zd)((0,d.pd)(B)).link:null)||B||E||m||F}(m);try{return new yi(E)}catch{return null}}}let so=(()=>{class F{constructor(){this.providerId=F.PROVIDER_ID}static credential(E,B){return Vi._fromEmailAndPassword(E,B)}static credentialWithLink(E,B){const me=yi.parseLink(B);return Ee(me,"argument-error"),Vi._fromEmailAndCode(E,me.code,me.tenantId)}}return F.PROVIDER_ID="password",F.EMAIL_PASSWORD_SIGN_IN_METHOD="password",F.EMAIL_LINK_SIGN_IN_METHOD="emailLink",F})();class Gi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ss extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}function Wi(F,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(F,m){return ht(F,"POST","/v1/accounts:signUp",Xe(F,m))})).apply(this,arguments)}class oi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,E,B,me=!1){return(0,c.Z)(function*(){const ke=yield et._fromIdTokenResponse(m,B,me),Dt=co(B);return new oi({user:ke,providerId:Dt,_tokenResponse:B,operationType:E})})()}static _forOperation(m,E,B){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(B,!0);const me=co(B);return new oi({user:m,providerId:me,_tokenResponse:B,operationType:E})})()}}function co(F){return F.providerId?F.providerId:"phoneNumber"in F?"phone":null}class Jr extends d.ZR{constructor(m,E,B,me){var ke;super(E.code,E.message),this.operationType=B,this.user=me,Object.setPrototypeOf(this,Jr.prototype),this.customData={appName:m.name,tenantId:null!==(ke=m.tenantId)&&void 0!==ke?ke:void 0,_serverResponse:E.customData._serverResponse,operationType:B}}static _fromErrorAndOperation(m,E,B,me){return new Jr(m,E,B,me)}}function fi(F,m,E,B){return("reauthenticate"===m?E._getReauthenticationResolver(F):E._getIdTokenResponse(F)).catch(ke=>{throw"auth/multi-factor-auth-required"===ke.code?Jr._fromErrorAndOperation(F,ke,m,B):ke})}function _s(){return(_s=(0,c.Z)(function*(F,m,E=!1){const B=yield _r(F,m._linkToIdToken(F.auth,yield F.getIdToken()),E);return oi._forOperation(F,"link",B)})).apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(F,m,E=!1){const{auth:B}=F,me="reauthenticate";try{const ke=yield _r(F,fi(B,me,m,F),E);Ee(ke.idToken,B,"internal-error");const Dt=fn(ke.idToken);Ee(Dt,B,"internal-error");const{sub:Kt}=Dt;return Ee(F.uid===Kt,B,"user-mismatch"),oi._forOperation(F,me,ke)}catch(ke){throw"auth/user-not-found"===(null==ke?void 0:ke.code)&&ne(B,"user-mismatch"),ke}})).apply(this,arguments)}function ls(F,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(F,m,E=!1){const B="signIn",me=yield fi(F,B,m),ke=yield oi._fromIdTokenResponse(F,B,me);return E||(yield F._updateCurrentUser(ke.user)),ke})).apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(F,m){return ls(Wr(F),m)})).apply(this,arguments)}function ca(F,m,E){return Us.apply(this,arguments)}function Us(){return Us=(0,c.Z)(function*(F,m,E){var B;const me=Wr(F),ke={returnSecureToken:!0,email:m,password:E,clientType:"CLIENT_TYPE_WEB"};let Dt;if(null!==(B=me._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const Un=yield Ur(me,ke,"signUpPassword");Dt=Wi(me,Un)}else Dt=Wi(me,ke).catch(function(){var Un=(0,c.Z)(function*(Er){if("auth/missing-recaptcha-token"===Er.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const pi=yield Ur(me,ke,"signUpPassword");return Wi(me,pi)}return Promise.reject(Er)});return function(Er){return Un.apply(this,arguments)}}());const Kt=yield Dt.catch(Un=>Promise.reject(Un)),Cn=yield oi._fromIdTokenResponse(me,"signIn",Kt);return yield me._updateCurrentUser(Cn.user),Cn}),Us.apply(this,arguments)}function Ri(F,m,E){return function Bo(F,m){return ea.apply(this,arguments)}((0,d.m9)(F),so.credential(m,E))}function Xt(F,m,E,B){return(0,d.m9)(F).onIdTokenChanged(m,E,B)}function ei(F,m,E,B){return(0,d.m9)(F).onAuthStateChanged(m,E,B)}function Nr(F){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(F){return(0,d.m9)(F).delete()})).apply(this,arguments)}const It="__sak";class dn{constructor(m,E){this.storageRetriever=m,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(It,"1"),this.storage.removeItem(It),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,E){return this.storage.setItem(m,JSON.stringify(E)),Promise.resolve()}_get(m){const E=this.storage.getItem(m);return Promise.resolve(E?JSON.parse(E):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const pl=(()=>{class F extends dn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,B)=>this.onStorageEvent(E,B),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mo(){const F=(0,d.z$)();return ve(F)||kt(F)}()&&function Ge(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gt(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const B of Object.keys(this.listeners)){const me=this.storage.getItem(B),ke=this.localCache[B];me!==ke&&E(B,ke,me)}}onStorageEvent(E,B=!1){if(!E.key)return void this.forAllChangedKeys((Kt,Cn,Un)=>{this.notifyListeners(Kt,Un)});const me=E.key;if(B?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Kt=this.storage.getItem(me);if(E.newValue!==Kt)null!==E.newValue?this.storage.setItem(me,E.newValue):this.storage.removeItem(me);else if(this.localCache[me]===E.newValue&&!B)return}const ke=()=>{const Kt=this.storage.getItem(me);!B&&this.localCache[me]===Kt||this.notifyListeners(me,Kt)},Dt=this.storage.getItem(me);!function bn(){return(0,d.w1)()&&10===document.documentMode}()||Dt===E.newValue||E.newValue===E.oldValue?ke():setTimeout(ke,10)}notifyListeners(E,B){this.localCache[E]=B;const me=this.listeners[E];if(me)for(const ke of Array.from(me))ke(B&&JSON.parse(B))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,B,me)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:B,newValue:me}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,B){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(B)}_removeListener(E,B){this.listeners[E]&&(this.listeners[E].delete(B),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,B){var me=()=>super._set,ke=this;return(0,c.Z)(function*(){yield me().call(ke,E,B),ke.localCache[E]=JSON.stringify(B)})()}_get(E){var B=()=>super._get,me=this;return(0,c.Z)(function*(){const ke=yield B().call(me,E);return me.localCache[E]=JSON.stringify(ke),ke})()}_remove(E){var B=()=>super._remove,me=this;return(0,c.Z)(function*(){yield B().call(me,E),delete me.localCache[E]})()}}return F.type="LOCAL",F})(),gl=(()=>{class F extends dn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,B){}_removeListener(E,B){}}return F.type="SESSION",F})();let Bc=(()=>{class F{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const B=this.receivers.find(ke=>ke.isListeningto(E));if(B)return B;const me=new F(E);return this.receivers.push(me),me}isListeningto(E){return this.eventTarget===E}handleEvent(E){var B=this;return(0,c.Z)(function*(){const me=E,{eventId:ke,eventType:Dt,data:Kt}=me.data,Cn=B.handlersMap[Dt];if(null==Cn||!Cn.size)return;me.ports[0].postMessage({status:"ack",eventId:ke,eventType:Dt});const Un=Array.from(Cn).map(function(){var pi=(0,c.Z)(function*(Fs){return Fs(me.origin,Kt)});return function(Fs){return pi.apply(this,arguments)}}()),Er=yield function Ol(F){return Promise.all(F.map(function(){var m=(0,c.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(B){return{fulfilled:!1,reason:B}}});return function(E){return m.apply(this,arguments)}}()))}(Un);me.ports[0].postMessage({status:"done",eventId:ke,eventType:Dt,response:Er})})()}_subscribe(E,B){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(B)}_unsubscribe(E,B){this.handlersMap[E]&&B&&this.handlersMap[E].delete(B),(!B||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return F.receivers=[],F})();function ml(F="",m=10){let E="";for(let B=0;B<m;B++)E+=Math.floor(10*Math.random());return F+E}class $a{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,E,B=50){var me=this;return(0,c.Z)(function*(){const ke=typeof MessageChannel<"u"?new MessageChannel:null;if(!ke)throw new Error("connection_unavailable");let Dt,Kt;return new Promise((Cn,Un)=>{const Er=ml("",20);ke.port1.start();const pi=setTimeout(()=>{Un(new Error("unsupported_event"))},B);Kt={messageChannel:ke,onMessage(Fs){const Ls=Fs;if(Ls.data.eventId===Er)switch(Ls.data.status){case"ack":clearTimeout(pi),Dt=setTimeout(()=>{Un(new Error("timeout"))},3e3);break;case"done":clearTimeout(Dt),Cn(Ls.data.response);break;default:clearTimeout(pi),clearTimeout(Dt),Un(new Error("invalid_response"))}}},me.handlers.add(Kt),ke.port1.addEventListener("message",Kt.onMessage),me.target.postMessage({eventType:m,eventId:Er,data:E},[ke.port2])}).finally(()=>{Kt&&me.removeMessageHandler(Kt)})})()}}function tn(){return window}function zs(){return typeof tn().WorkerGlobalScope<"u"&&"function"==typeof tn().importScripts}function Zr(){return(Zr=(0,c.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kr="firebaseLocalStorageDb",$i="firebaseLocalStorage",kn="fbase_key";class fa{constructor(m){this.request=m}toPromise(){return new Promise((m,E)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Ea(F,m){return F.transaction([$i],m?"readwrite":"readonly").objectStore($i)}function Ds(){const F=indexedDB.open(kr,1);return new Promise((m,E)=>{F.addEventListener("error",()=>{E(F.error)}),F.addEventListener("upgradeneeded",()=>{const B=F.result;try{B.createObjectStore($i,{keyPath:kn})}catch(me){E(me)}}),F.addEventListener("success",(0,c.Z)(function*(){const B=F.result;B.objectStoreNames.contains($i)?m(B):(B.close(),yield function So(){const F=indexedDB.deleteDatabase(kr);return new fa(F).toPromise()}(),m(yield Ds()))}))})}function Ua(F,m,E){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(F,m,E){const B=Ea(F,!0).put({[kn]:m,value:E});return new fa(B).toPromise()})).apply(this,arguments)}function yl(){return(yl=(0,c.Z)(function*(F,m){const E=Ea(F,!1).get(m),B=yield new fa(E).toPromise();return void 0===B?null:B.value})).apply(this,arguments)}function vl(F,m){const E=Ea(F,!0).delete(m);return new fa(E).toPromise()}const el=(()=>{class F{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,c.Z)(function*(){return E.db||(E.db=yield Ds()),E.db})()}_withRetries(E){var B=this;return(0,c.Z)(function*(){let me=0;for(;;)try{const ke=yield B._openDb();return yield E(ke)}catch(ke){if(me++>3)throw ke;B.db&&(B.db.close(),B.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,c.Z)(function*(){return zs()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,c.Z)(function*(){E.receiver=Bc._getInstance(function Gs(){return zs()?self:null}()),E.receiver._subscribe("keyChanged",function(){var B=(0,c.Z)(function*(me,ke){return{keyProcessed:(yield E._poll()).includes(ke.key)}});return function(me,ke){return B.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var B=(0,c.Z)(function*(me,ke){return["keyChanged"]});return function(me,ke){return B.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,c.Z)(function*(){var B,me;if(E.activeServiceWorker=yield function Os(){return Zr.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new $a(E.activeServiceWorker);const ke=yield E.sender._send("ping",{},800);ke&&null!==(B=ke[0])&&void 0!==B&&B.fulfilled&&null!==(me=ke[0])&&void 0!==me&&me.value.includes("keyChanged")&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var B=this;return(0,c.Z)(function*(){if(B.sender&&B.activeServiceWorker&&function gr(){var F;return(null===(F=null==navigator?void 0:navigator.serviceWorker)||void 0===F?void 0:F.controller)||null}()===B.activeServiceWorker)try{yield B.sender._send("keyChanged",{key:E},B.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const E=yield Ds();return yield Ua(E,It,"1"),yield vl(E,It),!0}catch{}return!1})()}_withPendingWrite(E){var B=this;return(0,c.Z)(function*(){B.pendingWrites++;try{yield E()}finally{B.pendingWrites--}})()}_set(E,B){var me=this;return(0,c.Z)(function*(){return me._withPendingWrite((0,c.Z)(function*(){return yield me._withRetries(ke=>Ua(ke,E,B)),me.localCache[E]=B,me.notifyServiceWorker(E)}))})()}_get(E){var B=this;return(0,c.Z)(function*(){const me=yield B._withRetries(ke=>function xs(F,m){return yl.apply(this,arguments)}(ke,E));return B.localCache[E]=me,me})()}_remove(E){var B=this;return(0,c.Z)(function*(){return B._withPendingWrite((0,c.Z)(function*(){return yield B._withRetries(me=>vl(me,E)),delete B.localCache[E],B.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,c.Z)(function*(){const B=yield E._withRetries(Dt=>{const Kt=Ea(Dt,!1).getAll();return new fa(Kt).toPromise()});if(!B)return[];if(0!==E.pendingWrites)return[];const me=[],ke=new Set;for(const{fbase_key:Dt,value:Kt}of B)ke.add(Dt),JSON.stringify(E.localCache[Dt])!==JSON.stringify(Kt)&&(E.notifyListeners(Dt,Kt),me.push(Dt));for(const Dt of Object.keys(E.localCache))E.localCache[Dt]&&!ke.has(Dt)&&(E.notifyListeners(Dt,null),me.push(Dt));return me})()}notifyListeners(E,B){this.localCache[E]=B;const me=this.listeners[E];if(me)for(const ke of Array.from(me))ke(B)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,B){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(B)}_removeListener(E,B){this.listeners[E]&&(this.listeners[E].delete(B),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return F.type="LOCAL",F})();nr("rcb"),new $t(3e4,6e4);class oa extends q{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Pr(m,this._buildIdpRequest())}_linkToIdToken(m,E){return Pr(m,this._buildIdpRequest(E))}_getReauthenticationResolver(m){return Pr(m,this._buildIdpRequest())}_buildIdpRequest(m){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(E.idToken=m),E}}function El(F){return ls(F.auth,new oa(F),F.bypassAuthState)}function Uc(F){const{auth:m,user:E}=F;return Ee(E,m,"internal-error"),function Ro(F,m){return Ho.apply(this,arguments)}(E,new oa(F),F.bypassAuthState)}function Na(F){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,c.Z)(function*(F){const{auth:m,user:E}=F;return Ee(E,m,"internal-error"),function uo(F,m){return _s.apply(this,arguments)}(E,new oa(F),F.bypassAuthState)})).apply(this,arguments)}class Ld{constructor(m,E,B,me,ke=!1){this.auth=m,this.resolver=B,this.user=me,this.bypassAuthState=ke,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var m=this;return new Promise(function(){var E=(0,c.Z)(function*(B,me){m.pendingPromise={resolve:B,reject:me};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ke){m.reject(ke)}});return function(B,me){return E.apply(this,arguments)}}())}onAuthEvent(m){var E=this;return(0,c.Z)(function*(){const{urlResponse:B,sessionId:me,postBody:ke,tenantId:Dt,error:Kt,type:Cn}=m;if(Kt)return void E.reject(Kt);const Un={auth:E.auth,requestUri:B,sessionId:me,tenantId:Dt||void 0,postBody:ke||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Cn)(Un))}catch(Er){E.reject(Er)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return El;case"linkViaPopup":case"linkViaRedirect":return Na;case"reauthViaPopup":case"reauthViaRedirect":return Uc;default:ne(this.auth,"internal-error")}}resolve(m){it(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){it(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new $t(2e3,1e4);const J="pendingRedirect",b=new Map;class T extends Ld{constructor(m,E,B=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,B),this.eventId=null}execute(){var m=()=>super.execute,E=this;return(0,c.Z)(function*(){let B=b.get(E.auth._key());if(!B){try{const ke=(yield function K(F,m){return oe.apply(this,arguments)}(E.resolver,E.auth))?yield m().call(E):null;B=()=>Promise.resolve(ke)}catch(me){B=()=>Promise.reject(me)}b.set(E.auth._key(),B)}return E.bypassAuthState||b.set(E.auth._key(),()=>Promise.resolve(null)),B()})()}onAuthEvent(m){var E=()=>super.onAuthEvent,B=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return E().call(B,m);if("unknown"!==m.type){if(m.eventId){const me=yield B.auth._redirectUserForId(m.eventId);if(me)return B.user=me,E().call(B,m);B.resolve(null)}}else B.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function oe(){return(oe=(0,c.Z)(function*(F,m){const E=function pn(F){return nn(J,F.config.apiKey,F.name)}(m),B=function Ht(F){return bt(F._redirectPersistence)}(F);if(!(yield B._isAvailable()))return!1;const me="true"===(yield B._get(E));return yield B._remove(E),me})).apply(this,arguments)}function Mt(F,m){b.set(F._key(),m)}function Jo(F,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(F,m,E=!1){const B=Wr(F),me=function Qo(F,m){return m?bt(m):(Ee(F._popupRedirectResolver,F,"argument-error"),F._popupRedirectResolver)}(B,m),Dt=yield new T(B,me,E).execute();return Dt&&!E&&(delete Dt.user._redirectEventId,yield B._persistUserIfCurrent(Dt.user),yield B._setRedirectUser(null,m)),Dt})).apply(this,arguments)}class ba{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let E=!1;return this.consumers.forEach(B=>{this.isEventForConsumer(m,B)&&(E=!0,this.sendToConsumer(m,B),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ts(F){switch(F.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wa(F);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=m,E=!0)),E}sendToConsumer(m,E){var B;if(m.error&&!wa(m)){const me=(null===(B=m.error.code)||void 0===B?void 0:B.split("auth/")[1])||"internal-error";E.onError(ye(this.auth,me))}else E.onAuthEvent(m)}isEventForConsumer(m,E){const B=null===E.eventId||!!m.eventId&&m.eventId===E.eventId;return E.filter.includes(m.type)&&B}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ts(m))}saveEventToCache(m){this.cachedEventUids.add(Ts(m)),this.lastProcessedEventTime=Date.now()}}function Ts(F){return[F.type,F.eventId,F.sessionId,F.tenantId].filter(m=>m).join("-")}function wa({type:F,error:m}){return"unknown"===F&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Xn(){return(Xn=(0,c.Z)(function*(F,m={}){return dt(F,"GET","/v1/projects",m)})).apply(this,arguments)}const fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ar=/^https?/;function io(){return io=(0,c.Z)(function*(F){if(F.config.emulator)return;const{authorizedDomains:m}=yield function Da(F){return Xn.apply(this,arguments)}(F);for(const E of m)try{if(sa(E))return}catch{}ne(F,"unauthorized-domain")}),io.apply(this,arguments)}function sa(F){const m=Ue(),{protocol:E,hostname:B}=new URL(m);if(F.startsWith("chrome-extension://")){const Dt=new URL(F);return""===Dt.hostname&&""===B?"chrome-extension:"===E&&F.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===E&&Dt.hostname===B}if(!Ar.test(E))return!1;if(fr.test(F))return B===F;const me=F.replace(/\./g,"\\.");return new RegExp("^(.+\\."+me+"|"+me+")$","i").test(B)}const ps=new $t(3e4,6e4);function Ys(){const F=tn().___jsl;if(null!=F&&F.H)for(const m of Object.keys(F.H))if(F.H[m].r=F.H[m].r||[],F.H[m].L=F.H[m].L||[],F.H[m].r=[...F.H[m].L],F.CP)for(let E=0;E<F.CP.length;E++)F.CP[E]=null}let kl=null;const ns=new $t(5e3,15e3),qs="__/auth/iframe",Ki="emulator/auth/iframe",Fl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nl(F){const m=F.config;Ee(m.authDomain,F,"auth-domain-config-required");const E=m.emulator?mt(m,Ki):`https://${F.config.authDomain}/${qs}`,B={apiKey:m.apiKey,appName:F.name,v:Y.Jn},me=Gr.get(F.config.apiHost);me&&(B.eid=me);const ke=F._getFrameworks();return ke.length&&(B.fw=ke.join(",")),`${E}?${(0,d.xO)(B).slice(1)}`}function zc(){return zc=(0,c.Z)(function*(F){const m=yield function Bd(F){return kl=kl||function po(F){return new Promise((m,E)=>{var B,me,ke;function Dt(){Ys(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Ys(),E(ye(F,"network-request-failed"))},timeout:ps.get()})}if(null!==(me=null===(B=tn().gapi)||void 0===B?void 0:B.iframes)&&void 0!==me&&me.Iframe)m(gapi.iframes.getContext());else{if(null===(ke=tn().gapi)||void 0===ke||!ke.load){const Kt=nr("iframefcb");return tn()[Kt]=()=>{gapi.load?Dt():E(ye(F,"network-request-failed"))},Zn(`https://apis.google.com/js/api.js?onload=${Kt}`).catch(Cn=>E(Cn))}Dt()}}).catch(m=>{throw kl=null,m})}(F),kl}(F),E=tn().gapi;return Ee(E,F,"internal-error"),m.open({where:document.body,url:nl(F),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fl,dontclear:!0},B=>new Promise(function(){var me=(0,c.Z)(function*(ke,Dt){yield B.restyle({setHideOnLeave:!1});const Kt=ye(F,"network-request-failed"),Cn=tn().setTimeout(()=>{Dt(Kt)},ns.get());function Un(){tn().clearTimeout(Cn),ke(B)}B.ping(Un).then(Un,()=>{Dt(Kt)})});return function(ke,Dt){return me.apply(this,arguments)}}()))}),zc.apply(this,arguments)}const gs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Il{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vf="__/auth/handler",ks="emulator/auth/handler",Gc=encodeURIComponent("fac");function rl(F,m,E,B,me,ke){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(F,m,E,B,me,ke){Ee(F.config.authDomain,F,"auth-domain-config-required"),Ee(F.config.apiKey,F,"invalid-api-key");const Dt={apiKey:F.config.apiKey,appName:F.name,authType:E,redirectUrl:B,v:Y.Jn,eventId:me};if(m instanceof Gi){m.setDefaultLanguage(F.languageCode),Dt.providerId=m.providerId||"",(0,d.xb)(m.getCustomParameters())||(Dt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Er,pi]of Object.entries(ke||{}))Dt[Er]=pi}if(m instanceof ss){const Er=m.getScopes().filter(pi=>""!==pi);Er.length>0&&(Dt.scopes=Er.join(","))}F.tenantId&&(Dt.tid=F.tenantId);const Kt=Dt;for(const Er of Object.keys(Kt))void 0===Kt[Er]&&delete Kt[Er];const Cn=yield F._getAppCheckToken(),Un=Cn?`#${Gc}=${encodeURIComponent(Cn)}`:"";return`${function Vd({config:F}){return F.emulator?mt(F,ks):`https://${F.authDomain}/${Vf}`}(F)}?${(0,d.xO)(Kt).slice(1)}${Un}`})).apply(this,arguments)}const Lu="webStorageSupport",jd=class jf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gl,this._completeRedirectFn=Jo,this._overrideRedirectResult=Mt}_openPopup(m,E,B,me){var ke=this;return(0,c.Z)(function*(){var Dt;it(null===(Dt=ke.eventManagers[m._key()])||void 0===Dt?void 0:Dt.manager,"_initialize() not called before _openPopup()");const Kt=yield rl(m,E,B,Ue(),me);return function Ud(F,m,E,B=500,me=600){const ke=Math.max((window.screen.availHeight-me)/2,0).toString(),Dt=Math.max((window.screen.availWidth-B)/2,0).toString();let Kt="";const Cn=Object.assign(Object.assign({},gs),{width:B.toString(),height:me.toString(),top:ke,left:Dt}),Un=(0,d.z$)().toLowerCase();E&&(Kt=Ce(Un)?"_blank":E),de(Un)&&(m=m||"http://localhost",Cn.scrollbars="yes");const Er=Object.entries(Cn).reduce((Fs,[Ls,ic])=>`${Fs}${Ls}=${ic},`,"");if(function Zt(F=(0,d.z$)()){var m;return kt(F)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Un)&&"_self"!==Kt)return function ku(F,m){const E=document.createElement("a");E.href=F,E.target=m;const B=document.createEvent("MouseEvent");B.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(B)}(m||"",Kt),new Il(null);const pi=window.open(m||"",Kt,Er);Ee(pi,F,"popup-blocked");try{pi.focus()}catch{}return new Il(pi)}(m,Kt,ml())})()}_openRedirect(m,E,B,me){var ke=this;return(0,c.Z)(function*(){return yield ke._originValidation(m),function Bn(F){tn().location.href=F}(yield rl(m,E,B,Ue(),me)),new Promise(()=>{})})()}_initialize(m){const E=m._key();if(this.eventManagers[E]){const{manager:me,promise:ke}=this.eventManagers[E];return me?Promise.resolve(me):(it(ke,"If manager is not set, promise should be"),ke)}const B=this.initAndGetManager(m);return this.eventManagers[E]={promise:B},B.catch(()=>{delete this.eventManagers[E]}),B}initAndGetManager(m){var E=this;return(0,c.Z)(function*(){const B=yield function Ll(F){return zc.apply(this,arguments)}(m),me=new ba(m);return B.register("authEvent",ke=>(Ee(null==ke?void 0:ke.authEvent,m,"invalid-auth-event"),{status:me.onEvent(ke.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[m._key()]={manager:me},E.iframes[m._key()]=B,me})()}_isIframeWebStorageSupported(m,E){this.iframes[m._key()].send(Lu,{type:Lu},me=>{var ke;const Dt=null===(ke=null==me?void 0:me[0])||void 0===ke?void 0:ke[Lu];void 0!==Dt&&E(!!Dt),ne(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const E=m._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function jr(F){return io.apply(this,arguments)}(m)),this.originValidationPromises[E]}get _shouldInitProactively(){return gt()||ve()||kt()}};var Bl="@firebase/auth";class Kc{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var E=this;return(0,c.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const E=this.auth.onIdTokenChanged(B=>{m((null==B?void 0:B.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,E),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const E=this.internalListeners.get(m);E&&(this.internalListeners.delete(m),E(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Uu=(0,d.Pz)("authIdTokenMaxAge")||300;let bl=null;const zd=F=>function(){var m=(0,c.Z)(function*(E){const B=E&&(yield E.getIdTokenResult()),me=B&&((new Date).getTime()-Date.parse(B.issuedAtTime))/1e3;if(me&&me>Uu)return;const ke=null==B?void 0:B.token;bl!==ke&&(bl=ke,yield fetch(F,{method:ke?"POST":"DELETE",headers:ke?{Authorization:`Bearer ${ke}`}:{}}))});return function(E){return m.apply(this,arguments)}}();function ol(F=(0,Y.Mq)()){const m=(0,Y.qX)(F,"auth");if(m.isInitialized())return m.getImmediate();const E=wi(F,{popupRedirectResolver:jd,persistence:[el,pl,gl]}),B=(0,d.Pz)("authTokenSyncURL");if(B){const ke=zd(B);(function _n(F,m,E){(0,d.m9)(F).beforeAuthStateChanged(m,E)})(E,ke,()=>ke(E.currentUser)),Xt(E,Dt=>ke(Dt))}const me=(0,d.q4)("auth");return me&&ci(E,`http://${me}`),E}!function Yc(F){(0,Y.Xd)(new V.wA("auth",(m,{options:E})=>{const B=m.getProvider("app").getImmediate(),me=m.getProvider("heartbeat"),ke=m.getProvider("app-check-internal"),{apiKey:Dt,authDomain:Kt}=B.options;Ee(Dt&&!Dt.includes(":"),"invalid-api-key",{appName:B.name});const Cn={apiKey:Dt,authDomain:Kt,clientPlatform:F,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qe(F)},Un=new mi(B,me,ke,Cn);return function Ci(F,m){const E=(null==m?void 0:m.persistence)||[],B=(Array.isArray(E)?E:[E]).map(bt);null!=m&&m.errorMap&&F._updateErrorMap(m.errorMap),F._initializeWithPersistence(B,null==m?void 0:m.popupRedirectResolver)}(Un,E),Un},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,E,B)=>{m.getProvider("auth-internal").initialize()})),(0,Y.Xd)(new V.wA("auth-internal",m=>{const E=Wr(m.getProvider("auth").getImmediate());return new Kc(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.KN)(Bl,"0.23.2",function Bu(F){switch(F){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(F)),(0,Y.KN)(Bl,"0.23.2","esm2017")}("Browser")},15:(lt,rt,C)=>{"use strict";C.d(rt,{ET:()=>Ry,xD:()=>vy,hJ:()=>hy,B$:()=>m0,at:()=>dg,oe:()=>Ay,JU:()=>_d,QT:()=>Jv,PL:()=>Pf,ad:()=>gf,IO:()=>Wv,pl:()=>Ty,r7:()=>Cy,ar:()=>Kv});var N,c=C(5861),d=C(534),Y=C(4537),U=C(7879),W=C(9058),V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O={},M=M||{},_=V||self;function A(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function S(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var H="closure_uid_"+(1e9*Math.random()>>>0),X=0;function be(i,e,t){return i.call.apply(i.bind,arguments)}function pe(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function se(i,e,t){return(se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?be:pe).apply(null,arguments)}function Me(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function we(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,l,h){for(var y=Array(arguments.length-2),$=2;$<arguments.length;$++)y[$-2]=arguments[$];return e.prototype[l].apply(s,y)}}function ne(){this.s=this.s,this.o=this.o}ne.prototype.s=!1,ne.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function P(i){Object.prototype.hasOwnProperty.call(i,H)&&i[H]||(i[H]=++X)}(this)},ne.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Re=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function je(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Ae(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(A(s)){const l=i.length||0,h=s.length||0;i.length=l+h;for(let y=0;y<h;y++)i[l+y]=s[y]}else i.push(s)}}function Ee(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{_.addEventListener("test",()=>{},e),_.removeEventListener("test",()=>{},e)}catch{}return i}();function it(i){return/^[\s\xa0]*$/.test(i)}function Ue(){var i=_.navigator;return i&&(i=i.userAgent)?i:""}function Ie(i){return-1!=Ue().indexOf(i)}function Pe(i){return Pe[" "](i),i}Pe[" "]=function(){};var dt,i,ut=Ie("Opera"),$t=Ie("Trident")||Ie("MSIE"),mt=Ie("Edge"),De=mt||$t,Le=Ie("Gecko")&&!(-1!=Ue().toLowerCase().indexOf("webkit")&&!Ie("Edge"))&&!(Ie("Trident")||Ie("MSIE"))&&!Ie("Edge"),He=-1!=Ue().toLowerCase().indexOf("webkit")&&!Ie("Edge");function Xe(){var i=_.document;return i?i.documentMode:void 0}e:{var St="",zt=(i=Ue(),Le?/rv:([^\);]+)(\)|;)/.exec(i):mt?/Edge\/([\d\.]+)/.exec(i):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):He?/WebKit\/(\S+)/.exec(i):ut?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(zt&&(St=zt?zt[1]:""),$t){var Qt=Xe();if(null!=Qt&&Qt>parseFloat(St)){dt=String(Qt);break e}}dt=St}var Ct=_.document&&$t&&(Xe()||parseInt(dt,10))||void 0;function Pt(i,e){if(Ee.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Le){e:{try{Pe(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Wt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Pt.$.h.call(this)}}we(Pt,Ee);var Wt={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var an="closure_listenable_"+(1e6*Math.random()|0),In=0;function vn(i,e,t,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=l,this.key=++In,this.fa=this.ia=!1}function Tt(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function gn(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function Ln(i){const e={};for(const t in i)e[t]=i[t];return e}const Sn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vr(i,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)i[t]=s[t];for(let h=0;h<Sn.length;h++)t=Sn[h],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Gn(i){this.src=i,this.g={},this.h=0}function tr(i,e){var t=e.type;if(t in i.g){var h,s=i.g[t],l=Re(s,e);(h=0<=l)&&Array.prototype.splice.call(s,l,1),h&&(Tt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function fn(i,e,t,s){for(var l=0;l<i.length;++l){var h=i[l];if(!h.fa&&h.listener==e&&h.capture==!!t&&h.la==s)return l}return-1}Gn.prototype.add=function(i,e,t,s,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var y=fn(i,e,s,l);return-1<y?(e=i[y],t||(e.ia=!1)):((e=new vn(e,this.src,h,!!s,l)).ia=t,i.push(e)),e};var mn="closure_lm_"+(1e6*Math.random()|0),_r={};function pr(i,e,t,s,l){if(s&&s.once)return Ft(i,e,t,s,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)pr(i,e[h],t,s,l);return null}return t=zr(t),i&&i[an]?i.O(e,t,S(s)?!!s.capture:!!s,l):An(i,e,t,!1,s,l)}function An(i,e,t,s,l,h){if(!e)throw Error("Invalid event type");var y=S(l)?!!l.capture:!!l,$=Mn(i);if($||(i[mn]=$=new Gn(i)),(t=$.add(e,t,s,y,h)).proxy)return t;if(s=function Yn(){const e=Rn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)st||(l=y),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Tr(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function Ft(i,e,t,s,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Ft(i,e[h],t,s,l);return null}return t=zr(t),i&&i[an]?i.P(e,t,S(s)?!!s.capture:!!s,l):An(i,e,t,!0,s,l)}function sr(i,e,t,s,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)sr(i,e[h],t,s,l);else s=S(s)?!!s.capture:!!s,t=zr(t),i&&i[an]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=fn(h=i.g[e],t,s,l))&&(Tt(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=Mn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=fn(e,t,s,l)),(t=-1<i?e[i]:null)&&on(t))}function on(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[an])tr(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(Tr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Mn(e))?(tr(t,i),0==t.h&&(t.src=null,e[mn]=null)):Tt(i)}}}function Tr(i){return i in _r?_r[i]:_r[i]="on"+i}function Rn(i,e){if(i.fa)i=!0;else{e=new Pt(e,this);var t=i.listener,s=i.la||i.src;i.ia&&on(i),i=t.call(s,e)}return i}function Mn(i){return(i=i[mn])instanceof Gn?i:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zr(i){return"function"==typeof i?i:(i[jn]||(i[jn]=function(e){return i.handleEvent(e)}),i[jn])}function Wn(){ne.call(this),this.i=new Gn(this),this.S=this,this.J=null}function Tn(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Ee(e,i);else if(e instanceof Ee)e.target=e.target||i;else{var l=e;vr(e=new Ee(s,i),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var y=e.g=t[h];l=We(y,s,!0,e)&&l}if(l=We(y=e.g=i,s,!0,e)&&l,l=We(y,s,!1,e)&&l,t)for(h=0;h<t.length;h++)l=We(y=e.g=t[h],s,!1,e)&&l}function We(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var y=e[h];if(y&&!y.fa&&y.capture==t){var $=y.listener,ee=y.la||y.src;y.ia&&tr(i.i,y),l=!1!==$.call(ee,s)&&l}}return l&&!s.defaultPrevented}we(Wn,ne),Wn.prototype[an]=!0,Wn.prototype.removeEventListener=function(i,e,t,s){sr(this,i,e,t,s)},Wn.prototype.N=function(){if(Wn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Tt(t[s]);delete i.g[e],i.h--}}this.J=null},Wn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},Wn.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var et=_.JSON.stringify;function bt(){var i=Ce;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Yt=new class Nt{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new nn,i=>i.reset());class nn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Be(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function he(i){_.setTimeout(()=>{throw i},0)}let de,ve=!1,Ce=new class Gt{constructor(){this.h=this.g=null}add(e,t){const s=Yt.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},pt=()=>{const i=_.Promise.resolve(void 0);de=()=>{i.then(Ot)}};var Ot=()=>{for(var i;i=bt();){try{i.h.call(i.g)}catch(t){he(t)}var e=Yt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ve=!1};function tt(i,e){Wn.call(this),this.h=i||1,this.g=e||_,this.j=se(this.qb,this),this.l=Date.now()}function _t(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function kt(i,e,t){if("function"==typeof i)t&&(i=se(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=se(i.handleEvent,i)}return 2147483647<Number(e)?-1:_.setTimeout(i,e||0)}function Jt(i){i.g=kt(()=>{i.g=null,i.i&&(i.i=!1,Jt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}we(tt,Wn),(N=tt.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(_t(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){tt.$.N.call(this),_t(this),delete this.g};class Zt extends ne{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(i){ne.call(this),this.h=i,this.g={}}we(bn,ne);var gt=[];function Ge(i,e,t,s){Array.isArray(t)||(t&&(gt[0]=t.toString()),t=gt);for(var l=0;l<t.length;l++){var h=pr(e,t[l],s||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function qe(i){gn(i.g,function(e,t){this.g.hasOwnProperty(t)&&on(e)},i),i.g={}}function Ve(){this.g=!0}function Et(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var y=1;y<l.length;y++)l[y]=""}}}return et(t)}catch{return e}}(i,t)+(s?" "+s:"")})}bn.prototype.N=function(){bn.$.N.call(this),qe(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ve.prototype.Ea=function(){this.g=!1},Ve.prototype.info=function(){};var On={},Dr=null;function Zn(){return Dr=Dr||new Wn}function nr(i){Ee.call(this,On.Ta,i)}function yr(i){const e=Zn();Tn(e,new nr(e))}function Kn(i,e){Ee.call(this,On.STAT_EVENT,i),this.stat=e}function dr(i){const e=Zn();Tn(e,new Kn(e,i))}function Fr(i,e){Ee.call(this,On.Ua,i),this.size=e}function Ur(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){i()},e)}On.Ta="serverreachability",we(nr,Ee),On.STAT_EVENT="statevent",we(Kn,Ee),On.Ua="timingevent",we(Fr,Ee);var bi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mi(){}function li(){}mi.prototype.h=null;var yt,wi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ci(){Ee.call(this,"d")}function ci(){Ee.call(this,"c")}function Q(){}function ue(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new bn(this),this.P=q,this.V=new tt(i=De?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}we(Ci,Ee),we(ci,Ee),we(Q,mi),Q.prototype.g=function(){return new XMLHttpRequest},Q.prototype.i=function(){return{}},yt=new Q;var q=45e3,ge={},Oe={};function nt(i,e,t){i.L=1,i.v=Xr(to(e)),i.s=t,i.S=!0,vt(i,null)}function vt(i,e){i.G=Date.now(),Pn(i),i.A=to(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),Vo(t.i,"t",s),i.C=0,t=i.l.J,i.h=new ae,i.g=ca(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Zt(se(i.Pa,i,i.g),i.O)),Ge(i.U,i.g,"readystatechange",i.nb),e=i.I?Ln(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),yr(),function Ye(i,e,t,s,l,h){i.info(function(){if(i.g)if(h)for(var y="",$=h.split("&"),ee=0;ee<$.length;ee++){var le=$[ee].split("=");if(1<le.length){var Ne=le[0];le=le[1];var ot=Ne.split("_");y=2<=ot.length&&"type"==ot[1]?y+(Ne+"=")+le+"&":y+(Ne+"=redacted&")}}else y=null;else y=h;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.W,i.s)}function xt(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Lt(i,e,t){let l,s=!0;for(;!i.J&&i.C<t.length;){if(l=cn(i,t),l==Oe){4==e&&(i.o=4,dr(14),s=!1),Et(i.j,i.m,null,"[Incomplete Response]");break}if(l==ge){i.o=4,dr(15),Et(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}Et(i.j,i.m,l,null),Qi(i,l)}xt(i)&&l!=Oe&&l!=ge&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,dr(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ur(e),e.M=!0,dr(11))):(Et(i.j,i.m,t,"[Invalid Chunked Response]"),ui(i),Bi(i))}function cn(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Oe:(t=Number(e.substring(t,s)),isNaN(t)?ge:(s+=1)+t>e.length?Oe:(e=e.slice(s,s+t),i.C=s+t,e))}function Pn(i){i.Y=Date.now()+i.P,Jn(i,i.P)}function Jn(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ur(se(i.lb,i),e)}function Or(i){i.B&&(_.clearTimeout(i.B),i.B=null)}function Bi(i){0==i.l.H||i.J||Cr(i.l,i)}function ui(i){Or(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,_t(i.V),qe(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Qi(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||mo(t.i,i)))if(!i.K&&mo(t.i,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;xr(t),f(t)}En(t),dr(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ur(se(t.ib,t),6e3));if(1>=ao(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else vo(t,11)}else if((i.K||t.g==i)&&xr(t),!it(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let le=l[e];if(t.V=le[0],le=le[1],2==t.H)if("c"==le[0]){t.K=le[1],t.pa=le[2];const Ne=le[3];null!=Ne&&(t.ra=Ne,t.l.info("VER="+t.ra));const ot=le[4];null!=ot&&(t.Ga=ot,t.l.info("SVER="+t.Ga));const Bt=le[5];null!=Bt&&"number"==typeof Bt&&0<Bt&&(t.L=s=1.5*Bt,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const rn=i.g;if(rn){const Dn=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var h=s.i;h.g||-1==Dn.indexOf("spdy")&&-1==Dn.indexOf("quic")&&-1==Dn.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(ro(h,h.h),h.h=null))}if(s.F){const qn=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;qn&&(s.Da=qn,Pr(s.I,s.F,qn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var y=i;if((s=t).wa=Ms(s,s.J?s.pa:null,s.Y),y.K){Yo(s.i,y);var $=y,ee=s.L;ee&&$.setTimeout(ee),$.B&&(Or($),Pn($)),s.g=y}else jt(s);0<t.j.length&&p(t)}else"stop"!=le[0]&&"close"!=le[0]||vo(t,7);else 3==t.H&&("stop"==le[0]||"close"==le[0]?"stop"==le[0]?vo(t,7):ie(t):"noop"!=le[0]&&t.h&&t.h.Aa(le),t.A=0)}yr()}catch{}}function di(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(A(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Mr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(A(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Ui(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(A(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),l=s.length,h=0;h<l;h++)e.call(void 0,s[h],t&&t[h],i)}(N=ue.prototype).setTimeout=function(i){this.P=i},N.nb=function(i){i=i.target;const e=this.M;e&&3==ho(i)?e.l():this.Pa(i)},N.Pa=function(i){try{if(i==this.g)e:{const Ne=ho(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ne)&&(3!=Ne||De||this.g&&(this.h.h||this.g.ja()||Bo(this.g)))){this.J||4!=Ne||7==e||yr(),Or(this);var t=this.g.da();this.ca=t;t:if(xt(this)){var s=Bo(this.g);i="";var l=s.length,h=4==ho(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Bi(this);var y="";break t}this.h.i=new _.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:h&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ja();if(this.i=200==t,function ft(i,e,t,s,l,h,y){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+y})}(this.j,this.u,this.A,this.m,this.W,Ne,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var $,ee=this.g;if(($=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it($)){var le=$;break t}}le=null}if(!(t=le)){this.i=!1,this.o=3,dr(12),ui(this),Bi(this);break e}Et(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qi(this,t)}this.S?(Lt(this,Ne,y),De&&this.i&&3==Ne&&(Ge(this.U,this.V,"tick",this.mb),this.V.start())):(Et(this.j,this.m,y,null),Qi(this,y)),4==Ne&&ui(this),this.i&&!this.J&&(4==Ne?Cr(this.l,this):(this.i=!1,Pn(this)))}else(function ea(i){const e={};i=(i.g&&2<=ho(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(it(i[s]))continue;var t=Be(i[s]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const h=e[l]||[];e[l]=h,h.push(t)}!function or(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<y.indexOf("Unknown SID")?(this.o=3,dr(12)):(this.o=0,dr(13)),ui(this),Bi(this)}}}catch{}},N.mb=function(){if(this.g){var i=ho(this.g),e=this.g.ja();this.C<e.length&&(Or(this),Lt(this,i,e),this.i&&4!=i&&Pn(this))}},N.cancel=function(){this.J=!0,ui(this)},N.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function ln(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(yr(),dr(17)),ui(this),this.o=2,Bi(this)):Jn(this,this.Y-i)};var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ni(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ni){this.h=i.h,wo(this,i.j),this.s=i.s,this.g=i.g,no(this,i.m),this.l=i.l;var e=i.i,t=new oo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Vi(this,t),this.o=i.o}else i&&(e=String(i).match(Ni))?(this.h=!1,wo(this,e[1]||"",!0),this.s=wn(e[2]||""),this.g=wn(e[3]||"",!0),no(this,e[4]),this.l=wn(e[5]||"",!0),Vi(this,e[6]||"",!0),this.o=wn(e[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}function to(i){return new ni(i)}function wo(i,e,t){i.j=t?wn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function no(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Vi(i,e,t){e instanceof oo?(i.i=e,function yi(i,e){e&&!i.j&&(Ai(i),i.i=null,i.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(er(this,s),Vo(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=cr(e,$o)),i.i=new oo(e,i.h))}function Pr(i,e,t){i.i.set(e,t)}function Xr(i){return Pr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function wn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function cr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Kr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Kr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ni.prototype.toString=function(){var i=[],e=this.j;e&&i.push(cr(e,ki,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(cr(e,ki,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(cr(t,"/"==t.charAt(0)?hi:Do,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",cr(t,_i)),i.join("")};var ki=/[#\/\?@]/g,Do=/[#\?:]/g,hi=/[#\?]/g,$o=/[#\?@]/g,_i=/#/g;function oo(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ai(i){i.g||(i.g=new Map,i.h=0,i.i&&function Uo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),l=null;if(0<=s){var h=i[t].substring(0,s);l=i[t].substring(s+1)}else h=i[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function er(i,e){Ai(i),e=Zi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function qi(i,e){return Ai(i),e=Zi(i,e),i.g.has(e)}function Vo(i,e,t){er(i,e),0<t.length&&(i.i=null,i.g.set(Zi(i,e),je(t)),i.h+=t.length)}function Zi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function so(i){this.l=i||Gi,i=_.PerformanceNavigationTiming?0<(i=_.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(_.g&&_.g.Ka&&_.g.Ka()&&_.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=oo.prototype).add=function(i,e){Ai(this),this.i=null,i=Zi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},N.forEach=function(i,e){Ai(this),this.g.forEach(function(t,s){t.forEach(function(l){i.call(e,l,s,this)},this)},this)},N.ta=function(){Ai(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const l=i[s];for(let h=0;h<l.length;h++)t.push(e[s])}return t},N.Z=function(i){Ai(this);let e=[];if("string"==typeof i)qi(this,i)&&(e=e.concat(this.g.get(Zi(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},N.set=function(i,e){return Ai(this),this.i=null,qi(this,i=Zi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},N.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const h=encodeURIComponent(String(s)),y=this.Z(s);for(s=0;s<y.length;s++){var l=h;""!==y[s]&&(l+="="+encodeURIComponent(String(y[s]))),i.push(l)}}return this.i=i.join("&")};var Gi=10;function ss(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ao(i){return i.h?1:i.g?i.g.size:0}function mo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ro(i,e){i.g?i.g.add(e):i.h=e}function Yo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function lo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return je(i.i)}so.prototype.cancel=function(){if(this.i=lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var hr=class{stringify(i){return _.JSON.stringify(i,void 0)}parse(i){return _.JSON.parse(i,void 0)}};function yo(){this.g=new hr}function vs(i,e,t){const s=t||"";try{di(i,function(l,h){let y=l;S(l)&&(y=et(l)),e.push(s+h+"="+encodeURIComponent(y))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Wi(i,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function Ao(i){this.l=i.fc||null,this.j=i.ob||!1}function oi(i,e){Wn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=co,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}we(Ao,mi),Ao.prototype.g=function(){return new oi(this.l,this.j)},Ao.prototype.i=function(i){return function(){return i}}({}),we(oi,Wn);var co=0;function ji(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function ko(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Jr(i)}function Jr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(N=oi.prototype).open=function(i,e){if(this.readyState!=co)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Jr(this)},N.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||_).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ko(this)),this.readyState=co},N.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ji(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ko(this):Jr(this),3==this.readyState&&ji(this)}},N.Za=function(i){this.g&&(this.response=this.responseText=i,ko(this))},N.Ya=function(i){this.g&&(this.response=i,ko(this))},N.ka=function(){this.g&&ko(this)},N.setRequestHeader=function(i,e){this.v.append(i,e)},N.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var fi=_.JSON.parse;function si(i){Wn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ji,this.L=this.M=!1}we(si,Wn);var Ji="",as=/^https?$/i,uo=["POST","PUT"];function Es(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,jo(i),Ho(i)}function jo(i){i.F||(i.F=!0,Tn(i,"complete"),Tn(i,"error"))}function Ro(i){if(i.h&&typeof M<"u"&&(!i.C[1]||4!=ho(i)||2!=i.da()))if(i.v&&4==ho(i))kt(i.La,0,i);else if(Tn(i,"readystatechange"),4==ho(i)){i.h=!1;try{const y=i.da();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===y){var l=String(i.I).match(Ni)[1]||null;!l&&_.self&&_.self.location&&(l=_.self.location.protocol.slice(0,-1)),s=!as.test(l?l.toLowerCase():"")}t=s}if(t)Tn(i,"complete"),Tn(i,"success");else{i.m=6;try{var h=2<ho(i)?i.g.statusText:""}catch{h=""}i.j=h+" ["+i.da()+"]",jo(i)}}finally{Ho(i)}}}function Ho(i,e){if(i.g){ls(i);const t=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Tn(i,"ready");try{t.onreadystatechange=s}catch{}}}function ls(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(_.clearTimeout(i.A),i.A=null)}function ho(i){return i.g?i.g.readyState:0}function Bo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ji:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(i){let e="";return gn(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Is(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Fo(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Pr(i,e,t))}function ta(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function w(i){this.Ga=0,this.j=[],this.l=new Ve,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ta("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ta("baseRetryDelayMs",5e3,i),this.hb=ta("retryDelaySeedMs",1e4,i),this.eb=ta("forwardChannelMaxRetries",2,i),this.xa=ta("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new so(i&&i.concurrentRequestLimit),this.Ja=new yo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ie(i){if(v(i),3==i.H){var e=i.W++,t=to(i.I);if(Pr(t,"SID",i.K),Pr(t,"RID",e),Pr(t,"TYPE","terminate"),ze(i,t),(e=new ue(i,i.l,e)).L=2,e.v=Xr(to(t)),t=!1,_.navigator&&_.navigator.sendBeacon)try{t=_.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&_.Image&&((new Image).src=e.v,t=!0),t||(e.g=ca(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pn(e)}bs(i)}function f(i){i.g&&(ur(i),i.g.cancel(),i.g=null)}function v(i){f(i),i.u&&(_.clearTimeout(i.u),i.u=null),xr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&_.clearTimeout(i.m),i.m=null)}function p(i){if(!ss(i.i)&&!i.m){i.m=!0;var e=i.Na;de||pt(),ve||(de(),ve=!0),Ce.add(e,i),i.C=0}}function fe(i,e){var t;t=e?e.m:i.W++;const s=to(i.I);Pr(s,"SID",i.K),Pr(s,"RID",t),Pr(s,"AID",i.V),ze(i,s),i.o&&i.s&&Is(s,i.o,i.s),t=new ue(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=wt(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ro(i.i,t),nt(t,s,e)}function ze(i,e){i.na&&gn(i.na,function(t,s){Pr(e,s,t)}),i.h&&di({},function(t,s){Pr(e,s,t)})}function wt(i,e,t){t=Math.min(i.j.length,t);var s=i.h?se(i.h.Va,i.h,i):null;e:{var l=i.j;let h=-1;for(;;){const y=["count="+t];-1==h?0<t?(h=l[0].g,y.push("ofs="+h)):h=0:y.push("ofs="+h);let $=!0;for(let ee=0;ee<t;ee++){let le=l[ee].g;const Ne=l[ee].map;if(le-=h,0>le)h=Math.max(0,l[ee].g-100),$=!1;else try{vs(Ne,y,"req"+le+"_")}catch{s&&s(Ne)}}if($){s=y.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,s}function jt(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;de||pt(),ve||(de(),ve=!0),Ce.add(e,i),i.A=0}}function En(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ur(se(i.Ma,i),Sr(i,i.A)),i.A++,0))}function ur(i){null!=i.B&&(_.clearTimeout(i.B),i.B=null)}function Ir(i){i.g=new ue(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=to(i.wa);Pr(e,"RID","rpc"),Pr(e,"SID",i.K),Pr(e,"AID",i.V),Pr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Pr(e,"TO",i.qa),Pr(e,"TYPE","xmlhttp"),ze(i,e),i.o&&i.s&&Is(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=Xr(to(e)),t.s=null,t.S=!0,vt(t,i)}function xr(i){null!=i.v&&(_.clearTimeout(i.v),i.v=null)}function Cr(i,e){var t=null;if(i.g==e){xr(i),ur(i),i.g=null;var s=2}else{if(!mo(i.i,e))return;t=e.F,Yo(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;Tn(s=Zn(),new Fr(s,t)),p(i)}else jt(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function x(i,e){return!(ao(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ur(se(i.Na,i,e),Sr(i,i.C)),i.C++,0)))}(i,e)||2==s&&En(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:vo(i,5);break;case 4:vo(i,10);break;case 3:vo(i,6);break;default:vo(i,2)}}function Sr(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function vo(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var s=se(i.pb,i);t||(t=new ni("//www.google.com/images/cleardot.gif"),_.location&&"http"==_.location.protocol||wo(t,"https"),Xr(t)),function Bs(i,e){const t=new Ve;if(_.Image){const s=new Image;s.onload=Me(Wi,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Me(Wi,t,s,"TestLoadImage: error",!1,e),s.onabort=Me(Wi,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Me(Wi,t,s,"TestLoadImage: timeout",!1,e),_.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else dr(2);i.H=0,i.h&&i.h.za(e),bs(i),v(i)}function bs(i){if(i.H=0,i.ma=[],i.h){const e=lo(i.i);(0!=e.length||0!=i.j.length)&&(Ae(i.ma,e),Ae(i.ma,i.j),i.i.i.length=0,je(i.j),i.j.length=0),i.h.ya()}}function Ms(i,e,t){var s=t instanceof ni?to(t):new ni(t);if(""!=s.g)e&&(s.g=e+"."+s.g),no(s,s.m);else{var l=_.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var h=new ni(null);s&&wo(h,s),e&&(h.g=e),l&&no(h,l),t&&(h.l=t),s=h}return e=i.Da,(t=i.F)&&e&&Pr(s,t,e),Pr(s,"VER",i.ra),ze(i,s),s}function ca(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new si(t&&i.Ha&&!i.va?new Ao({ob:!0}):i.va)).Oa(i.J),e}function Us(){}function Ri(){if($t&&!(10<=Number(Ct)))throw Error("Environmental error: no available transport.")}function Hi(i,e){Wn.call(this),this.g=new w(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!it(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!it(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Qa(this)}function Ei(i){Ci.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Xa(){ci.call(this),this.status=1}function Qa(i){this.g=i}function cs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ps(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)s[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var h=i.g[3],y=(e=i.g[0])+(h^(t=i.g[1])&((l=i.g[2])^h))+s[0]+3614090360&4294967295;y=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=(t=(l=(h=(e=t+(y<<7&4294967295|y>>>25))+((y=h+(l^e&(t^l))+s[1]+3905402710&4294967295)<<12&4294967295|y>>>20))+((y=l+(t^h&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^l&(h^e))+s[3]+3250441966&4294967295)<<22&4294967295|y>>>10))+((y=e+(h^t&(l^h))+s[4]+4118548399&4294967295)<<7&4294967295|y>>>25))+((y=h+(l^e&(t^l))+s[5]+1200080426&4294967295)<<12&4294967295|y>>>20))+((y=l+(t^h&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^l&(h^e))+s[7]+4249261313&4294967295)<<22&4294967295|y>>>10))+((y=e+(h^t&(l^h))+s[8]+1770035416&4294967295)<<7&4294967295|y>>>25))+((y=h+(l^e&(t^l))+s[9]+2336552879&4294967295)<<12&4294967295|y>>>20))+((y=l+(t^h&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^l&(h^e))+s[11]+2304563134&4294967295)<<22&4294967295|y>>>10))+((y=e+(h^t&(l^h))+s[12]+1804603682&4294967295)<<7&4294967295|y>>>25))+((y=h+(l^e&(t^l))+s[13]+4254626195&4294967295)<<12&4294967295|y>>>20))+((y=l+(t^h&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^l&(h^e))+s[15]+1236535329&4294967295)<<22&4294967295|y>>>10))+((y=e+(l^h&(t^l))+s[1]+4129170786&4294967295)<<5&4294967295|y>>>27))+((y=h+(t^l&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|y>>>23))+((y=l+(e^t&(h^e))+s[11]+643717713&4294967295)<<14&4294967295|y>>>18))+((y=t+(h^e&(l^h))+s[0]+3921069994&4294967295)<<20&4294967295|y>>>12))+((y=e+(l^h&(t^l))+s[5]+3593408605&4294967295)<<5&4294967295|y>>>27))+((y=h+(t^l&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|y>>>23))+((y=l+(e^t&(h^e))+s[15]+3634488961&4294967295)<<14&4294967295|y>>>18))+((y=t+(h^e&(l^h))+s[4]+3889429448&4294967295)<<20&4294967295|y>>>12))+((y=e+(l^h&(t^l))+s[9]+568446438&4294967295)<<5&4294967295|y>>>27))+((y=h+(t^l&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|y>>>23))+((y=l+(e^t&(h^e))+s[3]+4107603335&4294967295)<<14&4294967295|y>>>18))+((y=t+(h^e&(l^h))+s[8]+1163531501&4294967295)<<20&4294967295|y>>>12))+((y=e+(l^h&(t^l))+s[13]+2850285829&4294967295)<<5&4294967295|y>>>27))+((y=h+(t^l&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|y>>>23))+((y=l+(e^t&(h^e))+s[7]+1735328473&4294967295)<<14&4294967295|y>>>18))+((y=t+(h^e&(l^h))+s[12]+2368359562&4294967295)<<20&4294967295|y>>>12))+((y=e+(t^l^h)+s[5]+4294588738&4294967295)<<4&4294967295|y>>>28))+((y=h+(e^t^l)+s[8]+2272392833&4294967295)<<11&4294967295|y>>>21))+((y=l+(h^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|y>>>16))+((y=t+(l^h^e)+s[14]+4259657740&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^l^h)+s[1]+2763975236&4294967295)<<4&4294967295|y>>>28))+((y=h+(e^t^l)+s[4]+1272893353&4294967295)<<11&4294967295|y>>>21))+((y=l+(h^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|y>>>16))+((y=t+(l^h^e)+s[10]+3200236656&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^l^h)+s[13]+681279174&4294967295)<<4&4294967295|y>>>28))+((y=h+(e^t^l)+s[0]+3936430074&4294967295)<<11&4294967295|y>>>21))+((y=l+(h^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|y>>>16))+((y=t+(l^h^e)+s[6]+76029189&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^l^h)+s[9]+3654602809&4294967295)<<4&4294967295|y>>>28))+((y=h+(e^t^l)+s[12]+3873151461&4294967295)<<11&4294967295|y>>>21))+((y=l+(h^e^t)+s[15]+530742520&4294967295)<<16&4294967295|y>>>16))+((y=t+(l^h^e)+s[2]+3299628645&4294967295)<<23&4294967295|y>>>9))+((y=e+(l^(t|~h))+s[0]+4096336452&4294967295)<<6&4294967295|y>>>26))+((y=h+(t^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|y>>>22))+((y=l+(e^(h|~t))+s[14]+2878612391&4294967295)<<15&4294967295|y>>>17))+((y=t+(h^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|y>>>11))+((y=e+(l^(t|~h))+s[12]+1700485571&4294967295)<<6&4294967295|y>>>26))+((y=h+(t^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|y>>>22))+((y=l+(e^(h|~t))+s[10]+4293915773&4294967295)<<15&4294967295|y>>>17))+((y=t+(h^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|y>>>11))+((y=e+(l^(t|~h))+s[8]+1873313359&4294967295)<<6&4294967295|y>>>26))+((y=h+(t^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|y>>>22))+((y=l+(e^(h|~t))+s[6]+2734768916&4294967295)<<15&4294967295|y>>>17))+((y=t+(h^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|y>>>11))+((h=(e=t+((y=e+(l^(t|~h))+s[4]+4149444226&4294967295)<<6&4294967295|y>>>26))+((y=h+(t^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|y>>>22))^((l=h+((y=l+(e^(h|~t))+s[2]+718787259&4294967295)<<15&4294967295|y>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(y<<21&4294967295|y>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+h&4294967295}function Mi(i,e){this.h=e;for(var t=[],s=!0,l=i.length-1;0<=l;l--){var h=0|i[l];s&&h==e||(t[l]=h,s=!1)}this.g=t}(N=si.prototype).Oa=function(i){this.M=i},N.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yt.g(),this.C=function Wr(i){return i.h||(i.h=i.i())}(this.u?this.u:yt),this.g.onreadystatechange=se(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(h){return void Es(this,h)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)t.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const h of s.keys())t.set(h,s.get(h))}s=Array.from(t.keys()).find(h=>"content-type"==h.toLowerCase()),l=_.FormData&&i instanceof _.FormData,!(0<=Re(uo,e))||s||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,y]of t)this.g.setRequestHeader(h,y);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ls(this),0<this.B&&((this.L=function _s(i){return $t&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=se(this.ua,this)):this.A=kt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){Es(this,h)}},N.ua=function(){typeof M<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))},N.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tn(this,"complete"),Tn(this,"abort"),Ho(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ho(this,!0)),si.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?Ro(this):this.kb())},N.kb=function(){Ro(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<ho(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),fi(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=w.prototype).ra=8,N.H=1,N.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new ue(this,this.l,i);let h=this.s;if(this.U&&(h?(h=Ln(h),vr(h,this.U)):h=this.U),null!==this.o||this.O||(l.I=h,h=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wt(this,l,e),Pr(t=to(this.I),"RID",i),Pr(t,"CVER",22),this.F&&Pr(t,"X-HTTP-Session-Id",this.F),ze(this,t),h&&(this.O?e="headers="+encodeURIComponent(String(Fo(h)))+"&"+e:this.o&&Is(t,this.o,h)),ro(this.i,l),this.bb&&Pr(t,"TYPE","init"),this.P?(Pr(t,"$req",e),Pr(t,"SID","null"),l.aa=!0,nt(l,t,null)):nt(l,t,e),this.H=2}}else 3==this.H&&(i?fe(this,i):0==this.j.length||ss(this.i)||fe(this))},N.Ma=function(){if(this.u=null,Ir(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ur(se(this.jb,this),i)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dr(10),f(this),Ir(this))},N.ib=function(){null!=this.v&&(this.v=null,f(this),En(this),dr(19))},N.pb=function(i){i?(this.l.info("Successfully pinged google.com"),dr(2)):(this.l.info("Failed to ping google.com"),dr(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=Us.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Ri.prototype.g=function(i,e){return new Hi(i,e)},we(Hi,Wn),Hi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;dr(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=Ms(i,null,i.Y),p(i)},Hi.prototype.close=function(){ie(this.g)},Hi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=et(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&p(e)},Hi.prototype.N=function(){this.g.h=null,delete this.j,ie(this.g),delete this.g,Hi.$.N.call(this)},we(Ei,Ci),we(Xa,ci),we(Qa,Us),Qa.prototype.Ba=function(){Tn(this.g,"a")},Qa.prototype.Aa=function(i){Tn(this.g,new Ei(i))},Qa.prototype.za=function(i){Tn(this.g,new Xa)},Qa.prototype.ya=function(){Tn(this.g,"b")},we(cs,function Aa(){this.blockSize=-1}),cs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},cs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,l=this.h,h=0;h<e;){if(0==l)for(;h<=t;)Ps(this,i,h),h+=this.blockSize;if("string"==typeof i){for(;h<e;)if(s[l++]=i.charCodeAt(h++),l==this.blockSize){Ps(this,s),l=0;break}}else for(;h<e;)if(s[l++]=i[h++],l==this.blockSize){Ps(this,s),l=0;break}}this.h=l,this.i+=e},cs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var na={};function _a(i){return-128<=i&&128>i?function Je(i,e){var t=na;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new Mi([0|e],0>e?-1:0)}):new Mi([0|i],0>i?-1:0)}function Lo(i){if(isNaN(i)||!isFinite(i))return ua;if(0>i)return _o(Lo(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=ws;return new Mi(e,0)}var ws=4294967296,ua=_a(0),da=_a(1),tc=_a(16777216);function us(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function zo(i){return-1==i.h}function _o(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new Mi(t,~i.h).add(da)}function ha(i,e){return i.add(_o(e))}function Vs(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ds(i,e){this.g=i,this.h=e}function Ma(i,e){if(us(e))throw Error("division by zero");if(us(i))return new ds(ua,ua);if(zo(i))return e=Ma(_o(i),e),new ds(_o(e.g),_o(e.h));if(zo(e))return e=Ma(i,_o(e)),new ds(_o(e.g),e.h);if(30<i.g.length){if(zo(i)||zo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=da,s=e;0>=s.X(i);)t=fl(t),s=fl(s);var l=hs(t,1),h=hs(s,1);for(s=hs(s,2),t=hs(t,2);!us(s);){var y=h.add(s);0>=y.X(i)&&(l=l.add(t),h=y),s=hs(s,1),t=hs(t,1)}return e=ha(i,l.R(e)),new ds(l,e)}for(l=ua;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),y=(h=Lo(t)).R(e);zo(y)||0<y.X(i);)y=(h=Lo(t-=s)).R(e);us(h)&&(h=da),l=l.add(h),i=ha(i,y)}return new ds(l,i)}function fl(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new Mi(t,i.h)}function hs(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,l=[],h=0;h<s;h++)l[h]=0<e?i.D(h+t)>>>e|i.D(h+t+1)<<32-e:i.D(h+t);return new Mi(l,i.h)}(N=Mi.prototype).ea=function(){if(zo(this))return-_o(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:ws+s)*e,e*=ws}return i},N.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(us(this))return"0";if(zo(this))return"-"+_o(this).toString(i);for(var e=Lo(Math.pow(i,6)),t=this,s="";;){var l=Ma(t,e).g,h=((0<(t=ha(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(us(t=l))return h+s;for(;6>h.length;)h="0"+h;s=h+s}},N.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},N.X=function(i){return zo(i=ha(this,i))?-1:us(i)?0:1},N.abs=function(){return zo(this)?_o(this):this},N.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,l=0;l<=e;l++){var h=s+(65535&this.D(l))+(65535&i.D(l)),y=(h>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=y>>>16,t[l]=(y&=65535)<<16|(h&=65535)}return new Mi(t,-2147483648&t[t.length-1]?-1:0)},N.R=function(i){if(us(this)||us(i))return ua;if(zo(this))return zo(i)?_o(this).R(_o(i)):_o(_o(this).R(i));if(zo(i))return _o(this.R(_o(i)));if(0>this.X(tc)&&0>i.X(tc))return Lo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var h=this.D(s)>>>16,y=65535&this.D(s),$=i.D(l)>>>16,ee=65535&i.D(l);t[2*s+2*l]+=y*ee,Vs(t,2*s+2*l),t[2*s+2*l+1]+=h*ee,Vs(t,2*s+2*l+1),t[2*s+2*l+1]+=y*$,Vs(t,2*s+2*l+1),t[2*s+2*l+2]+=h*$,Vs(t,2*s+2*l+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Mi(t,0)},N.gb=function(i){return Ma(this,i).h},N.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new Mi(t,this.h&i.h)},N.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new Mi(t,this.h|i.h)},N.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new Mi(t,this.h^i.h)},Ri.prototype.createWebChannel=Ri.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,Qr.COMPLETE="complete",li.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",Wn.prototype.listen=Wn.prototype.O,si.prototype.listenOnce=si.prototype.P,si.prototype.getLastError=si.prototype.Sa,si.prototype.getLastErrorCode=si.prototype.Ia,si.prototype.getStatus=si.prototype.da,si.prototype.getResponseJson=si.prototype.Wa,si.prototype.getResponseText=si.prototype.ja,si.prototype.send=si.prototype.ha,si.prototype.setWithCredentials=si.prototype.Oa,cs.prototype.digest=cs.prototype.l,cs.prototype.reset=cs.prototype.reset,cs.prototype.update=cs.prototype.j,Mi.prototype.add=Mi.prototype.add,Mi.prototype.multiply=Mi.prototype.R,Mi.prototype.modulo=Mi.prototype.gb,Mi.prototype.compare=Mi.prototype.X,Mi.prototype.toNumber=Mi.prototype.ea,Mi.prototype.toString=Mi.prototype.toString,Mi.prototype.getBits=Mi.prototype.D,Mi.fromNumber=Lo,Mi.fromString=function Ra(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return _o(Ra(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Lo(Math.pow(e,8)),s=ua,l=0;l<i.length;l+=8){var h=Math.min(8,i.length-l),y=parseInt(i.substring(l,l+h),e);8>h?(h=Lo(Math.pow(e,h)),s=s.R(h).add(Lo(y))):s=(s=s.R(t)).add(Lo(y))}return s};var G=O.createWebChannelTransport=function(){return new Ri},ce=O.getStatEventTarget=function(){return Zn()},Z=O.ErrorCode=bi,Se=O.EventType=Qr,Ze=O.Event=On,Vt=O.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xt=O.FetchXmlHttpFactory=Ao,_n=O.WebChannel=li,ei=O.XhrIo=si,ti=O.Md5=cs,br=O.Integer=Mi;const Lr="@firebase/firestore";class Nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");let Yr="9.23.0";const $r=new U.Yd("@firebase/firestore");function qo(){return $r.logLevel}function un(i,...e){if($r.logLevel<=U.in.DEBUG){const t=e.map(Hs);$r.debug(`Firestore (${Yr}): ${i}`,...t)}}function qr(i,...e){if($r.logLevel<=U.in.ERROR){const t=e.map(Hs);$r.error(`Firestore (${Yr}): ${i}`,...t)}}function fo(i,...e){if($r.logLevel<=U.in.WARN){const t=e.map(Hs);$r.warn(`Firestore (${Yr}): ${i}`,...t)}}function Hs(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Nn(i="Unexpected state"){const e=`FIRESTORE (${Yr}) INTERNAL ASSERTION FAILED: `+i;throw qr(e),new Error(e)}function Hn(i,e){i||Nn()}function zn(i,e){return i}const It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dn extends W.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Eo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Po{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nr.UNAUTHENTICATED))}shutdown(){}}class Pa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pl{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const h=le=>this.i!==l?(l=this.i,t(le)):Promise.resolve();let y=new Mo;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Mo,e.enqueueRetryable(()=>h(this.currentUser))};const $=()=>{const le=y;e.enqueueRetryable((0,c.Z)(function*(){yield le.promise,yield h(s.currentUser)}))},ee=le=>{un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=le,this.auth.addAuthTokenListener(this.o),$()};this.t.onInit(le=>ee(le)),setTimeout(()=>{if(!this.auth){const le=this.t.getImmediate({optional:!0});le?ee(le):(un("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Mo)}},0),$()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Hn("string"==typeof s.accessToken),new Eo(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Hn(null===e||"string"==typeof e),new Nr(e)}}class Oa{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gl{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Oa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ol{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=h=>{null!=h.error&&un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const y=h.token!==this.T;return this.T=h.token,un("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const l=h=>{un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.I.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.I.getImmediate({optional:!0});h?l(h):un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Hn("string"==typeof t.token),this.T=t.token,new Ol(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $a(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class tn{static A(){const t=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=$a(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<t&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[h]%62))}return s}}function Bn(i,e){return i<e?-1:i>e?1:0}function zs(i,e,t){return i.length===e.length&&i.every((s,l)=>t(s,e[l]))}class Zr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dn(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dn(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new dn(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dn(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zr.fromMillis(Date.now())}static fromDate(e){return Zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Zr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bn(this.nanoseconds,e.nanoseconds):Bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gr(e)}static min(){return new gr(new Zr(0,0))}static max(){return new gr(new Zr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gs{constructor(e,t,s){void 0===t?t=0:t>e.length&&Nn(),void 0===s?s=e.length-t:s>e.length-t&&Nn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Gs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gs?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const h=e.get(l),y=t.get(l);if(h<y)return-1;if(h>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kr extends Gs{construct(e,t,s){return new kr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new dn(It.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new kr(t)}static emptyPath(){return new kr([])}}const Ba=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends Gs{construct(e,t,s){return new $i(e,t,s)}static isValidIdentifier(e){return Ba.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $i(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const h=()=>{if(0===s.length)throw new dn(It.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let y=!1;for(;l<e.length;){const $=e[l];if("\\"===$){if(l+1===e.length)throw new dn(It.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ee=e[l+1];if("\\"!==ee&&"."!==ee&&"`"!==ee)throw new dn(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=ee,l+=2}else"`"===$?(y=!y,l++):"."!==$||y?(s+=$,l++):(h(),l++)}if(h(),y)throw new dn(It.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $i(t)}static emptyPath(){return new $i([])}}class kn{constructor(e){this.path=e}static fromPath(e){return new kn(kr.fromString(e))}static fromName(e){return new kn(kr.fromString(e).popFirst(5))}static empty(){return new kn(kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kn(new kr(e.slice()))}}function vl(i){return new Zo(i.readTime,i.key,-1)}class Zo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Zo(gr.min(),kn.empty(),-1)}static max(){return new Zo(gr.max(),kn.empty(),-1)}}function Ja(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=kn.comparator(i.documentKey,e.documentKey),0!==t?t:Bn(i.largestBatchId,e.largestBatchId))}const _l="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class el{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ia(i){return Va.apply(this,arguments)}function Va(){return Va=(0,c.Z)(function*(i){if(i.code!==It.FAILED_PRECONDITION||i.message!==_l)throw i;un("LocalStore","Unexpectedly lost primary lease")}),Va.apply(this,arguments)}class Ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ut((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ut?t:Ut.resolve(t)}catch(t){return Ut.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ut.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ut.reject(t)}static resolve(e){return new Ut((t,s)=>{t(e)})}static reject(e){return new Ut((t,s)=>{s(e)})}static waitFor(e){return new Ut((t,s)=>{let l=0,h=0,y=!1;e.forEach($=>{++l,$.next(()=>{++h,y&&h===l&&t()},ee=>s(ee))}),y=!0,h===l&&t()})}static or(e){let t=Ut.resolve(!1);for(const s of e)t=t.next(l=>l?Ut.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,h)=>{s.push(t.call(this,l,h))}),this.waitFor(s)}static mapArray(e,t){return new Ut((s,l)=>{const h=e.length,y=new Array(h);let $=0;for(let ee=0;ee<h;ee++){const le=ee;t(e[le]).next(Ne=>{y[le]=Ne,++$,$===h&&s(y)},Ne=>l(Ne))}})}static doWhile(e,t){return new Ut((s,l)=>{const h=()=>{!0===e()?t().next(()=>{h()},l):s()};h()})}}function fs(i){return"IndexedDbTransactionError"===i.name}let R=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>s.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function L(i){return null==i}function D(i){return 0===i&&1/i==-1/0}function b(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function T(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function K(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class oe{constructor(e,t){this.comparator=e,this.root=t||Ke.EMPTY}insert(e,t){return new oe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Te(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Te(this.root,e,this.comparator,!1)}getReverseIterator(){return new Te(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Te(this.root,e,this.comparator,!0)}}class Te{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?s(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ke{constructor(e,t,s,l,h){this.key=e,this.value=t,this.color=null!=s?s:Ke.RED,this.left=null!=l?l:Ke.EMPTY,this.right=null!=h?h:Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,h){return new Ke(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const h=s(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nn();const e=this.left.check();if(e!==this.right.check())throw Nn();return e+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1,Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Nn()}get value(){throw Nn()}get color(){throw Nn()}get left(){throw Nn()}get right(){throw Nn()}copy(i,e,t,s,l){return this}insert(i,e,t){return new Ke(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mt(this.data.getIterator())}getIteratorFrom(e){return new Mt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qe(this.comparator);return t.data=e,t}}class Mt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pn{constructor(e){this.fields=e,e.sort($i.comparator)}static empty(){return new pn([])}unionWith(e){let t=new Qe($i.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class $n extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $n("Invalid base64 string: "+l):l}}(e);return new Fn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let h=0;h<s.length;++h)l+=String.fromCharCode(s[h]);return l}(e);return new Fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const ir=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(i){if(Hn(!!i),"string"==typeof i){let e=0;const t=ir.exec(i);if(Hn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wr(i.seconds),nanos:wr(i.nanos)}}function wr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Di(i){return"string"==typeof i?Fn.fromBase64String(i):Fn.fromUint8Array(i)}function Fi(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xi(i){const e=i.mapValue.fields.__previous_value__;return Fi(e)?Xi(e):e}function To(i){const e=ar(i.mapValue.fields.__local_write_time__.timestampValue);return new Zr(e.seconds,e.nanos)}class ga{constructor(e,t,s,l,h,y,$,ee,le){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=$,this.longPollingOptions=ee,this.useFetchStreams=le}}class Jo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}const zi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fi(i)?4:po(i)?9007199254740991:10:Nn()}function Io(i,e){if(i===e)return!0;const t=Ss(i);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return To(i).isEqual(To(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const h=ar(s.timestampValue),y=ar(l.timestampValue);return h.seconds===y.seconds&&h.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Di(i.bytesValue).isEqual(Di(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return wr(s.geoPointValue.latitude)===wr(l.geoPointValue.latitude)&&wr(s.geoPointValue.longitude)===wr(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return wr(s.integerValue)===wr(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const h=wr(s.doubleValue),y=wr(l.doubleValue);return h===y?D(h)===D(y):isNaN(h)&&isNaN(y)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],Io);case 10:return function(s,l){const h=s.mapValue.fields||{},y=l.mapValue.fields||{};if(b(h)!==b(y))return!1;for(const $ in h)if(h.hasOwnProperty($)&&(void 0===y[$]||!Io(h[$],y[$])))return!1;return!0}(i,e);default:return Nn()}var l}function ba(i,e){return void 0!==(i.values||[]).find(t=>Io(t,e))}function Ts(i,e){if(i===e)return 0;const t=Ss(i),s=Ss(e);if(t!==s)return Bn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bn(i.booleanValue,e.booleanValue);case 2:return function(l,h){const y=wr(l.integerValue||l.doubleValue),$=wr(h.integerValue||h.doubleValue);return y<$?-1:y>$?1:y===$?0:isNaN(y)?isNaN($)?0:-1:1}(i,e);case 3:return wa(i.timestampValue,e.timestampValue);case 4:return wa(To(i),To(e));case 5:return Bn(i.stringValue,e.stringValue);case 6:return function(l,h){const y=Di(l),$=Di(h);return y.compareTo($)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const y=l.split("/"),$=h.split("/");for(let ee=0;ee<y.length&&ee<$.length;ee++){const le=Bn(y[ee],$[ee]);if(0!==le)return le}return Bn(y.length,$.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const y=Bn(wr(l.latitude),wr(h.latitude));return 0!==y?y:Bn(wr(l.longitude),wr(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,h){const y=l.values||[],$=h.values||[];for(let ee=0;ee<y.length&&ee<$.length;++ee){const le=Ts(y[ee],$[ee]);if(le)return le}return Bn(y.length,$.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,h){if(l===zi.mapValue&&h===zi.mapValue)return 0;if(l===zi.mapValue)return 1;if(h===zi.mapValue)return-1;const y=l.fields||{},$=Object.keys(y),ee=h.fields||{},le=Object.keys(ee);$.sort(),le.sort();for(let Ne=0;Ne<$.length&&Ne<le.length;++Ne){const ot=Bn($[Ne],le[Ne]);if(0!==ot)return ot;const Bt=Ts(y[$[Ne]],ee[le[Ne]]);if(0!==Bt)return Bt}return Bn($.length,le.length)}(i.mapValue,e.mapValue);default:throw Nn()}}function wa(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Bn(i,e);const t=ar(i),s=ar(e),l=Bn(t.seconds,s.seconds);return 0!==l?l:Bn(t.nanos,s.nanos)}function ts(i){return Da(i)}function Da(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=ar(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Di(i.bytesValue).toBase64():"referenceValue"in i?kn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",h=!0;for(const y of s.values||[])h?h=!1:l+=",",l+=Da(y);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let h="{",y=!0;for(const $ of l)y?y=!1:h+=",",h+=`${$}:${Da(s.fields[$])}`;return h+"}"}(i.mapValue):Nn();var e}function fr(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ar(i){return!!i&&"integerValue"in i}function jr(i){return!!i&&"arrayValue"in i}function io(i){return!!i&&"nullValue"in i}function sa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ps(i){return!!i&&"mapValue"in i}function Ys(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return T(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ys(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ys(i.arrayValue.values[t]);return e}return Object.assign({},i)}function po(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ki{constructor(e){this.value=e}static empty(){return new Ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ps(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ys(t)}setAll(e){let t=$i.emptyPath(),s={},l=[];e.forEach((y,$)=>{if(!t.isImmediateParentOf($)){const ee=this.getFieldsMap(t);this.applyChanges(ee,s,l),s={},l=[],t=$.popLast()}y?s[$.lastSegment()]=Ys(y):l.push($.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,s,l)}delete(e){const t=this.field(e.popLast());ps(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Io(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];ps(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){T(t,(l,h)=>e[l]=h);for(const l of s)delete e[l]}clone(){return new Ki(Ys(this.value))}}function Fl(i){const e=[];return T(i.fields,(t,s)=>{const l=new $i([t]);if(ps(s)){const h=Fl(s.mapValue).fields;if(0===h.length)e.push(l);else for(const y of h)e.push(l.child(y))}else e.push(l)}),new pn(e)}class Gr{constructor(e,t,s,l,h,y,$){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=h,this.data=y,this.documentState=$}static newInvalidDocument(e){return new Gr(e,0,gr.min(),gr.min(),gr.min(),Ki.empty(),0)}static newFoundDocument(e,t,s,l){return new Gr(e,1,t,gr.min(),s,l,0)}static newNoDocument(e,t){return new Gr(e,2,t,gr.min(),gr.min(),Ki.empty(),0)}static newUnknownDocument(e,t){return new Gr(e,3,t,gr.min(),gr.min(),Ki.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nl{constructor(e,t){this.position=e,this.inclusive=t}}function Ll(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const h=e[l],y=i.position[l];if(s=h.field.isKeyField()?kn.comparator(kn.fromName(y.referenceValue),t.key):Ts(y,t.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function zc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Io(i.position[t],e.position[t]))return!1;return!0}class gs{constructor(e,t="asc"){this.field=e,this.dir=t}}function rc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Nu{}class ai extends Nu{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Vd(e,t,s):"array-contains"===t?new Vg(e,s):"in"===t?new $u(e,s):"not-in"===t?new jg(e,s):"array-contains-any"===t?new Hd(e,s):new ai(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Lu(e,s):new jf(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ts(t,this.value)):null!==t&&Ss(this.value)===Ss(t)&&this.matchesComparison(Ts(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pi extends Nu{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Pi(e,t)}matches(e){return Il(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Il(i){return"and"===i.op}function ku(i){return function Vf(i){for(const e of i.filters)if(e instanceof Pi)return!1;return!0}(i)&&Il(i)}function ks(i){if(i instanceof ai)return i.field.canonicalString()+i.op.toString()+ts(i.value);if(ku(i))return i.filters.map(e=>ks(e)).join(",");{const e=i.filters.map(t=>ks(t)).join(",");return`${i.op}(${e})`}}function Gc(i,e){return i instanceof ai?(t=i,(s=e)instanceof ai&&t.op===s.op&&t.field.isEqual(s.field)&&Io(t.value,s.value)):i instanceof Pi?function(t,s){return s instanceof Pi&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((l,h,y)=>l&&Gc(h,s.filters[y]),!0)}(i,e):void Nn();var t,s}function Fu(i){return i instanceof ai?`${(e=i).field.canonicalString()} ${e.op} ${ts(e.value)}`:i instanceof Pi?function(e){return e.op.toString()+" {"+e.getFilters().map(Fu).join(" ,")+"}"}(i):"Filter";var e}class Vd extends ai{constructor(e,t,s){super(e,t,s),this.key=kn.fromName(s.referenceValue)}matches(e){const t=kn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lu extends ai{constructor(e,t){super(e,"in",t),this.keys=jd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jf extends ai{constructor(e,t){super(e,"not-in",t),this.keys=jd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jd(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>kn.fromName(s.referenceValue))}class Vg extends ai{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jr(t)&&ba(t.arrayValue,this.value)}}class $u extends ai{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ba(this.value.arrayValue,t)}}class jg extends ai{constructor(e,t){super(e,"not-in",t)}matches(e){if(ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ba(this.value.arrayValue,t)}}class Hd extends ai{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ba(this.value.arrayValue,s))}}class $l{constructor(e,t=null,s=[],l=[],h=null,y=null,$=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=y,this.endAt=$,this.dt=null}}function Wc(i,e=null,t=[],s=[],l=null,h=null,y=null){return new $l(i,e,t,s,l,h,y)}function aa(i){const e=zn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ks(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),L(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ts(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ts(s)).join(",")),e.dt=t}return e.dt}function Bl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!rc(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Gc(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!zc(i.startAt,e.startAt)&&zc(i.endAt,e.endAt)}function il(i){return kn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ma{constructor(e,t=null,s=[],l=[],h=null,y="F",$=null,ee=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=y,this.startAt=$,this.endAt=ee,this.wt=null,this._t=null}}function bl(i){return new ma(i)}function zd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ol(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function F(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function m(i){return null!==i.collectionGroup}function E(i){const e=zn(i);if(null===e.wt){e.wt=[];const t=F(e),s=ol(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new gs(t)),e.wt.push(new gs($i.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.wt.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new gs($i.keyField(),h))}}}return e.wt}function B(i){const e=zn(i);if(!e._t)if("F"===e.limitType)e._t=Wc(e.path,e.collectionGroup,E(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of E(e))t.push(new gs(h.field,"desc"===h.dir?"asc":"desc"));const s=e.endAt?new nl(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new nl(e.startAt.position,e.startAt.inclusive):null;e._t=Wc(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e._t}function me(i,e){e.getFirstInequalityField(),F(i);const t=i.filters.concat([e]);return new ma(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ke(i,e,t){return new ma(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Dt(i,e){return Bl(B(i),B(e))&&i.limitType===e.limitType}function Kt(i){return`${aa(B(i))}|lt:${i.limitType}`}function Cn(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Fu(s)).join(", ")}]`),L(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(l=s).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ts(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ts(s)).join(",")),`Target(${t})`}(B(i))}; limitType=${i.limitType})`}function Un(i,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):kn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,s){for(const l of E(t))if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(l,h,y){const $=Ll(l,h,y);return l.inclusive?$<=0:$<0}(t.startAt,E(t),s)||t.endAt&&!function(l,h,y){const $=Ll(l,h,y);return l.inclusive?$>=0:$>0}(t.endAt,E(t),s)));var t,s}function pi(i){return(e,t)=>{let s=!1;for(const l of E(i)){const h=Fs(l,e,t);if(0!==h)return h;s=s||l.field.isKeyField()}return 0}}function Fs(i,e,t){const s=i.field.isKeyField()?kn.comparator(e.key,t.key):function(l,h,y){const $=h.data.field(l),ee=y.data.field(l);return null!==$&&null!==ee?Ts($,ee):Nn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Nn()}}class Ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,h]of s)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){T(this.inner,(t,s)=>{for(const[l,h]of s)e(l,h)})}isEmpty(){return K(this.inner)}size(){return this.innerSize}}const ic=new oe(kn.comparator);function Zs(){return ic}const qc=new oe(kn.comparator);function Ul(...i){let e=qc;for(const t of i)e=e.insert(t.key,t);return e}function oc(i){let e=qc;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Sa(){return sl()}function Gd(){return sl()}function sl(){return new Ls(i=>i.toString(),(i,e)=>i.isEqual(e))}const Wd=new oe(kn.comparator),Hf=new Qe(kn.comparator);function ri(...i){let e=Hf;for(const t of i)e=e.add(t);return e}const Kd=new Qe(Bn);function Hg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:D(e)?"-0":e}}function Vu(i){return{integerValue:""+i}}function qd(i,e){return function j(i){return"number"==typeof i&&Number.isInteger(i)&&!D(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Vu(e):Hg(i,e)}class ju{constructor(){this._=void 0}}function zg(i,e,t){return i instanceof ac?function(s,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Fi(l)&&(l=Xi(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):i instanceof Vl?Hu(i,e):i instanceof al?Wa(i,e):function(s,l){const h=sc(s,l),y=Wg(h)+Wg(s.gt);return Ar(h)&&Ar(s.gt)?Vu(y):Hg(s.serializer,y)}(i,e)}function Gg(i,e,t){return i instanceof Vl?Hu(i,e):i instanceof al?Wa(i,e):t}function sc(i,e){return i instanceof Zc?Ar(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class ac extends ju{}class Vl extends ju{constructor(e){super(),this.elements=e}}function Hu(i,e){const t=Kg(e);for(const s of i.elements)t.some(l=>Io(l,s))||t.push(s);return{arrayValue:{values:t}}}class al extends ju{constructor(e){super(),this.elements=e}}function Wa(i,e){let t=Kg(e);for(const s of i.elements)t=t.filter(l=>!Io(l,s));return{arrayValue:{values:t}}}class Zc extends ju{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Wg(i){return wr(i.integerValue||i.doubleValue)}function Kg(i){return jr(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ky{constructor(e,t){this.version=e,this.transformResults=t}}class xo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xo}static exists(e){return new xo(void 0,e)}static updateTime(e){return new xo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class zu{}function Yg(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Jc(i.key,xo.none()):new jl(i.key,i.data,xo.none());{const t=i.data,s=Ki.empty();let l=new Qe($i.comparator);for(let h of e.fields)if(!l.has(h)){let y=t.field(h);null===y&&h.length>1&&(h=h.popLast(),y=t.field(h)),null===y?s.delete(h):s.set(h,y),l=l.add(h)}return new No(i.key,s,new pn(l.toArray()),xo.none())}}function Yy(i,e,t){i instanceof jl?function(s,l,h){const y=s.value.clone(),$=Kf(s.fieldTransforms,l,h.transformResults);y.setAll($),l.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(i,e,t):i instanceof No?function(s,l,h){if(!Zd(s.precondition,l))return void l.convertToUnknownDocument(h.version);const y=Kf(s.fieldTransforms,l,h.transformResults),$=l.data;$.setAll(Qc(s)),$.setAll(y),l.convertToFoundDocument(h.version,$).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Cs(i,e,t,s){return i instanceof jl?function(l,h,y,$){if(!Zd(l.precondition,h))return y;const ee=l.value.clone(),le=Yf(l.fieldTransforms,$,h);return ee.setAll(le),h.convertToFoundDocument(h.version,ee).setHasLocalMutations(),null}(i,e,t,s):i instanceof No?function(l,h,y,$){if(!Zd(l.precondition,h))return y;const ee=Yf(l.fieldTransforms,$,h),le=h.data;return le.setAll(Qc(l)),le.setAll(ee),h.convertToFoundDocument(h.version,le).setHasLocalMutations(),null===y?null:y.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Ne=>Ne.field))}(i,e,t,s):(y=t,Zd(i.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):y);var h,y}function Gf(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),h=sc(s.transform,l||null);null!=h&&(null===t&&(t=Ki.empty()),t.set(s.field,h))}return t||null}function Wf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&zs(t,s,(l,h)=>function zf(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Vl&&s instanceof Vl||t instanceof al&&s instanceof al?zs(t.elements,s.elements,Io):t instanceof Zc&&s instanceof Zc?Io(t.gt,s.gt):t instanceof ac&&s instanceof ac);var t,s}(l,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class jl extends zu{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class No extends zu{constructor(e,t,s,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Qc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Kf(i,e,t){const s=new Map;Hn(i.length===t.length);for(let l=0;l<t.length;l++){const h=i[l],y=h.transform,$=e.data.field(h.field);s.set(h.field,Gg(y,$,t[l]))}return s}function Yf(i,e,t){const s=new Map;for(const l of i){const h=l.transform,y=t.data.field(l.field);s.set(l.field,zg(h,y,e))}return s}class Jc extends zu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xd extends zu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qf{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&Yy(h,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Cs(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Cs(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Gd();return this.mutations.forEach(l=>{const h=e.get(l.key),y=h.overlayedDocument;let $=this.applyToLocalView(y,h.mutatedFields);$=t.has(l.key)?null:$;const ee=Yg(y,$);null!==ee&&s.set(l.key,ee),y.isValidDocument()||y.convertToNoDocument(gr.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ri())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(t,s)=>Wf(t,s))&&zs(this.baseMutations,e.baseMutations,(t,s)=>Wf(t,s))}}class Qd{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){Hn(e.mutations.length===s.length);let l=Wd;const h=e.mutations;for(let y=0;y<h.length;y++)l=l.insert(h[y].key,s[y].version);return new Qd(e,t,s,l)}}class Zf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qy{constructor(e,t){this.count=e,this.unchangedNames=t}}var rs,Si;function Zg(i){if(void 0===i)return qr("GRPC error has no .code"),It.UNKNOWN;switch(i){case rs.OK:return It.OK;case rs.CANCELLED:return It.CANCELLED;case rs.UNKNOWN:return It.UNKNOWN;case rs.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case rs.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case rs.INTERNAL:return It.INTERNAL;case rs.UNAVAILABLE:return It.UNAVAILABLE;case rs.UNAUTHENTICATED:return It.UNAUTHENTICATED;case rs.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case rs.NOT_FOUND:return It.NOT_FOUND;case rs.ALREADY_EXISTS:return It.ALREADY_EXISTS;case rs.PERMISSION_DENIED:return It.PERMISSION_DENIED;case rs.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case rs.ABORTED:return It.ABORTED;case rs.OUT_OF_RANGE:return It.OUT_OF_RANGE;case rs.UNIMPLEMENTED:return It.UNIMPLEMENTED;case rs.DATA_LOSS:return It.DATA_LOSS;default:return Nn()}}(Si=rs||(rs={}))[Si.OK=0]="OK",Si[Si.CANCELLED=1]="CANCELLED",Si[Si.UNKNOWN=2]="UNKNOWN",Si[Si.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Si[Si.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Si[Si.NOT_FOUND=5]="NOT_FOUND",Si[Si.ALREADY_EXISTS=6]="ALREADY_EXISTS",Si[Si.PERMISSION_DENIED=7]="PERMISSION_DENIED",Si[Si.UNAUTHENTICATED=16]="UNAUTHENTICATED",Si[Si.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Si[Si.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Si[Si.ABORTED=10]="ABORTED",Si[Si.OUT_OF_RANGE=11]="OUT_OF_RANGE",Si[Si.UNIMPLEMENTED=12]="UNIMPLEMENTED",Si[Si.INTERNAL=13]="INTERNAL",Si[Si.UNAVAILABLE=14]="UNAVAILABLE",Si[Si.DATA_LOSS=15]="DATA_LOSS";class lc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return eh}static getOrCreateInstance(){return null===eh&&(eh=new lc),eh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let eh=null;const Qg=new br([4294967295,4294967295],0);function Xf(i){const e=function Xg(){return new TextEncoder}().encode(i),t=new ti;return t.update(e),new Uint8Array(t.digest())}function Qf(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new br([t,s],0),new br([l,h],0)]}class Hl{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new zl(`Invalid padding: ${t}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new zl(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new zl(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=br.fromNumber(this.It)}Et(e,t,s){let l=e.add(t.multiply(br.fromNumber(s)));return 1===l.compare(Qg)&&(l=new br([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Xf(e),[s,l]=Qf(t);for(let h=0;h<this.hashCount;h++){const y=this.Et(s,l,h);if(!this.At(y))return!1}return!0}static create(e,t,s){const l=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),y=new Hl(h,l,t);return s.forEach($=>y.insert($)),y}insert(e){if(0===this.It)return;const t=Xf(e),[s,l]=Qf(t);for(let h=0;h<this.hashCount;h++){const y=this.Et(s,l,h);this.Rt(y)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class eu{constructor(e,t,s,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new eu(gr.min(),l,new oe(Bn),Zs(),ri())}}class cc{constructor(e,t,s,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new cc(s,t,ri(),ri(),ri())}}class uc{constructor(e,t,s,l){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=l}}class Jg{constructor(e,t){this.targetId=e,this.Vt=t}}class em{constructor(e,t,s=Fn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class tm{constructor(){this.St=0,this.Dt=rm(),this.Ct=Fn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ri(),t=ri(),s=ri();return this.Dt.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Nn()}}),new cc(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=rm()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Zy{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Zs(),this.zt=nm(),this.Wt=new oe(Bn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,l)=>{this.te(l)&&t(l)})}ne(e){var t;const s=e.targetId,l=e.Vt.count,h=this.se(s);if(h){const y=h.target;if(il(y))if(0===l){const $=new kn(y.path);this.Yt(s,$,Gr.newNoDocument($,gr.min()))}else Hn(1===l);else{const $=this.ie(s);if($!==l){const ee=this.re(e,$);0!==ee&&(this.ee(s),this.Wt=this.Wt.insert(s,2===ee?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=lc.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(le,Ne,ot){var Bt,rn,Dn,qn,Qn,ii;const xi={localCacheCount:Ne,existenceFilterCount:ot.count},vi=ot.unchangedNames;return vi&&(xi.bloomFilter={applied:0===le,hashCount:null!==(Bt=null==vi?void 0:vi.hashCount)&&void 0!==Bt?Bt:0,bitmapLength:null!==(qn=null===(Dn=null===(rn=null==vi?void 0:vi.bits)||void 0===rn?void 0:rn.bitmap)||void 0===Dn?void 0:Dn.length)&&void 0!==qn?qn:0,padding:null!==(ii=null===(Qn=null==vi?void 0:vi.bits)||void 0===Qn?void 0:Qn.padding)&&void 0!==ii?ii:0}),xi}(ee,$,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:l}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:h="",padding:y=0},hashCount:$=0}=s;let ee,le;try{ee=Di(h).toUint8Array()}catch(Ne){if(Ne instanceof $n)return fo("Decoding the base64 bloom filter in existence filter failed ("+Ne.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ne}try{le=new Hl(ee,y,$)}catch(Ne){return fo(Ne instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",Ne),1}return 0===le.It?1:l!==t-this.oe(e.targetId,le)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let l=0;return s.forEach(h=>{const y=this.Gt.ue(),$=`projects/${y.projectId}/databases/${y.database}/documents/${h.path.canonicalString()}`;t.vt($)||(this.Yt(e,h,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((h,y)=>{const $=this.se(y);if($){if(h.current&&il($.target)){const ee=new kn($.target.path);null!==this.jt.get(ee)||this.ae(y,ee)||this.Yt(y,ee,Gr.newNoDocument(ee,e))}h.Mt&&(t.set(y,h.Ot()),h.Ft())}});let s=ri();this.zt.forEach((h,y)=>{let $=!0;y.forEachWhile(ee=>{const le=this.se(ee);return!le||"TargetPurposeLimboResolution"===le.purpose||($=!1,!1)}),$&&(s=s.add(h))}),this.jt.forEach((h,y)=>y.setReadTime(e));const l=new eu(e,t,this.Wt,this.jt,s);return this.jt=Zs(),this.zt=nm(),this.Wt=new oe(Bn),l}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new tm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Qe(Bn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||un("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new tm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function nm(){return new oe(kn.comparator)}function rm(){return new oe(kn.comparator)}const im={asc:"ASCENDING",desc:"DESCENDING"},Jf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},om={and:"AND",or:"OR"};class ep{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tp(i,e){return i.useProto3Json||L(e)?e:{value:e}}function tu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function th(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function sm(i,e){return tu(i,e.toTimestamp())}function go(i){return Hn(!!i),gr.fromTimestamp(function(e){const t=ar(e);return new Zr(t.seconds,t.nanos)}(i))}function nh(i,e){return(t=i,new kr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function np(i){const e=kr.fromString(i);return Hn(ch(e)),e}function Gu(i,e){return nh(i.databaseId,e.path)}function wl(i,e){const t=np(e);if(t.get(1)!==i.databaseId.projectId)throw new dn(It.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new dn(It.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new kn(rp(t))}function nu(i,e){return nh(i.databaseId,e)}function ru(i){return new kr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function rp(i){return Hn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ip(i,e,t){return{name:Gu(i,e),fields:t.value.mapValue.fields}}function Wu(i,e){return{documents:[nu(i,e.path)]}}function sh(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=nu(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nu(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(ee){if(0!==ee.length)return sp(Pi.create(ee,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(ee){if(0!==ee.length)return ee.map(le=>{return{field:Gl((Ne=le).field),direction:um(Ne.dir)};var Ne})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const y=tp(i,e.limit);var $,ee;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:($=e.startAt).inclusive,values:$.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ee=e.endAt).inclusive,values:ee.position}),t}function ah(i){let e=function am(i){const e=np(i);return 4===e.length?kr.emptyPath():rp(e)}(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){Hn(1===s);const Ne=t.from[0];Ne.allDescendants?l=Ne.collectionId:e=e.child(Ne.collectionId)}let h=[];t.where&&(h=function(Ne){const ot=cm(Ne);return ot instanceof Pi&&ku(ot)?ot.getFilters():[ot]}(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(Ne=>{return new gs(dc((ot=Ne).field),function(Bt){switch(Bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ot.direction));var ot}));let $=null;t.limit&&($=function(Ne){let ot;return ot="object"==typeof Ne?Ne.value:Ne,L(ot)?null:ot}(t.limit));let ee=null;var Ne;t.startAt&&(ee=new nl((Ne=t.startAt).values||[],!!Ne.before));let le=null;return t.endAt&&(le=function(Ne){return new nl(Ne.values||[],!Ne.before)}(t.endAt)),function Uu(i,e,t,s,l,h,y,$){return new ma(i,e,t,s,l,h,y,$)}(e,l,y,h,$,"F",ee,le)}function cm(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dc(e.unaryFilter.field);return ai.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=dc(e.unaryFilter.field);return ai.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=dc(e.unaryFilter.field);return ai.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=dc(e.unaryFilter.field);return ai.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Nn()}}(i):void 0!==i.fieldFilter?ai.create(dc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Pi.create(e.compositeFilter.filters.map(t=>cm(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Nn()}}(e.compositeFilter.op))}(i):Nn();var e}function um(i){return im[i]}function Xy(i){return Jf[i]}function Qy(i){return om[i]}function Gl(i){return{fieldPath:i.canonicalString()}}function dc(i){return $i.fromServerFormat(i.fieldPath)}function sp(i){return i instanceof ai?function(e){if("=="===e.op){if(sa(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NAN"}};if(io(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sa(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NAN"}};if(io(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(e.field),op:Xy(e.op),value:e.value}}}(i):i instanceof Pi?function(e){const t=e.getFilters().map(s=>sp(s));return 1===t.length?t[0]:{compositeFilter:{op:Qy(e.op),filters:t}}}(i):Nn()}function lh(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ch(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ya{constructor(e,t,s,l,h=gr.min(),y=gr.min(),$=Fn.EMPTY_BYTE_STRING,ee=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=$,this.expectedCount=ee}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dm{constructor(e){this.fe=e}}function hh(i){const e=ah({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ke(e,e.limit,"L"):e}class va{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(wr(e.integerValue));else if("doubleValue"in e){const s=wr(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),D(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Di(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?po(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Nn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const l of Object.keys(s))this.Te(l,t),this.me(s[l],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const l of s)this.me(l,t)}ve(e,t){this.ye(t,37),kn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}va.Ve=new va;class s0{constructor(){this.rn=new ym}addToCollectionParentIndex(e,t){return this.rn.add(t),Ut.resolve()}getCollectionParents(e,t){return Ut.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ut.resolve()}deleteFieldIndex(e,t){return Ut.resolve()}getDocumentsMatchingTarget(e,t){return Ut.resolve(null)}getIndexType(e,t){return Ut.resolve(0)}getFieldIndexes(e,t){return Ut.resolve([])}getNextCollectionGroupToUpdate(e){return Ut.resolve(null)}getMinOffset(e,t){return Ut.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,t){return Ut.resolve(Zo.min())}updateCollectionGroup(e,t,s){return Ut.resolve()}updateIndexEntries(e,t){return Ut.resolve()}}class ym{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new Qe(kr.comparator),h=!l.has(s);return this.index[t]=l.add(s),h}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Qe(kr.comparator)).toArray()}}new Uint8Array(0);class Xs{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Xs(e,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(41943040,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);class pc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new pc(0)}static Mn(){return new pc(-1)}}class ed{constructor(){this.changes=new Ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ut.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class l0{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wh{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==s&&Cs(s.mutation,l,pn.empty(),Zr.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ri()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ri()){const l=Sa();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(h=>{let y=Ul();return h.forEach(($,ee)=>{y=y.insert($,ee.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const s=Sa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ri()))}populateOverlays(e,t,s){const l=[];return s.forEach(h=>{t.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((y,$)=>{t.set(y,$)})})}computeViews(e,t,s,l){let h=Zs();const y=sl(),$=sl();return t.forEach((ee,le)=>{const Ne=s.get(le.key);l.has(le.key)&&(void 0===Ne||Ne.mutation instanceof No)?h=h.insert(le.key,le):void 0!==Ne?(y.set(le.key,Ne.mutation.getFieldMask()),Cs(Ne.mutation,le,Ne.mutation.getFieldMask(),Zr.now())):y.set(le.key,pn.empty())}),this.recalculateAndSaveOverlays(e,h).next(ee=>(ee.forEach((le,Ne)=>y.set(le,Ne)),t.forEach((le,Ne)=>{var ot;return $.set(le,new l0(Ne,null!==(ot=y.get(le))&&void 0!==ot?ot:null))}),$))}recalculateAndSaveOverlays(e,t){const s=sl();let l=new oe((y,$)=>y-$),h=ri();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const $ of y)$.keys().forEach(ee=>{const le=t.get(ee);if(null===le)return;let Ne=s.get(ee)||pn.empty();Ne=$.applyToLocalView(le,Ne),s.set(ee,Ne);const ot=(l.get($.batchId)||ri()).add(ee);l=l.insert($.batchId,ot)})}).next(()=>{const y=[],$=l.getReverseIterator();for(;$.hasNext();){const ee=$.getNext(),le=ee.key,Ne=ee.value,ot=Gd();Ne.forEach(Bt=>{if(!h.has(Bt)){const rn=Yg(t.get(Bt),s.get(Bt));null!==rn&&ot.set(Bt,rn),h=h.add(Bt)}}),y.push(this.documentOverlayCache.saveOverlays(e,le,ot))}return Ut.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return kn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):m(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var l}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(h=>{const y=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-h.size):Ut.resolve(Sa());let $=-1,ee=h;return y.next(le=>Ut.forEach(le,(Ne,ot)=>($<ot.largestBatchId&&($=ot.largestBatchId),h.get(Ne)?Ut.resolve():this.remoteDocumentCache.getEntry(e,Ne).next(Bt=>{ee=ee.insert(Ne,Bt)}))).next(()=>this.populateOverlays(e,le,h)).next(()=>this.computeViews(e,ee,le,ri())).next(Ne=>({batchId:$,changes:oc(Ne)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kn(t)).next(s=>{let l=Ul();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const l=t.collectionGroup;let h=Ul();return this.indexManager.getCollectionParents(e,l).next(y=>Ut.forEach(y,$=>{const ee=(le=t,Ne=$.child(l),new ma(Ne,null,le.explicitOrderBy.slice(),le.filters.slice(),le.limit,le.limitType,le.startAt,le.endAt));var le,Ne;return this.getDocumentsMatchingCollectionQuery(e,ee,s).next(le=>{le.forEach((Ne,ot)=>{h=h.insert(Ne,ot)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l))).next(h=>{l.forEach(($,ee)=>{const le=ee.getKey();null===h.get(le)&&(h=h.insert(le,Gr.newInvalidDocument(le)))});let y=Ul();return h.forEach(($,ee)=>{const le=l.get($);void 0!==le&&Cs(le.mutation,ee,pn.empty(),Zr.now()),Un(t,ee)&&(y=y.insert($,ee))}),y})}}class av{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ut.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:go(s.createTime)}),Ut.resolve()}getNamedQuery(e,t){return Ut.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:hh(s.bundledQuery),readTime:go(s.readTime)}),Ut.resolve();var s}}class yp{constructor(){this.overlays=new oe(kn.comparator),this.ls=new Map}getOverlay(e,t){return Ut.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Sa();return Ut.forEach(t,l=>this.getOverlay(e,l).next(h=>{null!==h&&s.set(l,h)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,h)=>{this.we(e,t,h)}),Ut.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.ls.get(s);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.ls.delete(s)),Ut.resolve()}getOverlaysForCollection(e,t,s){const l=Sa(),h=t.length+1,y=new kn(t.child("")),$=this.overlays.getIteratorFrom(y);for(;$.hasNext();){const ee=$.getNext().value,le=ee.getKey();if(!t.isPrefixOf(le.path))break;le.path.length===h&&ee.largestBatchId>s&&l.set(ee.getKey(),ee)}return Ut.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let h=new oe((le,Ne)=>le-Ne);const y=this.overlays.getIterator();for(;y.hasNext();){const le=y.getNext().value;if(le.getKey().getCollectionGroup()===t&&le.largestBatchId>s){let Ne=h.get(le.largestBatchId);null===Ne&&(Ne=Sa(),h=h.insert(le.largestBatchId,Ne)),Ne.set(le.getKey(),le)}}const $=Sa(),ee=h.getIterator();for(;ee.hasNext()&&(ee.getNext().value.forEach((le,Ne)=>$.set(le,Ne)),!($.size()>=l)););return Ut.resolve($)}we(e,t,s){const l=this.overlays.get(s.key);if(null!==l){const y=this.ls.get(l.largestBatchId).delete(s.key);this.ls.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new Zf(t,s));let h=this.ls.get(t);void 0===h&&(h=ri(),this.ls.set(t,h)),this.ls.set(t,h.add(s.key))}}class Dh{constructor(){this.fs=new Qe(ms.ds),this.ws=new Qe(ms._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new ms(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new ms(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new kn(new kr([])),s=new ms(t,e),l=new ms(t,e+1),h=[];return this.ws.forEachInRange([s,l],y=>{this.ys(y),h.push(y.key)}),h}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new kn(new kr([])),s=new ms(t,e),l=new ms(t,e+1);let h=ri();return this.ws.forEachInRange([s,l],y=>{h=h.add(y.key)}),h}containsKey(e){const t=new ms(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class ms{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return kn.comparator(e.key,t.key)||Bn(e.As,t.As)}static _s(e,t){return Bn(e.As,t.As)||kn.comparator(e.key,t.key)}}class yc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Qe(ms.ds)}checkEmpty(e){return Ut.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,l){const h=this.vs;this.vs++;const y=new qf(h,t,s,l);this.mutationQueue.push(y);for(const $ of l)this.Rs=this.Rs.add(new ms($.key,h)),this.indexManager.addToCollectionParentIndex(e,$.key.path.popLast());return Ut.resolve(y)}lookupMutationBatch(e,t){return Ut.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),h=l<0?0:l;return Ut.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Ut.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ms(t,0),l=new ms(t,Number.POSITIVE_INFINITY),h=[];return this.Rs.forEachInRange([s,l],y=>{const $=this.Ps(y.As);h.push($)}),Ut.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Qe(Bn);return t.forEach(l=>{const h=new ms(l,0),y=new ms(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([h,y],$=>{s=s.add($.As)})}),Ut.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let h=s;kn.isDocumentKey(h)||(h=h.child(""));const y=new ms(new kn(h),0);let $=new Qe(Bn);return this.Rs.forEachWhile(ee=>{const le=ee.key.path;return!!s.isPrefixOf(le)&&(le.length===l&&($=$.add(ee.As)),!0)},y),Ut.resolve(this.Vs($))}Vs(e){const t=[];return e.forEach(s=>{const l=this.Ps(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Hn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ut.forEach(t.mutations,l=>{const h=new ms(l.key,t.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new ms(t,0),l=this.Rs.firstAfterOrEqual(s);return Ut.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return Ut.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lv{constructor(e){this.Ds=e,this.docs=new oe(kn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),h=l?l.size:0,y=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:y}),this.size+=y-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ut.resolve(s?s.document.mutableCopy():Gr.newInvalidDocument(t))}getEntries(e,t){let s=Zs();return t.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Gr.newInvalidDocument(l))}),Ut.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let h=Zs();const y=t.path,$=new kn(y.child("")),ee=this.docs.getIteratorFrom($);for(;ee.hasNext();){const{key:le,value:{document:Ne}}=ee.getNext();if(!y.isPrefixOf(le.path))break;le.path.length>y.length+1||Ja(vl(Ne),s)<=0||(l.has(Ne.key)||Un(t,Ne))&&(h=h.insert(Ne.key,Ne.mutableCopy()))}return Ut.resolve(h)}getAllFromCollectionGroup(e,t,s,l){Nn()}Cs(e,t){return Ut.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new vp(this)}getSize(e){return Ut.resolve(this.size)}}class vp extends ed{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(s)}),Ut.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Sh{constructor(e){this.persistence=e,this.xs=new Ls(t=>aa(t),Bl),this.lastRemoteSnapshotVersion=gr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Dh,this.targetCount=0,this.Ms=pc.kn()}forEachTarget(e,t){return this.xs.forEach((s,l)=>t(l)),Ut.resolve()}getLastRemoteSnapshotVersion(e){return Ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ut.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ut.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Ut.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new pc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ut.resolve()}updateTargetData(e,t){return this.Fn(t),Ut.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ut.resolve()}removeTargets(e,t,s){let l=0;const h=[];return this.xs.forEach((y,$)=>{$.sequenceNumber<=t&&null===s.get($.targetId)&&(this.xs.delete(y),h.push(this.removeMatchingKeysForTargetId(e,$.targetId)),l++)}),Ut.waitFor(h).next(()=>l)}getTargetCount(e){return Ut.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Ut.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Ut.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(y=>{h.push(l.markPotentiallyOrphaned(e,y))}),Ut.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ut.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Ut.resolve(s)}containsKey(e,t){return Ut.resolve(this.ks.containsKey(t))}}class _p{constructor(e,t){this.$s={},this.overlays={},this.Os=new R(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Sh(this),this.indexManager=new s0,this.remoteDocumentCache=new lv(s=>this.referenceDelegate.Ls(s)),this.serializer=new dm(t),this.qs=new av(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new yc(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){un("MemoryPersistence","Starting transaction:",e);const l=new Ep(this.Os.next());return this.referenceDelegate.Us(),s(l).next(h=>this.referenceDelegate.Ks(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Gs(e,t){return Ut.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Ep extends el{constructor(e){super(),this.currentSequenceNumber=e}}class vc{constructor(e){this.persistence=e,this.Qs=new Dh,this.js=null}static zs(e){return new vc(e)}get Ws(){if(this.js)return this.js;throw Nn()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Ut.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Ut.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ut.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.Ws.add(h.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ut.forEach(this.Ws,s=>{const l=kn.fromPath(s);return this.Hs(e,l).next(h=>{h||t.removeEntry(l,gr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ut.or([()=>Ut.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Sp{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=l}static Li(e,t){let s=ri(),l=ri();for(const h of t.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Sp(e,t.fromCache,s,l)}}class Sm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,l){return this.Ki(e,t).next(h=>h||this.Gi(e,t,l,s)).next(h=>h||this.Qi(e,t))}Ki(e,t){if(zd(t))return Ut.resolve(null);let s=B(t);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=ke(t,null,"F"),s=B(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const y=ri(...h);return this.Ui.getDocuments(e,y).next($=>this.indexManager.getMinOffset(e,s).next(ee=>{const le=this.ji(t,$);return this.zi(t,le,y,ee.readTime)?this.Ki(e,ke(t,null,"F")):this.Wi(e,le,t,ee)}))})))}Gi(e,t,s,l){return zd(t)||l.isEqual(gr.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(h=>{const y=this.ji(t,h);return this.zi(t,y,s,l)?this.Qi(e,t):(qo()<=U.in.DEBUG&&un("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Cn(t)),this.Wi(e,y,t,function yl(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=gr.fromTimestamp(1e9===s?new Zr(t+1,0):new Zr(t,s));return new Zo(l,kn.empty(),e)}(l,-1)))})}ji(e,t){let s=new Qe(pi(e));return t.forEach((l,h)=>{Un(e,h)&&(s=s.add(h))}),s}zi(e,t,s,l){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Qi(e,t){return qo()<=U.in.DEBUG&&un("QueryEngine","Using full collection scan to execute query:",Cn(t)),this.Ui.getDocumentsMatchingQuery(e,t,Zo.min())}Wi(e,t,s,l){return this.Ui.getDocumentsMatchingQuery(e,s,l).next(h=>(t.forEach(y=>{h=h.insert(y.key,y)}),h))}}class Tp{constructor(e,t,s,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new oe(Bn),this.Yi=new Ls(h=>aa(h),Bl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Tm(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,c.Z)(function*(i,e){const t=zn(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(h=>{const y=[],$=[];let ee=ri();for(const le of l){y.push(le.batchId);for(const Ne of le.mutations)ee=ee.add(Ne.key)}for(const le of h){$.push(le.batchId);for(const Ne of le.mutations)ee=ee.add(Ne.key)}return t.localDocuments.getDocuments(s,ee).next(le=>({er:le,removedBatchIds:y,addedBatchIds:$}))})})}),Ch.apply(this,arguments)}function cv(i){const e=zn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dv(i,e){const t=zn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nd(i,e,t){return cu.apply(this,arguments)}function cu(){return cu=(0,c.Z)(function*(i,e,t){const s=zn(i),l=s.Ji.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",h,y=>s.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!fs(y))throw y;un("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(l.target)}),cu.apply(this,arguments)}function Ah(i,e,t){const s=zn(i);let l=gr.min(),h=ri();return s.persistence.runTransaction("Execute query","readonly",y=>function($,ee,le){const Ne=zn($),ot=Ne.Yi.get(le);return void 0!==ot?Ut.resolve(Ne.Ji.get(ot)):Ne.Bs.getTargetData(ee,le)}(s,y,B(e)).next($=>{if($)return l=$.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(y,$.targetId).next(ee=>{h=ee})}).next(()=>s.Hi.getDocumentsMatchingQuery(y,e,t?l:gr.min(),t?h:ri())).next($=>(function uu(i,e,t){let s=i.Xi.get(e)||gr.min();t.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),i.Xi.set(e,s)}(s,function Er(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),$),{documents:$,ir:h})))}class xh{constructor(){this.activeTargetIds=function Yd(){return Kd}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Am{constructor(){this.Hr=new xh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xh,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rm{Yr(e){}shutdown(){}}class Pp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){un("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){un("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Nh=null;function Op(){return null===Nh?Nh=268435456+Math.round(2147483648*Math.random()):Nh++,"0x"+Nh.toString(16)}const c0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const As="WebChannelConnection";class xp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,l,h){const y=Op(),$=this.To(e,t);un("RestConnection",`Sending RPC '${e}' ${y}:`,$,s);const ee={};return this.Eo(ee,l,h),this.Ao(e,$,ee,s).then(le=>(un("RestConnection",`Received RPC '${e}' ${y}: `,le),le),le=>{throw fo("RestConnection",`RPC '${e}' ${y} failed with error: `,le,"url: ",$,"request:",s),le})}vo(e,t,s,l,h,y){return this.Io(e,t,s,l,h)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),s&&s.headers.forEach((l,h)=>e[h]=l)}To(e,t){return`${this.mo}/v1/${t}:${c0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,l){const h=Op();return new Promise((y,$)=>{const ee=new ei;ee.setWithCredentials(!0),ee.listenOnce(Se.COMPLETE,()=>{try{switch(ee.getLastErrorCode()){case Z.NO_ERROR:const Ne=ee.getResponseJson();un(As,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(Ne)),y(Ne);break;case Z.TIMEOUT:un(As,`RPC '${e}' ${h} timed out`),$(new dn(It.DEADLINE_EXCEEDED,"Request time out"));break;case Z.HTTP_ERROR:const ot=ee.getStatus();if(un(As,`RPC '${e}' ${h} failed with status:`,ot,"response text:",ee.getResponseText()),ot>0){let Bt=ee.getResponseJson();Array.isArray(Bt)&&(Bt=Bt[0]);const rn=null==Bt?void 0:Bt.error;if(rn&&rn.status&&rn.message){const Dn=function(qn){const Qn=qn.toLowerCase().replace(/_/g,"-");return Object.values(It).indexOf(Qn)>=0?Qn:It.UNKNOWN}(rn.status);$(new dn(Dn,rn.message))}else $(new dn(It.UNKNOWN,"Server responded with status "+ee.getStatus()))}else $(new dn(It.UNAVAILABLE,"Connection failed."));break;default:Nn()}}finally{un(As,`RPC '${e}' ${h} completed.`)}});const le=JSON.stringify(l);un(As,`RPC '${e}' ${h} sending request:`,l),ee.send(t,"POST",le,s,15)})}Ro(e,t,s){const l=Op(),h=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=G(),$=ce(),ee={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},le=this.longPollingOptions.timeoutSeconds;void 0!==le&&(ee.longPollingTimeout=Math.round(1e3*le)),this.useFetchStreams&&(ee.xmlHttpFactory=new Xt({})),this.Eo(ee.initMessageHeaders,t,s),ee.encodeInitMessageHeaders=!0;const Ne=h.join("");un(As,`Creating RPC '${e}' stream ${l}: ${Ne}`,ee);const ot=y.createWebChannel(Ne,ee);let Bt=!1,rn=!1;const Dn=new hv({ro:Qn=>{rn?un(As,`Not sending because RPC '${e}' stream ${l} is closed:`,Qn):(Bt||(un(As,`Opening RPC '${e}' stream ${l} transport.`),ot.open(),Bt=!0),un(As,`RPC '${e}' stream ${l} sending:`,Qn),ot.send(Qn))},oo:()=>ot.close()}),qn=(Qn,ii,xi)=>{Qn.listen(ii,vi=>{try{xi(vi)}catch(ys){setTimeout(()=>{throw ys},0)}})};return qn(ot,_n.EventType.OPEN,()=>{rn||un(As,`RPC '${e}' stream ${l} transport opened.`)}),qn(ot,_n.EventType.CLOSE,()=>{rn||(rn=!0,un(As,`RPC '${e}' stream ${l} transport closed`),Dn.wo())}),qn(ot,_n.EventType.ERROR,Qn=>{rn||(rn=!0,fo(As,`RPC '${e}' stream ${l} transport errored:`,Qn),Dn.wo(new dn(It.UNAVAILABLE,"The operation could not be completed")))}),qn(ot,_n.EventType.MESSAGE,Qn=>{var ii;if(!rn){const xi=Qn.data[0];Hn(!!xi);const ys=xi.error||(null===(ii=xi[0])||void 0===ii?void 0:ii.error);if(ys){un(As,`RPC '${e}' stream ${l} received error:`,ys);const Ko=ys.status;let bo=function($c){const Pg=rs[$c];if(void 0!==Pg)return Zg(Pg)}(Ko),$s=ys.message;void 0===bo&&(bo=It.INTERNAL,$s="Unknown error status: "+Ko+" with message "+ys.message),rn=!0,Dn.wo(new dn(bo,$s)),ot.close()}else un(As,`RPC '${e}' stream ${l} received:`,xi),Dn._o(xi)}}),qn($,Ze.STAT_EVENT,Qn=>{Qn.stat===Vt.PROXY?un(As,`RPC '${e}' stream ${l} detected buffering proxy`):Qn.stat===Vt.NOPROXY&&un(As,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Dn.fo()},0),Dn}}function id(){return typeof document<"u"?document:null}function Ec(i){return new ep(i,!0)}class mu{constructor(e,t,s=1e3,l=1.5,h=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=l,this.Vo=h,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-s);l>0&&un("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Pm{constructor(e,t,s,l,h,y,$,ee){this.ii=e,this.$o=s,this.Oo=l,this.connection=h,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=$,this.listener=ee,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mu(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,c.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,c.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,c.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===It.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===It.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Fo===t&&this.Zo(s,l)},s=>{e(()=>{const l=new dn(It.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(l)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{s(()=>this.tu(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,c.Z)(function*(){e.state=0,e.start()}))}tu(e){return un("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(un("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Om extends Pm{constructor(e,t,s,l,h,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,y),this.serializer=h}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ih(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(ee=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ee?1:"REMOVE"===ee?2:"CURRENT"===ee?3:"RESET"===ee?4:Nn(),l=e.targetChange.targetIds||[],h=function(ee,le){return ee.useProto3Json?(Hn(void 0===le||"string"==typeof le),Fn.fromBase64String(le||"")):(Hn(void 0===le||le instanceof Uint8Array),Fn.fromUint8Array(le||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,$=y&&function(ee){const le=void 0===ee.code?It.UNKNOWN:Zg(ee.code);return new dn(le,ee.message||"")}(y);t=new em(s,l,h,$||null)}else if("documentChange"in e){const s=e.documentChange,l=wl(i,s.document.name),h=go(s.document.updateTime),y=s.document.createTime?go(s.document.createTime):gr.min(),$=new Ki({mapValue:{fields:s.document.fields}}),ee=Gr.newFoundDocument(l,h,y,$);t=new uc(s.targetIds||[],s.removedTargetIds||[],ee.key,ee)}else if("documentDelete"in e){const s=e.documentDelete,l=wl(i,s.document),h=s.readTime?go(s.readTime):gr.min(),y=Gr.newNoDocument(l,h);t=new uc([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,l=wl(i,s.document);t=new uc([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Nn();{const s=e.filter,{count:l=0,unchangedNames:h}=s,y=new qy(l,h);t=new Jg(s.targetId,y)}}var ee;return t}(this.serializer,e),s=function(l){if(!("targetChange"in l))return gr.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?gr.min():h.readTime?go(h.readTime):gr.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=ru(this.serializer),t.addTarget=function(l,h){let y;const $=h.target;if(y=il($)?{documents:Wu(l,$)}:{query:sh(l,$)},y.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){y.resumeToken=th(l,h.resumeToken);const ee=tp(l,h.expectedCount);null!==ee&&(y.expectedCount=ee)}else if(h.snapshotVersion.compareTo(gr.min())>0){y.readTime=tu(l,h.snapshotVersion.toTimestamp());const ee=tp(l,h.expectedCount);null!==ee&&(y.expectedCount=ee)}return y}(this.serializer,e);const s=function Ku(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=ru(this.serializer),t.removeTarget=e,this.Wo(t)}}class fv extends Pm{constructor(e,t,s,l,h,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,y),this.serializer=h,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function op(i,e){return i&&i.length>0?(Hn(void 0!==e),i.map(t=>function(s,l){let h=go(s.updateTime?s.updateTime:l);return h.isEqual(gr.min())&&(h=go(l)),new Ky(h,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=go(e.commitTime);return this.listener.cu(s,t)}return Hn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ru(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function Dl(i,e){let t;if(e instanceof jl)t={update:ip(i,e.key,e.value)};else if(e instanceof Jc)t={delete:Gu(i,e.key)};else if(e instanceof No)t={update:ip(i,e.key,e.data),updateMask:lh(e.fieldMask)};else{if(!(e instanceof Xd))return Nn();t={verify:Gu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const y=h.transform;if(y instanceof ac)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Vl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof al)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Zc)return{fieldPath:h.field.canonicalString(),increment:y.gt};throw Nn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:sm(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Nn()),t;var l}(this.serializer,s))};this.Wo(t)}}class xm extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new dn(It.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Io(e,t,s,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new dn(It.UNKNOWN,l.toString())})}vo(e,t,s,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.connection.vo(e,t,s,h,y,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dn(It.UNKNOWN,h.toString())})}terminate(){this.lu=!0}}class od{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(qr(t),this.mu=!1):un("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class pv{constructor(e,t,s,l,h){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=h,this.Pu.Yr($=>{s.enqueueAndForget((0,c.Z)(function*(){var ee;Fa(y)&&(un("RemoteStore","Restarting streams for network reachability change."),yield(ee=(0,c.Z)(function*(le){const Ne=zn(le);Ne.vu.add(4),yield yu(Ne),Ne.bu.set("Unknown"),Ne.vu.delete(4),yield cl(Ne)}),function(le){return ee.apply(this,arguments)})(y))}))}),this.bu=new od(s,l)}}function cl(i){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,c.Z)(function*(i){if(Fa(i))for(const e of i.Ru)yield e(!0)}),Ic.apply(this,arguments)}function yu(i){return kh.apply(this,arguments)}function kh(){return kh=(0,c.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),kh.apply(this,arguments)}function Fh(i,e){const t=zn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),ad(t)?Lh(t):Dc(t).Ko()&&kp(t,e))}function sd(i,e){const t=zn(i),s=Dc(t);t.Au.delete(e),s.Ko()&&Fp(t,e),0===t.Au.size&&(s.Ko()?s.jo():Fa(t)&&t.bu.set("Unknown"))}function kp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gr.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dc(i).su(e)}function Fp(i,e){i.Vu.qt(e),Dc(i).iu(e)}function Lh(i){i.Vu=new Zy({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Dc(i).start(),i.bu.gu()}function ad(i){return Fa(i)&&!Dc(i).Uo()&&i.Au.size>0}function Fa(i){return 0===zn(i).vu.size}function Lp(i){i.Vu=void 0}function d0(i){return ld.apply(this,arguments)}function ld(){return ld=(0,c.Z)(function*(i){i.Au.forEach((e,t)=>{kp(i,e)})}),ld.apply(this,arguments)}function vu(i,e){return _u.apply(this,arguments)}function _u(){return _u=(0,c.Z)(function*(i,e){Lp(i),ad(i)?(i.bu.Iu(e),Lh(i)):i.bu.set("Unknown")}),_u.apply(this,arguments)}function Nm(i,e,t){return $h.apply(this,arguments)}function $h(){return $h=(0,c.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof em&&2===e.state&&e.cause)try{yield(s=(0,c.Z)(function*(l,h){const y=h.cause;for(const $ of h.targetIds)l.Au.has($)&&(yield l.remoteSyncer.rejectListen($,y),l.Au.delete($),l.Vu.removeTarget($))}),function(l,h){return s.apply(this,arguments)})(i,e)}catch(s){un("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Bh(i,s)}else if(e instanceof uc?i.Vu.Ht(e):e instanceof Jg?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(gr.min()))try{const s=yield cv(i.localStore);t.compareTo(s)>=0&&(yield function(l,h){const y=l.Vu.ce(h);return y.targetChanges.forEach(($,ee)=>{if($.resumeToken.approximateByteSize()>0){const le=l.Au.get(ee);le&&l.Au.set(ee,le.withResumeToken($.resumeToken,h))}}),y.targetMismatches.forEach(($,ee)=>{const le=l.Au.get($);if(!le)return;l.Au.set($,le.withResumeToken(Fn.EMPTY_BYTE_STRING,le.snapshotVersion)),Fp(l,$);const Ne=new ya(le.target,$,ee,le.sequenceNumber);kp(l,Ne)}),l.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(s){un("RemoteStore","Failed to raise snapshot:",s),yield Bh(i,s)}var s}),$h.apply(this,arguments)}function Bh(i,e,t){return $p.apply(this,arguments)}function $p(){return $p=(0,c.Z)(function*(i,e,t){if(!fs(e))throw e;i.vu.add(1),yield yu(i),i.bu.set("Offline"),t||(t=()=>cv(i.localStore)),i.asyncQueue.enqueueRetryable((0,c.Z)(function*(){un("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield cl(i)}))}),$p.apply(this,arguments)}function km(i,e){return e().catch(t=>Bh(i,t,e))}function Eu(i){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,c.Z)(function*(i){const e=zn(i),t=Vr(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;gv(e);)try{const l=yield dv(e.localStore,s);if(null===l){0===e.Eu.length&&t.jo();break}s=l.batchId,Fm(e,l)}catch(l){yield Bh(e,l)}bc(e)&&ul(e)}),Bp.apply(this,arguments)}function gv(i){return Fa(i)&&i.Eu.length<10}function Fm(i,e){i.Eu.push(e);const t=Vr(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function bc(i){return Fa(i)&&!Vr(i).Uo()&&i.Eu.length>0}function ul(i){Vr(i).start()}function Lm(i){return $m.apply(this,arguments)}function $m(){return $m=(0,c.Z)(function*(i){Vr(i).hu()}),$m.apply(this,arguments)}function mv(i){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,c.Z)(function*(i){const e=Vr(i);for(const t of i.Eu)e.uu(t.mutations)}),Bm.apply(this,arguments)}function h0(i,e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,c.Z)(function*(i,e,t){const s=i.Eu.shift(),l=Qd.from(s,e,t);yield km(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Eu(i)}),Uh.apply(this,arguments)}function Um(i,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,c.Z)(function*(i,e){var t;e&&Vr(i).ou&&(yield(t=(0,c.Z)(function*(s,l){if(function Jd(i){switch(i){default:return Nn();case It.CANCELLED:case It.UNKNOWN:case It.DEADLINE_EXCEEDED:case It.RESOURCE_EXHAUSTED:case It.INTERNAL:case It.UNAVAILABLE:case It.UNAUTHENTICATED:return!1;case It.INVALID_ARGUMENT:case It.NOT_FOUND:case It.ALREADY_EXISTS:case It.PERMISSION_DENIED:case It.FAILED_PRECONDITION:case It.ABORTED:case It.OUT_OF_RANGE:case It.UNIMPLEMENTED:case It.DATA_LOSS:return!0}}(h=l.code)&&h!==It.ABORTED){const y=s.Eu.shift();Vr(s).Qo(),yield km(s,()=>s.remoteSyncer.rejectFailedWrite(y.batchId,l)),yield Eu(s)}var h}),function(s,l){return t.apply(this,arguments)})(i,e)),bc(i)&&ul(i)}),Vm.apply(this,arguments)}function Up(i,e){return wc.apply(this,arguments)}function wc(){return wc=(0,c.Z)(function*(i,e){const t=zn(i);t.asyncQueue.verifyOperationInProgress(),un("RemoteStore","RemoteStore received new credentials");const s=Fa(t);t.vu.add(3),yield yu(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield cl(t)}),wc.apply(this,arguments)}function jh(){return jh=(0,c.Z)(function*(i,e){const t=zn(i);e?(t.vu.delete(2),yield cl(t)):e||(t.vu.add(2),yield yu(t),t.bu.set("Unknown"))}),jh.apply(this,arguments)}function Dc(i){return i.Su||(i.Su=function(e,t,s){const l=zn(e);return l.fu(),new Om(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{uo:d0.bind(null,i),ao:vu.bind(null,i),nu:Nm.bind(null,i)}),i.Ru.push(function(){var e=(0,c.Z)(function*(t){t?(i.Su.Qo(),ad(i)?Lh(i):i.bu.set("Unknown")):(yield i.Su.stop(),Lp(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Vr(i){return i.Du||(i.Du=function(e,t,s){const l=zn(e);return l.fu(),new fv(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{uo:Lm.bind(null,i),ao:Um.bind(null,i),au:mv.bind(null,i),cu:h0.bind(null,i)}),i.Ru.push(function(){var e=(0,c.Z)(function*(t){t?(i.Du.Qo(),yield Eu(i)):(yield i.Du.stop(),i.Eu.length>0&&(un("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class Hh{constructor(e,t,s,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,s,l,h){const y=Date.now()+s,$=new Hh(e,t,y,l,h);return $.start(s),$}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dn(It.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sc(i,e){if(qr("AsyncQueue",`${e}: ${i}`),fs(i))return new dn(It.UNAVAILABLE,`${e}: ${i}`);throw i}class cd{constructor(e){this.comparator=e?(t,s)=>e(t,s)||kn.comparator(t.key,s.key):(t,s)=>kn.comparator(t.key,s.key),this.keyedMap=Ul(),this.sortedSet=new oe(this.comparator)}static emptySet(e){return new cd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new cd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class jm{constructor(){this.Cu=new oe(kn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Nn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Tc{constructor(e,t,s,l,h,y,$,ee,le){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=$,this.excludesMetadataChanges=ee,this.hasCachedResults=le}static fromInitialDocuments(e,t,s,l,h){const y=[];return t.forEach($=>{y.push({type:0,doc:$})}),new Tc(e,t,cd.emptySet(t),y,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class yv{constructor(){this.Nu=void 0,this.listeners=[]}}class vv{constructor(){this.queries=new Ls(e=>Kt(e),Dt),this.onlineState="Unknown",this.ku=new Set}}function zh(i,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,c.Z)(function*(i,e){const t=zn(i),s=e.query;let l=!1,h=t.queries.get(s);if(h||(l=!0,h=new yv),l)try{h.Nu=yield t.onListen(s)}catch(y){const $=Sc(y,`Initialization of query '${Cn(e.query)}' failed`);return void e.onError($)}t.queries.set(s,h),h.listeners.push(e),e.Mu(t.onlineState),h.Nu&&e.$u(h.Nu)&&Wh(t)}),Vp.apply(this,arguments)}function Gh(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,c.Z)(function*(i,e){const t=zn(i),s=e.query;let l=!1;const h=t.queries.get(s);if(h){const y=h.listeners.indexOf(e);y>=0&&(h.listeners.splice(y,1),l=0===h.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),jp.apply(this,arguments)}function _v(i,e){const t=zn(i);let s=!1;for(const l of e){const y=t.queries.get(l.query);if(y){for(const $ of y.listeners)$.$u(l)&&(s=!0);y.Nu=l}}s&&Wh(t)}function f0(i,e,t){const s=zn(i),l=s.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);s.queries.delete(e)}function Wh(i){i.ku.forEach(e=>{e.next()})}class Kh{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Tc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ud{constructor(e){this.key=e}}class Ac{constructor(e){this.key=e}}class Yh{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ri(),this.mutatedKeys=ri(),this.tc=pi(e),this.ec=new cd(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new jm,l=t?t.ec:this.ec;let h=t?t.mutatedKeys:this.mutatedKeys,y=l,$=!1;const ee="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,le="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Ne,ot)=>{const Bt=l.get(Ne),rn=Un(this.query,ot)?ot:null,Dn=!!Bt&&this.mutatedKeys.has(Bt.key),qn=!!rn&&(rn.hasLocalMutations||this.mutatedKeys.has(rn.key)&&rn.hasCommittedMutations);let Qn=!1;Bt&&rn?Bt.data.isEqual(rn.data)?Dn!==qn&&(s.track({type:3,doc:rn}),Qn=!0):this.rc(Bt,rn)||(s.track({type:2,doc:rn}),Qn=!0,(ee&&this.tc(rn,ee)>0||le&&this.tc(rn,le)<0)&&($=!0)):!Bt&&rn?(s.track({type:0,doc:rn}),Qn=!0):Bt&&!rn&&(s.track({type:1,doc:Bt}),Qn=!0,(ee||le)&&($=!0)),Qn&&(rn?(y=y.add(rn),h=qn?h.add(Ne):h.delete(Ne)):(y=y.delete(Ne),h=h.delete(Ne)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const Ne="F"===this.query.limitType?y.last():y.first();y=y.delete(Ne.key),h=h.delete(Ne.key),s.track({type:1,doc:Ne})}return{ec:y,ic:s,zi:$,mutatedKeys:h}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const h=e.ic.xu();h.sort((le,Ne)=>function(ot,Bt){const rn=Dn=>{switch(Dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nn()}};return rn(ot)-rn(Bt)}(le.type,Ne.type)||this.tc(le.doc,Ne.doc)),this.oc(s);const y=t?this.uc():[],$=0===this.Zu.size&&this.current?1:0,ee=$!==this.Xu;return this.Xu=$,0!==h.length||ee?{snapshot:new Tc(this.query,e.ec,l,h,e.mutatedKeys,0===$,ee,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:y}:{cc:y}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ri(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Ac(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new ud(s))}),t}hc(e){this.Yu=e.ir,this.Zu=ri();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Tc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class dd{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Gm{constructor(e){this.key=e,this.fc=!1}}class Hp{constructor(e,t,s,l,h,y){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.dc={},this.wc=new Ls($=>Kt($),Dt),this._c=new Map,this.mc=new Set,this.gc=new oe(kn.comparator),this.yc=new Map,this.Ic=new Dh,this.Tc={},this.Ec=new Map,this.Ac=pc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function zp(i,e){return hd.apply(this,arguments)}function hd(){return hd=(0,c.Z)(function*(i,e){const t=function nf(i){const e=zn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bv.bind(null,e),e.dc.nu=_v.bind(null,e.eventManager),e.dc.Pc=f0.bind(null,e.eventManager),e}(i);let s,l;const h=t.wc.get(e);if(h)s=h.targetId,t.sharedClientState.addLocalQueryTarget(s),l=h.view.lc();else{const y=yield function td(i,e){const t=zn(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Bs.getTargetData(s,e).next(h=>h?(l=h,Ut.resolve(l)):t.Bs.allocateTargetId(s).next(y=>(l=new ya(e,y,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.Ji.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,B(e)),$=t.sharedClientState.addLocalQueryTarget(y.targetId);s=y.targetId,l=yield function qh(i,e,t,s,l){return fd.apply(this,arguments)}(t,e,s,"current"===$,y.resumeToken),t.isPrimaryClient&&Fh(t.remoteStore,y)}return l}),hd.apply(this,arguments)}function fd(){return fd=(0,c.Z)(function*(i,e,t,s,l){i.Rc=(ot,Bt,rn)=>{return(Dn=(0,c.Z)(function*(qn,Qn,ii,xi){let vi=Qn.view.sc(ii);vi.zi&&(vi=yield Ah(qn.localStore,Qn.query,!1).then(({documents:bo})=>Qn.view.sc(bo,vi)));const ys=xi&&xi.targetChanges.get(Qn.targetId),Ko=Qn.view.applyChanges(vi,qn.isPrimaryClient,ys);return qp(qn,Qn.targetId,Ko.cc),Ko.snapshot}),function(qn,Qn,ii,xi){return Dn.apply(this,arguments)})(i,ot,Bt,rn);var Dn};const h=yield Ah(i.localStore,e,!0),y=new Yh(e,h.ir),$=y.sc(h.documents),ee=cc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,l),le=y.applyChanges($,i.isPrimaryClient,ee);qp(i,t,le.cc);const Ne=new dd(e,t,y);return i.wc.set(e,Ne),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),le.snapshot}),fd.apply(this,arguments)}function Ev(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,c.Z)(function*(i,e){const t=zn(i),s=t.wc.get(e),l=t._c.get(s.targetId);if(l.length>1)return t._c.set(s.targetId,l.filter(h=>!Dt(h,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield nd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),sd(t.remoteStore,s.targetId),Rc(t,s.targetId)}).catch(ia))):(Rc(t,s.targetId),yield nd(t.localStore,s.targetId,!0))}),Gp.apply(this,arguments)}function Zh(){return Zh=(0,c.Z)(function*(i,e,t){const s=function md(i){const e=zn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ym.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wv.bind(null,e),e}(i);try{const l=yield function(h,y){const $=zn(h),ee=Zr.now(),le=y.reduce((Bt,rn)=>Bt.add(rn.key),ri());let Ne,ot;return $.persistence.runTransaction("Locally write mutations","readwrite",Bt=>{let rn=Zs(),Dn=ri();return $.Zi.getEntries(Bt,le).next(qn=>{rn=qn,rn.forEach((Qn,ii)=>{ii.isValidDocument()||(Dn=Dn.add(Qn))})}).next(()=>$.localDocuments.getOverlayedDocuments(Bt,rn)).next(qn=>{Ne=qn;const Qn=[];for(const ii of y){const xi=Gf(ii,Ne.get(ii.key).overlayedDocument);null!=xi&&Qn.push(new No(ii.key,xi,Fl(xi.value.mapValue),xo.exists(!0)))}return $.mutationQueue.addMutationBatch(Bt,ee,Qn,y)}).next(qn=>{ot=qn;const Qn=qn.applyToLocalDocumentSet(Ne,Dn);return $.documentOverlayCache.saveOverlays(Bt,qn.batchId,Qn)})}).then(()=>({batchId:ot.batchId,changes:oc(Ne)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(h,y,$){let ee=h.Tc[h.currentUser.toKey()];ee||(ee=new oe(Bn)),ee=ee.insert(y,$),h.Tc[h.currentUser.toKey()]=ee}(s,l.batchId,t),yield Al(s,l.changes),yield Eu(s.remoteStore)}catch(l){const h=Sc(l,"Failed to persist write");t.reject(h)}}),Zh.apply(this,arguments)}function Wm(i,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,c.Z)(function*(i,e){const t=zn(i);try{const s=yield function uv(i,e){const t=zn(i),s=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const $=[];e.targetChanges.forEach((Ne,ot)=>{const Bt=l.get(ot);if(!Bt)return;$.push(t.Bs.removeMatchingKeys(h,Ne.removedDocuments,ot).next(()=>t.Bs.addMatchingKeys(h,Ne.addedDocuments,ot)));let rn=Bt.withSequenceNumber(h.currentSequenceNumber);var Dn,qn,Qn;null!==e.targetMismatches.get(ot)?rn=rn.withResumeToken(Fn.EMPTY_BYTE_STRING,gr.min()).withLastLimboFreeSnapshotVersion(gr.min()):Ne.resumeToken.approximateByteSize()>0&&(rn=rn.withResumeToken(Ne.resumeToken,s)),l=l.insert(ot,rn),qn=rn,Qn=Ne,(0===(Dn=Bt).resumeToken.approximateByteSize()||qn.snapshotVersion.toMicroseconds()-Dn.snapshotVersion.toMicroseconds()>=3e8||Qn.addedDocuments.size+Qn.modifiedDocuments.size+Qn.removedDocuments.size>0)&&$.push(t.Bs.updateTargetData(h,rn))});let ee=Zs(),le=ri();if(e.documentUpdates.forEach(Ne=>{e.resolvedLimboDocuments.has(Ne)&&$.push(t.persistence.referenceDelegate.updateLimboDocument(h,Ne))}),$.push(function Cm(i,e,t){let s=ri(),l=ri();return t.forEach(h=>s=s.add(h)),e.getEntries(i,s).next(h=>{let y=Zs();return t.forEach(($,ee)=>{const le=h.get($);ee.isFoundDocument()!==le.isFoundDocument()&&(l=l.add($)),ee.isNoDocument()&&ee.version.isEqual(gr.min())?(e.removeEntry($,ee.readTime),y=y.insert($,ee)):!le.isValidDocument()||ee.version.compareTo(le.version)>0||0===ee.version.compareTo(le.version)&&le.hasPendingWrites?(e.addEntry(ee),y=y.insert($,ee)):un("LocalStore","Ignoring outdated watch update for ",$,". Current version:",le.version," Watch version:",ee.version)}),{nr:y,sr:l}})}(h,y,e.documentUpdates).next(Ne=>{ee=Ne.nr,le=Ne.sr})),!s.isEqual(gr.min())){const Ne=t.Bs.getLastRemoteSnapshotVersion(h).next(ot=>t.Bs.setTargetsMetadata(h,h.currentSequenceNumber,s));$.push(Ne)}return Ut.waitFor($).next(()=>y.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,ee,le)).next(()=>ee)}).then(h=>(t.Ji=l,h))}(t.localStore,e);e.targetChanges.forEach((l,h)=>{const y=t.yc.get(h);y&&(Hn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.fc=!0:l.modifiedDocuments.size>0?Hn(y.fc):l.removedDocuments.size>0&&(Hn(y.fc),y.fc=!1))}),yield Al(t,s,e)}catch(s){yield ia(s)}}),Wp.apply(this,arguments)}function Km(i,e,t){const s=zn(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.wc.forEach((h,y)=>{const $=y.view.Mu(e);$.snapshot&&l.push($.snapshot)}),function(h,y){const $=zn(h);$.onlineState=y;let ee=!1;$.queries.forEach((le,Ne)=>{for(const ot of Ne.listeners)ot.Mu(y)&&(ee=!0)}),ee&&Wh($)}(s.eventManager,e),l.length&&s.dc.nu(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function bv(i,e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,c.Z)(function*(i,e,t){const s=zn(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.yc.get(e),h=l&&l.key;if(h){let y=new oe(kn.comparator);y=y.insert(h,Gr.newNoDocument(h,gr.min()));const $=ri().add(h),ee=new eu(gr.min(),new Map,new oe(Bn),y,$);yield Wm(s,ee),s.gc=s.gc.remove(h),s.yc.delete(e),Qh(s)}else yield nd(s.localStore,e,!1).then(()=>Rc(s,e,t)).catch(ia)}),Xh.apply(this,arguments)}function Ym(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,c.Z)(function*(i,e){const t=zn(i),s=e.batch.batchId;try{const l=yield function Ap(i,e){const t=zn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),h=t.Zi.newChangeBuffer({trackRemovals:!0});return function(y,$,ee,le){const Ne=ee.batch,ot=Ne.keys();let Bt=Ut.resolve();return ot.forEach(rn=>{Bt=Bt.next(()=>le.getEntry($,rn)).next(Dn=>{const qn=ee.docVersions.get(rn);Hn(null!==qn),Dn.version.compareTo(qn)<0&&(Ne.applyToRemoteDocument(Dn,ee),Dn.isValidDocument()&&(Dn.setReadTime(ee.commitVersion),le.addEntry(Dn)))})}),Bt.next(()=>y.mutationQueue.removeMutationBatch($,Ne))}(t,s,e,h).next(()=>h.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(y){let $=ri();for(let ee=0;ee<y.mutationResults.length;++ee)y.mutationResults[ee].transformResults.length>0&&($=$.add(y.batch.mutations[ee].key));return $}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}(t.localStore,e);pd(t,s,null),qm(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Al(t,l)}catch(l){yield ia(l)}}),Kp.apply(this,arguments)}function wv(i,e,t){return la.apply(this,arguments)}function la(){return la=(0,c.Z)(function*(i,e,t){const s=zn(i);try{const l=yield function(h,y){const $=zn(h);return $.persistence.runTransaction("Reject batch","readwrite-primary",ee=>{let le;return $.mutationQueue.lookupMutationBatch(ee,y).next(Ne=>(Hn(null!==Ne),le=Ne.keys(),$.mutationQueue.removeMutationBatch(ee,Ne))).next(()=>$.mutationQueue.performConsistencyCheck(ee)).next(()=>$.documentOverlayCache.removeOverlaysForBatchId(ee,le,y)).next(()=>$.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ee,le)).next(()=>$.localDocuments.getDocuments(ee,le))})}(s.localStore,e);pd(s,e,t),qm(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Al(s,l)}catch(l){yield ia(l)}}),la.apply(this,arguments)}function qm(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function pd(i,e,t){const s=zn(i);let l=s.Tc[s.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),s.Tc[s.currentUser.toKey()]=l}}function Rc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||Zm(i,s)})}function Zm(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(sd(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Qh(i))}function qp(i,e,t){for(const s of t)s instanceof ud?(i.Ic.addReference(s.key,e),Sv(i,s)):s instanceof Ac?(un("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||Zm(i,s.key)):Nn()}function Sv(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(un("SyncEngine","New document in limbo: "+t),i.mc.add(s),Qh(i))}function Qh(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new kn(kr.fromString(e)),s=i.Ac.next();i.yc.set(s,new Gm(t)),i.gc=i.gc.insert(t,s),Fh(i.remoteStore,new ya(B(bl(t.path)),s,"TargetPurposeLimboResolution",R.ct))}}function Al(i,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,c.Z)(function*(i,e,t){const s=zn(i),l=[],h=[],y=[];var $;s.wc.isEmpty()||(s.wc.forEach(($,ee)=>{y.push(s.Rc(ee,e,t).then(le=>{if((le||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(ee.targetId,null!=le&&le.fromCache?"not-current":"current"),le){l.push(le);const Ne=Sp.Li(ee.targetId,le);h.push(Ne)}}))}),yield Promise.all(y),s.dc.nu(l),yield($=(0,c.Z)(function*(ee,le){const Ne=zn(ee);try{yield Ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>Ut.forEach(le,Bt=>Ut.forEach(Bt.Fi,rn=>Ne.persistence.referenceDelegate.addReference(ot,Bt.targetId,rn)).next(()=>Ut.forEach(Bt.Bi,rn=>Ne.persistence.referenceDelegate.removeReference(ot,Bt.targetId,rn)))))}catch(ot){if(!fs(ot))throw ot;un("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of le){const Bt=ot.targetId;if(!ot.fromCache){const rn=Ne.Ji.get(Bt),qn=rn.withLastLimboFreeSnapshotVersion(rn.snapshotVersion);Ne.Ji=Ne.Ji.insert(Bt,qn)}}}),function(ee,le){return $.apply(this,arguments)})(s.localStore,h))}),Zp.apply(this,arguments)}function Xp(i,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,c.Z)(function*(i,e){const t=zn(i);if(!t.currentUser.isEqual(e)){un("SyncEngine","User change. New user:",e.toKey());const s=yield Tm(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(y=>{y.forEach($=>{$.reject(new dn(It.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Al(t,s.er)}var l}),Qp.apply(this,arguments)}function Tv(i,e){const t=zn(i),s=t.yc.get(e);if(s&&s.fc)return ri().add(s.key);{let l=ri();const h=t._c.get(e);if(!h)return l;for(const y of h){const $=t.wc.get(y);l=l.unionWith($.view.nc)}return l}}class rf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,c.Z)(function*(){t.serializer=Ec(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Cp(i,e,t,s){return new Tp(i,e,t,s)}(this.persistence,new Sm,e.initialUser,this.serializer)}createPersistence(e){return new _p(vc.zs,this.serializer)}createSharedClientState(e){return new Am}terminate(){var e=this;return(0,c.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Iu{initialize(e,t){var s=this;return(0,c.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Km(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=Xp.bind(null,s.syncEngine),yield function Vh(i,e){return jh.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vv}createDatastore(e){const t=Ec(e.databaseInfo.databaseId),s=new xp(e.databaseInfo);return new xm(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,h=$=>Km(this.syncEngine,$,0),y=Pp.D()?new Pp:new Rm,new pv(t,s,l,h,y);var t,s,l,h,y}createSyncEngine(e,t){return function(s,l,h,y,$,ee,le){const Ne=new Hp(s,l,h,y,$,ee);return le&&(Ne.vc=!0),Ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,c.Z)(function*(t){const s=zn(t);un("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield yu(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yd{constructor(e,t,s,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=Nr.UNAUTHENTICATED,this.clientId=tn.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,c.Z)(function*($){un("FirestoreClient","Received user=",$.uid),yield h.authCredentialListener($),h.user=$});return function($){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(un("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,c.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dn(It.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=Sc(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Mc(i,e){return ny.apply(this,arguments)}function ny(){return ny=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),un("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,c.Z)(function*(h){s.isEqual(h)||(yield Tm(e.localStore,h),s=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),ny.apply(this,arguments)}function sg(i,e){return lf.apply(this,arguments)}function lf(){return lf=(0,c.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield function lg(i){return cg.apply(this,arguments)}(i);un("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(l=>Up(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,h)=>Up(e.remoteStore,h)),i._onlineComponents=e}),lf.apply(this,arguments)}function cg(){return cg=(0,c.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){un("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mc(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function ag(i){return"FirebaseError"===i.name?i.code===It.FAILED_PRECONDITION||i.code===It.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),yield Mc(i,new rf)}}else un("FirestoreClient","Using default OfflineComponentProvider"),yield Mc(i,new rf);return i._offlineComponents}),cg.apply(this,arguments)}function vd(i){return cf.apply(this,arguments)}function cf(){return cf=(0,c.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(un("FirestoreClient","Using user provided OnlineComponentProvider"),yield sg(i,i._uninitializedComponentsProvider._online)):(un("FirestoreClient","Using default OnlineComponentProvider"),yield sg(i,new Iu))),i._onlineComponents}),cf.apply(this,arguments)}function wu(i){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,c.Z)(function*(i){const e=yield vd(i),t=e.eventManager;return t.onListen=zp.bind(null,e.syncEngine),t.onUnlisten=Ev.bind(null,e.syncEngine),t}),Pc.apply(this,arguments)}function hf(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const ay=new Map;function Du(i,e,t){if(!t)throw new dn(It.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ly(i){if(!kn.isDocumentKey(i))throw new dn(It.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cy(i){if(kn.isDocumentKey(i))throw new dn(It.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ff(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Nn()}function Oi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new dn(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(i);throw new dn(It.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class dy{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new dn(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dn(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Lv(i,e,t,s){if(!0===e&&!0===s)throw new dn(It.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hf(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new dn(It.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new dn(It.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new dn(It.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Su{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dn(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dn(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Po;switch(t.type){case"firstParty":return new gl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new dn(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ay.get(e);t&&(un("ComponentProvider","Removing Datastore"),ay.delete(e),t.terminate())}(this),Promise.resolve()}}function dg(i,e,t,s={}){var l;const h=(i=Oi(i,Su))._getSettings(),y=`${e}:${t}`;if("firestore.googleapis.com"!==h.host&&h.host!==y&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},h),{host:y,ssl:!1})),s.mockUserToken){let $,ee;if("string"==typeof s.mockUserToken)$=s.mockUserToken,ee=Nr.MOCK_USER;else{$=(0,W.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const le=s.mockUserToken.sub||s.mockUserToken.user_id;if(!le)throw new dn(It.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ee=new Nr(le)}i._authCredentials=new Pa(new Eo($,ee))}}class Wo{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wo(this.firestore,e,this._key)}}class Qs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class qa extends Qs{constructor(e,t,s){super(e,t,bl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wo(this.firestore,null,new kn(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function hy(i,e,...t){if(i=(0,W.m9)(i),Du("collection","path",e),i instanceof Su){const s=kr.fromString(e,...t);return cy(s),new qa(i,null,s)}{if(!(i instanceof Wo||i instanceof qa))throw new dn(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(kr.fromString(e,...t));return cy(s),new qa(i.firestore,null,s)}}function m0(i,e){if(i=Oi(i,Su),Du("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dn(It.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qs(i,null,(t=e,new ma(kr.emptyPath(),t)));var t}function _d(i,e,...t){if(i=(0,W.m9)(i),1===arguments.length&&(e=tn.A()),Du("doc","path",e),i instanceof Su){const s=kr.fromString(e,...t);return ly(s),new Wo(i,null,new kn(s))}{if(!(i instanceof Wo||i instanceof qa))throw new dn(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(kr.fromString(e,...t));return ly(s),new Wo(i.firestore,i instanceof qa?i.converter:null,new kn(s))}}class hg{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mu(this,"async_queue_retry"),this.Xc=()=>{const t=id();t&&un("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=id();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=id();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Mo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,c.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!fs(t))throw t;un("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,qr("INTERNAL UNHANDLED ERROR: ",function(h){let y=h.message||"";return h.stack&&(y=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),y}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=Hh.createAndSchedule(this,e,t,s,h=>this.na(h));return this.zc.push(l),l}Zc(){this.Wc&&Nn()}verifyOperationInProgress(){}sa(){var e=this;return(0,c.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class gi extends Su{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new hg,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mf(this),this._firestoreClient.terminate()}}function gf(i,e){const t="object"==typeof i?i:(0,d.Mq)(),s="string"==typeof i?i:e||"(default)",l=(0,d.qX)(t,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=(0,W.P0)("firestore");h&&dg(l,...h)}return l}function Yi(i){return i._firestoreClient||mf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function mf(i){var e,t,s;const l=i._freezeSettings(),h=($=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ga(i._databaseId,$,i._persistenceKey,(le=l).host,le.ssl,le.experimentalForceLongPolling,le.experimentalAutoDetectLongPolling,hf(le.experimentalLongPollingOptions),le.useFetchStreams));var $,le;i._firestoreClient=new yd(i._authCredentials,i._appCheckCredentials,i._queue,h),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=l.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}class Xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xl(Fn.fromBase64String(e))}catch(t){throw new dn(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xl(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new dn(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yf{constructor(e){this._methodName=e}}class vf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dn(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dn(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bn(this._lat,e._lat)||Bn(this._long,e._long)}}const gg=/^__.*__$/;class Uv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new No(e,this.data,this.fieldMask,t,this.fieldTransforms):new jl(e,this.data,t,this.fieldTransforms)}}class Vv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new No(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nn()}}class _f{constructor(e,t,s,l,h,y){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===h&&this.ua(),this.fieldTransforms=h||[],this.fieldMask=y||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:s,la:!1});return l.fa(e),l}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:s,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(jv(this.ca)&&gg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Hv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ec(e)}ya(e,t,s,l=!1){return new _f({ca:e,methodName:t,ga:s,path:$i.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ad(i){const e=i._freezeSettings(),t=Ec(i._databaseId);return new Hv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function mg(i,e,t,s,l,h={}){const y=i.ya(h.merge||h.mergeFields?2:0,e,t,l);Nc("Data must be an object, but it was:",y,s);const $=Eg(s,y);let ee,le;if(h.merge)ee=new pn(y.fieldMask),le=y.fieldTransforms;else if(h.mergeFields){const Ne=[];for(const ot of h.mergeFields){const Bt=Pd(e,ot,t);if(!y.contains(Bt))throw new dn(It.INVALID_ARGUMENT,`Field '${Bt}' is specified in your field mask but missing from your input data.`);Df(Ne,Bt)||Ne.push(Bt)}ee=new pn(Ne),le=y.fieldTransforms.filter(ot=>ee.covers(ot.field))}else ee=null,le=y.fieldTransforms;return new Uv(new Ki($),ee,le)}class Ef extends yf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}function Za(i,e){if(my(i=(0,W.m9)(i)))return Nc("Unsupported field value:",e,i),Eg(i,e);if(i instanceof yf)return function(t,s){if(!jv(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const l=[];let h=0;for(const y of t){let $=Za(y,s.wa(h));null==$&&($={nullValue:"NULL_VALUE"}),l.push($),h++}return{arrayValue:{values:l}}}(i,e)}return function(t,s){if(null===(t=(0,W.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qd(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Zr.fromDate(t);return{timestampValue:tu(s.serializer,l)}}if(t instanceof Zr){const l=new Zr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tu(s.serializer,l)}}if(t instanceof vf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xl)return{bytesValue:th(s.serializer,t._byteString)};if(t instanceof Wo){const l=s.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw s._a(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:nh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${ff(t)}`)}(i,e)}function Eg(i,e){const t={};return K(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T(i,(s,l)=>{const h=Za(l,e.ha(s));null!=h&&(t[s]=h)}),{mapValue:{fields:t}}}function my(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Zr||i instanceof vf||i instanceof Xl||i instanceof Wo||i instanceof yf)}function Nc(i,e,t){if(!my(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=ff(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function Pd(i,e,t){if((e=(0,W.m9)(e))instanceof xc)return e._internalPath;if("string"==typeof e)return bf(i,e);throw wf("Field path arguments must be of type string or ",i,!1,void 0,t)}const Gv=new RegExp("[~\\*/\\[\\]]");function bf(i,e,t){if(e.search(Gv)>=0)throw wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new xc(...e.split("."))._internalPath}catch{throw wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function wf(i,e,t,s,l){const h=s&&!s.isEmpty(),y=void 0!==l;let $=`Function ${e}() called with invalid data`;t&&($+=" (via `toFirestore()`)"),$+=". ";let ee="";return(h||y)&&(ee+=" (found",h&&(ee+=` in field ${s}`),y&&(ee+=` in document ${l}`),ee+=")"),new dn(It.INVALID_ARGUMENT,$+i+ee)}function Df(i,e){return i.some(t=>t.isEqual(e))}class Au{constructor(e,t,s,l,h){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Wo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ig("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sf extends Au{data(){return super.data()}}function Ig(i,e){return"string"==typeof e?bf(i,e):e instanceof xc?e._internalPath:e._delegate._internalPath}class bg{}class wg extends bg{}function Wv(i,e,...t){let s=[];e instanceof bg&&s.push(e),s=s.concat(t),function(l){const h=l.filter($=>$ instanceof Mu).length,y=l.filter($=>$ instanceof Ru).length;if(h>1||h>0&&y>0)throw new dn(It.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Ru extends wg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ru(e,t,s)}_apply(e){const t=this._parse(e);return wy(e._query,t),new Qs(e.firestore,e.converter,me(e._query,t))}_parse(e){const t=Ad(e.firestore);return function(l,h,y,$,ee,le,Ne){let ot;if(ee.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new dn(It.INVALID_ARGUMENT,`Invalid Query. You can't perform '${le}' queries on documentId().`);if("in"===le||"not-in"===le){by(Ne,le);const Bt=[];for(const rn of Ne)Bt.push(Iy($,l,rn));ot={arrayValue:{values:Bt}}}else ot=Iy($,l,Ne)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||by(Ne,le),ot=function _g(i,e,t,s=!1){return Za(t,i.ya(s?4:3,e))}(y,"where",Ne,"in"===le||"not-in"===le);return ai.create(ee,le,ot)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Kv(i,e,t){const s=e,l=Ig("where",i);return Ru._create(l,s,t)}class Mu extends bg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mu(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Pi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,l){let h=s;const y=l.getFlattenedFilters();for(const $ of y)wy(h,$),h=me(h,$)}(e._query,t),new Qs(e.firestore,e.converter,me(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function vy(...i){return i.forEach(e=>function Rf(i,e){if(!(e instanceof Ru||e instanceof Mu))throw new dn(It.INVALID_ARGUMENT,`Function ${i}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}("and",e)),Mu._create("and",i)}function Iy(i,e,t){if("string"==typeof(t=(0,W.m9)(t))){if(""===t)throw new dn(It.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m(e)&&-1!==t.indexOf("/"))throw new dn(It.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(kr.fromString(t));if(!kn.isDocumentKey(s))throw new dn(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fr(i,new kn(s))}if(t instanceof Wo)return fr(i,t._key);throw new dn(It.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function by(i,e){if(!Array.isArray(i)||0===i.length)throw new dn(It.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wy(i,e){if(e.isInequality()){const s=F(i),l=e.field;if(null!==s&&!s.isEqual(l))throw new dn(It.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${l.toString()}'`);const h=ol(i);null!==h&&function Af(i,e,t){if(!t.isEqual(e))throw new dn(It.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,l,h)}const t=function(s,l){for(const h of s)for(const y of h.getFlattenedFilters())if(l.indexOf(y.op)>=0)return y.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new dn(It.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Tg{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return T(e,(l,h)=>{s[l]=this.convertValue(h,t)}),s}convertGeoPoint(e){return new vf(wr(e.latitude),wr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Xi(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(To(e));default:return null}}convertTimestamp(e){const t=ar(e);return new Zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=kr.fromString(e);Hn(ch(s));const l=new Jo(s.get(1),s.get(3)),h=new kn(s.popFirst(5));return l.isEqual(t)||qr(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function Mf(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Ql{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ou extends Au{constructor(e,t,s,l,h,y){super(e,t,s,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ig("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Od extends Ou{data(e={}){return super.data(e)}}class Fc{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Ql(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Od(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dn(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(y=>({type:"added",doc:new Od(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Ql(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:h++}))}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(y=>l||3!==y.type).map(y=>{const $=new Od(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Ql(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter);let ee=-1,le=-1;return 0!==y.type&&(ee=h.indexOf(y.doc.key),h=h.delete(y.doc.key)),1!==y.type&&(h=h.add(y.doc),le=h.indexOf(y.doc.key)),{type:Sy(y.type),doc:$,oldIndex:ee,newIndex:le}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Sy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nn()}}function Jv(i){i=Oi(i,Wo);const e=Oi(i.firestore,gi);return function iy(i,e,t={}){const s=new Mo;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(l,h,y,$,ee){const le=new og({next:ot=>{h.enqueueAndForget(()=>Gh(l,Ne));const Bt=ot.docs.has(y);!Bt&&ot.fromCache?ee.reject(new dn(It.UNAVAILABLE,"Failed to get document because the client is offline.")):Bt&&ot.fromCache&&$&&"server"===$.source?ee.reject(new dn(It.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ee.resolve(ot)},error:ot=>ee.reject(ot)}),Ne=new Kh(bl(y.path),le,{includeMetadataChanges:!0,Ku:!0});return zh(l,Ne)}(yield wu(i),i.asyncQueue,e,t,s)})),s.promise}(Yi(e),i._key).then(t=>function hl(i,e,t){const s=t.docs.get(e._key),l=new Ml(i);return new Ou(i,l,e._key,s,new Ql(t.hasPendingWrites,t.fromCache),e.converter)}(e,i,t))}class Ml extends Tg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wo(this.firestore,null,t)}}function Pf(i){i=Oi(i,Qs);const e=Oi(i.firestore,gi),t=Yi(e),s=new Ml(e);return function yy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new dn(It.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),function oy(i,e,t={}){const s=new Mo;return i.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function(l,h,y,$,ee){const le=new og({next:ot=>{h.enqueueAndForget(()=>Gh(l,Ne)),ot.fromCache&&"server"===$.source?ee.reject(new dn(It.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ee.resolve(ot)},error:ot=>ee.reject(ot)}),Ne=new Kh(y,le,{includeMetadataChanges:!0,Ku:!0});return zh(l,Ne)}(yield wu(i),i.asyncQueue,e,t,s)})),s.promise}(t,i._query).then(l=>new Fc(e,s,i,l))}function Ty(i,e,t){i=Oi(i,Wo);const s=Oi(i.firestore,gi),l=Mf(i.converter,e,t);return Jl(s,[mg(Ad(s),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,xo.none())])}function Cy(i,e,t,...s){i=Oi(i,Wo);const l=Oi(i.firestore,gi),h=Ad(l);let y;return y="string"==typeof(e=(0,W.m9)(e))||e instanceof xc?function Md(i,e,t,s,l,h){const y=i.ya(1,e,t),$=[Pd(e,s,t)],ee=[l];if(h.length%2!=0)throw new dn(It.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Bt=0;Bt<h.length;Bt+=2)$.push(Pd(e,h[Bt])),ee.push(h[Bt+1]);const le=[],Ne=Ki.empty();for(let Bt=$.length-1;Bt>=0;--Bt)if(!Df(le,$[Bt])){const rn=$[Bt];let Dn=ee[Bt];Dn=(0,W.m9)(Dn);const qn=y.da(rn);if(Dn instanceof Ef)le.push(rn);else{const Qn=Za(Dn,qn);null!=Qn&&(le.push(rn),Ne.set(rn,Qn))}}const ot=new pn(le);return new Vv(Ne,ot,y.fieldTransforms)}(h,"updateDoc",i._key,e,t,s):function If(i,e,t,s){const l=i.ya(1,e,t);Nc("Data must be an object, but it was:",l,s);const h=[],y=Ki.empty();T(s,(ee,le)=>{const Ne=bf(e,ee,t);le=(0,W.m9)(le);const ot=l.da(Ne);if(le instanceof Ef)h.push(Ne);else{const Bt=Za(le,ot);null!=Bt&&(h.push(Ne),y.set(Ne,Bt))}});const $=new pn(h);return new Vv(y,$,l.fieldTransforms)}(h,"updateDoc",i._key,e),Jl(l,[y.toMutation(i._key,xo.exists(!0))])}function Ay(i){return Jl(Oi(i.firestore,gi),[new Jc(i._key,xo.none())])}function Ry(i,e){const t=Oi(i.firestore,gi),s=_d(i),l=Mf(i.converter,e);return Jl(t,[mg(Ad(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,xo.exists(!1))]).then(()=>s)}function Jl(i,e){return function(t,s){const l=new Mo;return t.asyncQueue.enqueueAndForget((0,c.Z)(function*(){return function Iv(i,e,t){return Zh.apply(this,arguments)}(yield function df(i){return vd(i).then(e=>e.syncEngine)}(t),s,l)})),l.promise}(Yi(i),e)}!function(i,e=!0){Yr=d.Jn,(0,d.Xd)(new Y.wA("firestore",(t,{instanceIdentifier:s,options:l})=>{const h=t.getProvider("app").getImmediate(),y=new gi(new pl(t.getProvider("auth-internal")),new Bc(t.getProvider("app-check-internal")),function($,ee){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new dn(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo($.options.projectId,ee)}(h,s),h);return l=Object.assign({useFetchStreams:e},l),y._setSettings(l),y},"PUBLIC").setMultipleInstances(!0)),(0,d.KN)(Lr,"3.13.0",i),(0,d.KN)(Lr,"3.13.0","esm2017")}()},8647:(lt,rt,C)=>{"use strict";C.d(rt,{iZ:()=>M,ql:()=>Y,xv:()=>N});var c=C(6689),d=C(95),Y=(()=>((Y=Y||{})[Y.Financial=0]="Financial",Y[Y.Natural=1]="Natural",Y))();const U=new c.OlP("ngx-currency.config");class W{constructor(A){this._htmlInputElement=A,this._storedRawValue=null}setCursorAt(A){this._htmlInputElement.focus(),this._htmlInputElement.setSelectionRange(A,A)}updateValueAndCursor(A,S,P){this.rawValue=A,this.setCursorAt(P-=S-A.length)}get canInputMoreNumbers(){var A,S;const H=!((null!==(A=null===(S=this.rawValue)||void 0===S?void 0:S.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,""))&&void 0!==A?A:"").length>=this._htmlInputElement.maxLength&&this._htmlInputElement.maxLength>=0),X=this.inputSelection.selectionStart,be=this.inputSelection.selectionEnd,pe=!(X==be||!this._htmlInputElement.value.substring(X,be).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),se="0"==this._htmlInputElement.value.substring(0,1);return H||pe||se}get inputSelection(){var A,S;return{selectionStart:null!==(A=this._htmlInputElement.selectionStart)&&void 0!==A?A:0,selectionEnd:null!==(S=this._htmlInputElement.selectionEnd)&&void 0!==S?S:0}}get rawValue(){return this._htmlInputElement&&this._htmlInputElement.value}set rawValue(A){this._storedRawValue=A,this._htmlInputElement&&(this._htmlInputElement.value=null!=A?A:"")}get storedRawValue(){return this._storedRawValue||""}}class V{constructor(A,S){this._options=S,this._singleDigitRegex=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this._onlyNumbersRegex=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this._perArNumber=new Map([["\u06f0","0"],["\u06f1","1"],["\u06f2","2"],["\u06f3","3"],["\u06f4","4"],["\u06f5","5"],["\u06f6","6"],["\u06f7","7"],["\u06f8","8"],["\u06f9","9"],["\u0660","0"],["\u0661","1"],["\u0662","2"],["\u0663","3"],["\u0664","4"],["\u0665","5"],["\u0666","6"],["\u0667","7"],["\u0668","8"],["\u0669","9"]]),this.inputManager=new W(A)}addNumber(A){const{decimal:S,precision:P,inputMode:H}=this._options,X=String.fromCharCode(A),be=X===this._options.decimal;if(this.rawValue){const pe=this.inputSelection.selectionStart,se=this.inputSelection.selectionEnd,Me=this.rawValue.substring(0,pe);let we=this.rawValue.substring(se,this.rawValue.length);const ne=-1!==Me.indexOf(S);H===Y.Natural&&ne&&pe===se&&(we=we.substring(1));const ye=Me+X+we;let Re=pe+1;if(!be&&X!==this._options.thousands||X!==we[0]){if(!this._singleDigitRegex.test(X))return}else Re++;this.rawValue=ye,this.updateFieldValue(Re)}else{let pe;this.rawValue=this.applyMask(!1,X),H===Y.Natural&&P>0&&(pe=this.rawValue.indexOf(S),be&&pe++),this.updateFieldValue(pe)}}applyMask(A,S,P=!1){const{allowNegative:H,decimal:X,precision:be,prefix:pe,suffix:se,thousands:Me,min:we,inputMode:ne}=this._options;let{max:ye}=this._options,Re=(S=A?new Number(S).toFixed(be):S).replace(this._onlyNumbersRegex,"");if(!Re&&S!==X)return"";ne===Y.Natural&&!A&&!P&&(Re=(S=this.padOrTrimPrecision(S)).replace(this._onlyNumbersRegex,""));let je=Re.slice(0,Re.length-be).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==je&&(je="0");const Ae=parseInt(je);je=je.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,Me),Me&&je.startsWith(Me)&&(je=je.substring(1));let Ee=je;const st=Re.slice(Re.length-be),it=parseInt(st)||0,Ue=S.indexOf("-")>-1;ye=null==ye||null==we?ye:Math.max(ye,we);let Pe=Ae+it/Number("1".padEnd(be+1,"0"));return Pe=Ue?-Pe:Pe,null!=ye&&Pe>ye?this.applyMask(!0,ye+""):null!=we&&Pe<we?this.applyMask(!0,we+""):(be>0&&(Ee+="0"==Ee&&st.length<be?X+"0".repeat(be-1)+st:X+st),(Ue&&H?"-":"")+pe+Ee+se)}padOrTrimPrecision(A){const{decimal:S,precision:P}=this._options;let H=A.lastIndexOf(S);-1===H&&(H=A.length,A+=S);let X=A.substring(H).replace(this._onlyNumbersRegex,"");const be=X.length;if(be<P)for(let pe=be;pe<P;pe++)X+="0";else be>P&&(X=X.substring(0,X.length+P-be));return A.substring(0,H)+S+X}clearMask(A){if(this.isNullable()&&""===A)return null;let S=(A||"0").replace(this._options.prefix,"").replace(this._options.suffix,"");return this._options.thousands&&(S=S.replace(new RegExp("\\"+this._options.thousands,"g"),"")),this._options.decimal&&(S=S.replace(this._options.decimal,".")),this._perArNumber.forEach((P,H)=>{const X=new RegExp(H,"g");S=S.replace(X,P)}),parseFloat(S)}changeToNegative(){var A;this._options.allowNegative&&"-"!=(null===(A=this.rawValue)||void 0===A?void 0:A.charAt(0))&&(this.rawValue=this.applyMask(!1,"-"+(this.rawValue?this.rawValue:"0")))}changeToPositive(){var A,S;this.rawValue=this.applyMask(!1,null!==(A=null===(S=this.rawValue)||void 0===S?void 0:S.replace("-",""))&&void 0!==A?A:"")}removeNumber(A){var S,P,H,X,be,pe,se,Me;const{decimal:we,thousands:ne,prefix:ye,suffix:Re,inputMode:je}=this._options;if(this.isNullable()&&0==this.value)return void(this.rawValue=null);let Ae=this.inputSelection.selectionEnd,Ee=this.inputSelection.selectionStart;const st=(null!==(S=null===(P=this.rawValue)||void 0===P?void 0:P.length)&&void 0!==S?S:0)-Re.length;if(Ae=Math.min(st,Math.max(Ae,ye.length)),Ee=Math.min(st,Math.max(Ee,ye.length)),Ee===Ae&&this.inputSelection.selectionStart!==this.inputSelection.selectionEnd)return void this.updateFieldValue(Ee);let it=null!==(H=null===(X=this.rawValue)||void 0===X?void 0:X.indexOf(we))&&void 0!==H?H:-1;var Ue,Ie;-1===it&&(it=null!==(Ue=null===(Ie=this.rawValue)||void 0===Ie?void 0:Ie.length)&&void 0!==Ue?Ue:0);let Pe=0,Je="";const ut=it<Ae,$t=it+1===Ae;if(Ae===Ee)if(8==A){var mt,De,Le;if(Ee<=ye.length)return;Ee--,null!==(mt=this.rawValue)&&void 0!==mt&&mt.substring(Ee,Ee+1).match(/\d/)||Ee--,je===Y.Natural&&ut&&(Pe=-1,$t&&(null!==(De=this.value)&&void 0!==De?De:0)<10&&(null!==(Le=this.value)&&void 0!==Le?Le:0)>-10&&(Je+="0"))}else if(46==A||63272==A){var He;if(Ee===st)return;Ae++,null!==(He=this.rawValue)&&void 0!==He&&He.substring(Ee,Ee+1).match(/\d/)||(Ee++,Ae++)}if(je===Y.Natural&&Ee>it){const St=Ae-Ee;for(let zt=0;zt<St;zt++)Je+="0"}let Xe=(null!==(be=null===(pe=this.rawValue)||void 0===pe?void 0:pe.length)&&void 0!==be?be:0)-Ae;this.rawValue=(null===(se=this.rawValue)||void 0===se?void 0:se.substring(0,Ee))+Je+(null===(Me=this.rawValue)||void 0===Me?void 0:Me.substring(Ae)),this.rawValue.substring(ye.length,ye.length+1)===ne&&(this.rawValue=this.rawValue.substring(0,ye.length)+this.rawValue.substring(ye.length+1),Xe=Math.min(Xe,this.rawValue.length-ye.length)),this.updateFieldValue(this.rawValue.length-Xe+Pe,!0)}updateFieldValue(A,S=!1){var P,H,X,be,pe,se,Me,we;const ne=this.applyMask(!1,null!==(P=this.rawValue)&&void 0!==P?P:"",S);null!==(H=A)&&void 0!==H||(A=null!==(X=null===(be=this.rawValue)||void 0===be?void 0:be.length)&&void 0!==X?X:0),A=Math.max(this._options.prefix.length,Math.min(A,(null!==(pe=null===(se=this.rawValue)||void 0===se?void 0:se.length)&&void 0!==pe?pe:0)-this._options.suffix.length)),this.inputManager.updateValueAndCursor(ne,null!==(Me=null===(we=this.rawValue)||void 0===we?void 0:we.length)&&void 0!==Me?Me:0,A)}updateOptions(A){const S=this.value;this._options=A,this.value=S}prefixLength(){return this._options.prefix.length}suffixLength(){return this._options.suffix.length}isNullable(){return this._options.nullable}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(A){this.inputManager.rawValue=A}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(A){this.rawValue=this.applyMask(!0,""+A)}_isNullOrUndefined(A){return null==A}}class O{constructor(A,S){this.inputService=new V(A,S)}handleCut(){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(){var A;const S=null!==(A=this.inputService.rawValue)&&void 0!==A?A:"",P=this.inputService.inputSelection.selectionStart,H=S.charCodeAt(P-1),X=S.length,be=this.inputService.storedRawValue.length;if(1!=Math.abs(X-be))return this.inputService.updateFieldValue(P),void this.onModelChange(this.inputService.value);this.inputService.rawValue=this.inputService.storedRawValue,X<be&&this.timer(()=>{this.inputService.updateFieldValue(P+1),this.inputService.removeNumber(8),this.onModelChange(this.inputService.value)},0),X>be&&(this.inputService.updateFieldValue(P-1),this._handleKeypressImpl(H))}handleKeydown(A){const S=A.which||A.charCode||A.keyCode;var P,H;8!=S&&46!=S&&63272!=S||(A.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=(null!==(P=null===(H=this.inputService.rawValue)||void 0===H?void 0:H.length)&&void 0!==P?P:0)-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(S),this.onModelChange(this.inputService.value)))}clearValue(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}handleKeypress(A){const S=A.which||A.charCode||A.keyCode;A.preventDefault(),(97!==S||!A.ctrlKey)&&this._handleKeypressImpl(S)}_handleKeypressImpl(A){switch(A){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:var S,P;this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==(null!==(S=null===(P=this.inputService.rawValue)||void 0===P?void 0:P.length)&&void 0!==S?S:0)&&this.setValue(null),this.inputService.addNumber(A))}this.onModelChange(this.inputService.value)}handlePaste(){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(A){this.inputService.updateOptions(A)}getOnModelChange(){return this.onModelChange}setOnModelChange(A){this.onModelChange=A}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(A){this.onModelTouched=A}setValue(A){this.inputService.value=A}timer(A,S){setTimeout(A,S)}}let N=(()=>{class _{constructor(S,P,H){this._elementRef=H,this.options={},this._optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:Y.Financial,...S},this._keyValueDiffer=P.find({}).create()}ngOnInit(){this._inputHandler=new O(this._elementRef.nativeElement,{...this._optionsTemplate,...this.options})}ngAfterViewInit(){var S,P;this._elementRef.nativeElement.style.textAlign=null!==(S=null===(P=this.options)||void 0===P?void 0:P.align)&&void 0!==S?S:this._optionsTemplate.align}ngDoCheck(){var S,P;this._keyValueDiffer.diff(this.options)&&(this._elementRef.nativeElement.style.textAlign=null!==(S=null===(P=this.options)||void 0===P?void 0:P.align)&&void 0!==S?S:this._optionsTemplate.align,this._inputHandler.updateOptions({...this._optionsTemplate,...this.options}))}handleBlur(S){this._inputHandler.getOnModelTouched().apply(S)}handleCut(){this.isChromeAndroid()||!this.isReadOnly()&&this._inputHandler.handleCut()}handleInput(){this.isChromeAndroid()&&!this.isReadOnly()&&this._inputHandler.handleInput()}handleKeydown(S){this.isChromeAndroid()||!this.isReadOnly()&&this._inputHandler.handleKeydown(S)}handleKeypress(S){this.isChromeAndroid()||!this.isReadOnly()&&this._inputHandler.handleKeypress(S)}handlePaste(){this.isChromeAndroid()||!this.isReadOnly()&&this._inputHandler.handlePaste()}handleDrop(S){this.isChromeAndroid()||S.preventDefault()}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}isReadOnly(){return this._elementRef.nativeElement.hasAttribute("readonly")}registerOnChange(S){this._inputHandler.setOnModelChange(S)}registerOnTouched(S){this._inputHandler.setOnModelTouched(S)}setDisabledState(S){this._elementRef.nativeElement.disabled=S}writeValue(S){this._inputHandler.setValue(S)}}return _.\u0275fac=function(S){return new(S||_)(c.Y36(U,8),c.Y36(c.aQg),c.Y36(c.SBq))},_.\u0275dir=c.lG2({type:_,selectors:[["","currencyMask",""]],hostBindings:function(S,P){1&S&&c.NdJ("blur",function(X){return P.handleBlur(X)})("cut",function(){return P.handleCut()})("input",function(){return P.handleInput()})("keydown",function(X){return P.handleKeydown(X)})("keypress",function(X){return P.handleKeypress(X)})("paste",function(){return P.handlePaste()})("drop",function(X){return P.handleDrop(X)})},inputs:{options:"options"},standalone:!0,features:[c._Bn([{provide:d.JU,useExisting:(0,c.Gpc)(()=>_),multi:!0}])]}),_})();function M(_){return(0,c.MR2)([{provide:U,useValue:_}])}},5861:(lt,rt,C)=>{"use strict";function c(Y,U,W,V,O,N,M){try{var _=Y[N](M),A=_.value}catch(S){return void W(S)}_.done?U(A):Promise.resolve(A).then(V,O)}function d(Y){return function(){var U=this,W=arguments;return new Promise(function(V,O){var N=Y.apply(U,W);function M(A){c(N,V,O,M,_,"next",A)}function _(A){c(N,V,O,M,_,"throw",A)}M(void 0)})}}C.d(rt,{Z:()=>d})},7582:(lt,rt,C)=>{"use strict";function U(De,Le){var He={};for(var Xe in De)Object.prototype.hasOwnProperty.call(De,Xe)&&Le.indexOf(Xe)<0&&(He[Xe]=De[Xe]);if(null!=De&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(Xe=Object.getOwnPropertySymbols(De);dt<Xe.length;dt++)Le.indexOf(Xe[dt])<0&&Object.prototype.propertyIsEnumerable.call(De,Xe[dt])&&(He[Xe[dt]]=De[Xe[dt]])}return He}function W(De,Le,He,Xe){var zt,dt=arguments.length,St=dt<3?Le:null===Xe?Xe=Object.getOwnPropertyDescriptor(Le,He):Xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)St=Reflect.decorate(De,Le,He,Xe);else for(var Qt=De.length-1;Qt>=0;Qt--)(zt=De[Qt])&&(St=(dt<3?zt(St):dt>3?zt(Le,He,St):zt(Le,He))||St);return dt>3&&St&&Object.defineProperty(Le,He,St),St}function S(De,Le,He,Xe){return new(He||(He=Promise))(function(St,zt){function Qt(Ct){try{Rt(Xe.next(Ct))}catch(Pt){zt(Pt)}}function ht(Ct){try{Rt(Xe.throw(Ct))}catch(Pt){zt(Pt)}}function Rt(Ct){Ct.done?St(Ct.value):function dt(St){return St instanceof He?St:new He(function(zt){zt(St)})}(Ct.value).then(Qt,ht)}Rt((Xe=Xe.apply(De,Le||[])).next())})}function ne(De){return this instanceof ne?(this.v=De,this):new ne(De)}function ye(De,Le,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,Xe=He.apply(De,Le||[]),St=[];return dt={},zt("next"),zt("throw"),zt("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function zt(Wt){Xe[Wt]&&(dt[Wt]=function(an){return new Promise(function(In,vn){St.push([Wt,an,In,vn])>1||Qt(Wt,an)})})}function Qt(Wt,an){try{!function ht(Wt){Wt.value instanceof ne?Promise.resolve(Wt.value.v).then(Rt,Ct):Pt(St[0][2],Wt)}(Xe[Wt](an))}catch(In){Pt(St[0][3],In)}}function Rt(Wt){Qt("next",Wt)}function Ct(Wt){Qt("throw",Wt)}function Pt(Wt,an){Wt(an),St.shift(),St.length&&Qt(St[0][0],St[0][1])}}function je(De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Le=De[Symbol.asyncIterator];return Le?Le.call(De):(De=function be(De){var Le="function"==typeof Symbol&&Symbol.iterator,He=Le&&De[Le],Xe=0;if(He)return He.call(De);if(De&&"number"==typeof De.length)return{next:function(){return De&&Xe>=De.length&&(De=void 0),{value:De&&De[Xe++],done:!De}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(De),He={},Xe("next"),Xe("throw"),Xe("return"),He[Symbol.asyncIterator]=function(){return this},He);function Xe(St){He[St]=De[St]&&function(zt){return new Promise(function(Qt,ht){!function dt(St,zt,Qt,ht){Promise.resolve(ht).then(function(Rt){St({value:Rt,done:Qt})},zt)}(Qt,ht,(zt=De[St](zt)).done,zt.value)})}}}C.d(rt,{FC:()=>ye,KL:()=>je,_T:()=>U,gn:()=>W,mG:()=>S,qq:()=>ne}),"function"==typeof SuppressedError&&SuppressedError}},lt=>{lt(lt.s=3340)}]);